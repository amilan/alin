<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <title>Em#</title>
    <link rel="shortcut icon" href="{{ static_url('images/favicon.gif') }}">
    <link rel="stylesheet" type="text/css" href="{{ static_url('default.css') }}">

    <script type="text/javascript">
        function refreshTime() {
            var dt = new Date();
            var d = dt.toDateString(); 
            var h = dt.getHours();
            var mi = ('0'+dt.getMinutes()).slice(-2);
            var s = ('0'+dt.getSeconds()).slice(-2);
            document.getElementById("time").innerHTML = "<b>"+d+" "+h+":"+mi+":"+s+"</b>";
        } 
        setInterval("refreshTime();", 1000)
    </script>
    
</head>
<body>
    <p></p>
    <h1>
        <div class="img-wrapper"><img src="{{ static_url('images/official_logo.gif') }}" alt="Site" title="ALBA" align="left" height="106" width="288" style="vertical-align: middle;"/></div>
        <div class="img-wrapper-right" >
            <a id="portal-logo" title="Español" accesskey="1" href="http://www.cells.es/es">    
                <img src="{{ static_url('images/logo.gif') }}" alt="Site" title="ALBA" align="right" height="125" width="228" style="vertical-align: botom;"/></a>    
        </div>
    </h1>

    <div class="topmenu">
    <span id="time"></span>
    &nbsp&nbsp&nbsp
    <a href="{{ static_url('doc/InstructionManual.pdf') }}" title="Download as PDF file" style="text-align: right;font-size: 1.6vh;"><img src="static/images/PDF.gif" height="25" width="25">&nbsp</a>
    &nbsp
    <a href="usermanual.html" title="User Manual" style="text-align: right;font-size: 1.6vh;">&nbsp<img src="static/images/question.png" height="25" width="25" style="background-color: white;"/>&nbsp</a>
    &nbsp
    <a href="index.html" title="Go to Main Page" style="text-align: right; font-size: 1.6vh;">&nbsp<img src="static/images/home.gif" height="25" width="25" style="background-color: white;"/>&nbsp</a>
    </div>     
    
    <p class="info" style="font-size: 22px;padding: 10px 12px;text-align: left">CONTENTS</p>     
    <table  border=1 frame=hsides rules=rows bordercolor="white"><caption>&nbsp;</caption>
    <tbody>
        <tr>
            <td> <a class="table_cell_text" href="#1. Introduction">1. DESCRIPTION</a></td>
            <td style="text-indent:.2in;"> <a class="table_cell_text" href="#3.5. Channel Commands">3.5. Channel Commands</a></td>
            <td> <a class="table_cell_text" href="#4. TABLE SUMMARY">4. TABLE SUMMARY</a></td>
        </tr>
        <tr>
            <td> <a class="table_cell_text" href="#2. CONTROL">2. CONTROL</a></td>
            <td style="text-indent:.4in;"> <a class="table_cell_text" href="#3.5.1. AVGCurrent">3.5.1. AVGCurrent</a></td>
            <td> <a class="table_cell_text" href="#5. TANGO DEVICE SERVER">5. TANGO DEVICE SERVER</a></td>
        </tr>
        <tr>
            <td style="text-indent:.2in;"> <a class="table_cell_text" href="#2.1. SCPI Command Syntax">2.1. SCPI Command Syntax</a></td>
            <td style="text-indent:.4in;"> <a class="table_cell_text" href="#3.5.2. CURRent">3.5.2. CURRent</a></td>
            <td style="text-indent:.2in;"> <a class="table_cell_text" href="#5.1. Properties">5.1. Properties</a></td>            
        </tr>
        <tr>
            <td> <a class="table_cell_text" href="#3. COMMANDS">3. COMMANDS</a></td>
            <td style="text-indent:.4in;"> <a class="table_cell_text" href="#3.5.3. INSCurrent">3.5.3. INSCurrent</a></td>
            <td style="text-indent:.2in;"> <a class="table_cell_text" href="#5.2. Commands">5.2. Commands</a></td>            
        </tr>
        <tr>
            <td style="text-indent:.2in;"> <a class="table_cell_text" href="#3.1. General Commands">3.1. General Commands</a></td>
            <td style="text-indent:.4in;"> <a class="table_cell_text" href="#3.5.4. CABO">3.5.4. CABO</a></td>
            <td style="text-indent:.2in;"> <a class="table_cell_text" href="#5.3. Atributes">5.3. Atributes</a></td>
        </tr>
        <tr>
            <td style="text-indent:.4in;"> <a class="table_cell_text" href="#3.1.1. *IDN">3.1.1. *IDN</a></td>
            <td style="text-indent:.6in;"> <a class="table_cell_text" href="#3.5.4.1. FILTer">3.5.4.1. FILTer</a></td>
            <td> <a class="table_cell_text" href="#6. WEB SERVER">6. WEB SERVER</a></td>
        </tr>
        <tr>
            <td style="text-indent:.4in;"> <a class="table_cell_text" href="#3.1.2. *MAC">3.1.2. *MAC</a></td>
            <td style="text-indent:.6in;"> <a class="table_cell_text" href="#3.5.4.2. INIT">3.5.4.2. INIT</a></td>
            <td> <a class="table_cell_text" href="#A. APPENDIX">A. APPENDIX</a></td>
        </tr>
        <tr>
            <td style="text-indent:.4in;"> <a class="table_cell_text" href="#3.1.3. *HLP">3.1.3. *HLP</a></td>
            <td style="text-indent:.6in;"> <a class="table_cell_text" href="#3.5.4.3. INVErsion">3.5.4.3. INVErsion</a></td>
            <td style="text-indent:.2in;"> <a class="table_cell_text" href="#A.1.">A.1. Settings for software trigger and full
            acquisition in FIFO FPGA</a></td>    
        </tr>
        <tr>
            <td style="text-indent:.4in;"> <a class="table_cell_text" href="#3.1.4. *RST">3.1.4. *RST</a></td>
            <td style="text-indent:.6in;"> <a class="table_cell_text" href="#3.5.4.4. POSTfilter">3.5.4.4. POSTfilter</a></td>
            <td style="text-indent:.2in;"> <a class="table_cell_text" href="#A.2.">A.2. Settings for software trigger and
            partial acquisition in FIFO FPGA</a></td>
        </tr>
        <tr>
            <td style="text-indent:.4in;"> <a class="table_cell_text" href="#3.1.5. *SHT">3.1.5. *SHT</a></td>
            <td style="text-indent:.6in;"> <a class="table_cell_text" href="#3.5.4.5. PREFilter">3.5.4.5. PREFilter</a></td>
            <td style="text-indent:.2in;"> <a class="table_cell_text" href="#A.3.">A.3. Settings for hardware trigger and
            full acquisition in FIFO FPGA</a></td>    
        </tr>
        <tr>
            <td style="text-indent:.4in;"> <a class="table_cell_text" href="#3.1.6. RECOnfigure">3.1.6. RECOnfigure</a></td>
            <td style="text-indent:.6in;"> <a class="table_cell_text" href="#3.5.4.6 RANGe">3.5.4.6 RANGe</a></td>
            <td style="text-indent:.2in;"> <a class="table_cell_text" href="#A.4.">A.4. Settings for hardware trigger and
            partial acquisition in FIFO FPGA</a></td>   
        </tr>
        <tr>
            <td style="text-indent:.4in;"> <a class="table_cell_text" href="#3.1.7. FWVErsion">3.1.7. FWVErsion</a></td>
            <td style="text-indent:.6in;"> <a class="table_cell_text" href="#3.5.4.7. TEMPerature">3.5.4.7. TEMPerature</a></td>            
            <td></td>   
        </tr>
        <tr>
            <td style="text-indent:.2in;"> <a class="table_cell_text" href="#3.2. Diagnostics Commands">3.2. Diagnostics Commands</a></td>
            <td style="text-indent:.6in;"> <a class="table_cell_text" href="#3.5.4.8. TIGAin">3.5.4.8. TIGAin</a></td>            
            <td></td>   
        </tr>
        <tr>
            <td style="text-indent:.4in;"> <a class="table_cell_text" href="#3.2.1. CBTEmperature">3.2.1. CBTEmperature</a></td>
            <td style="text-indent:.6in;"> <a class="table_cell_text" href="#3.5.4.9. VGAIn">3.5.4.9. VGAIn</td>            
            <td></td>   
        </tr>
        <tr>
            <td style="text-indent:.4in;"> <a class="table_cell_text" href="#3.2.2. FETEmperature">3.2.2. FETEmperature</a></td>
            <td style="text-indent:.2in;"> <a class="table_cell_text" href="#3.6. IOPort Commands">3.6. IOPort Commands</a></td>            
            <td></td>   
        </tr>
        <tr>
            <td style="text-indent:.4in;"> <a class="table_cell_text" href="#3.2.3. VSENse">3.2.3. VSENse</a></td>    
            <td style="text-indent:.4in;"> <a class="table_cell_text" href="#3.6.1. CONFig">3.6.1. CONFig</a></td>
            <td></td>   
        </tr>
        <tr>
            <td style="text-indent:.2in;"> <a class="table_cell_text" href="#3.3. Trigger Commands">3.3. Trigger Commands</a></td>
            <td style="text-indent:.4in;"> <a class="table_cell_text" href="#3.6.2. NAME">3.6.2. NAME</a></td>
            <td></td>   
        </tr>
        <tr>
            <td style="text-indent:.4in;"> <a class="table_cell_text" href="#3.3.1. DELAy">3.3.1. DELAy</a></td>
            <td style="text-indent:.4in;"> <a class="table_cell_text" href="#3.6.3. VALUe">3.6.3. VALUe</a></td> 
            <td></td>   
        </tr>
        <tr>
            <td style="text-indent:.4in;"> <a class="table_cell_text" href="#3.3.2. INPUt">3.3.2. INPUt</a></td>
            <td style="text-indent:.2in;"> <a class="table_cell_text" href="#3.7. Voltage Supply Commands">3.7. Voltage Supply Commands</a></td>
            <td></td>   
        </tr>
        <tr>
            <td style="text-indent:.4in;"> <a class="table_cell_text" href="#3.3.3. MODE">3.3.3. MODE</a></td>
            <td style="text-indent:.4in;"> <a class="table_cell_text" href="#3.7.1. VALUe">3.7.1. VALUe</a></td>
            <td></td>   
        </tr>
        <tr>
            <td style="text-indent:.4in;"> <a class="table_cell_text" href="#3.3.4. POLArity">3.3.4. POLArity</a></td>
            <td style="text-indent:.2in;"> <a class="table_cell_text" href="#3.8. DAC Commands">3.8. DAC Commands</a></td>
            <td></td>   
        </tr>
        <tr>
            <td style="text-indent:.4in;"> <a class="table_cell_text" href="#3.3.5. SWSEt">3.3.5. SWSEt</a></td>
            <td style="text-indent:.4in;"> <a class="table_cell_text" href="#3.8.1. GAIN">3.8.1. GAIN</a></td>
            <td></td>   
        </tr>
        <tr>
            <td style="text-indent:.4in;"> <a class="table_cell_text" href="#3.3.6. STATe">3.3.6. STATe</a></td>
            <td style="text-indent:.2in;"> <a class="table_cell_text" href="#3.9. High Voltage Commands*>">3.9. High Voltage Commands<strong>*</strong></a></td>
            <td></td>   
        </tr>
        <tr>
            <td style="text-indent:.2in;"> <a class="table_cell_text" href="#3.4. Acquisition Commands">3.4. Acquisition Commands</a></td>
            <td style="text-indent:.4in;"> <a class="table_cell_text" href="#3.9.1. AVERage*">3.9.1. AVERage<strong>*</strong></a></td>
            <td></td>   
         </tr>
        <tr>
            <td style="text-indent:.4in;"> <a class="table_cell_text" href="#3.4.1. FILTer">3.4.1. FILTer</a></td>
            <td style="text-indent:.4in;"> <a class="table_cell_text" href="#3.9.2. MAXLimit*">3.9.2. MAXLimit<strong>*</strong></a></td>
            <td></td>   
        </tr>
        <tr>
            <td style="text-indent:.4in;"> <a class="table_cell_text" href="#3.4.2. MEAS">3.4.2. MEAS</a></td>
            <td style="text-indent:.4in;"> <a class="table_cell_text" href="#3.9.3. MAXVoltage*">3.9.3. MAXVoltage<strong>*</strong></a></td>
            <td></td>   
        </tr>
        <tr>
            <td style="text-indent:.4in;"> <a class="table_cell_text" href="#3.4.3. NDATa">3.4.3. NDATa</a></td>
            <td style="text-indent:.4in;"> <a class="table_cell_text" href="#3.9.4. MINLimit*">3.9.4. MINLimit<strong>*</strong></a></td>
            <td></td>   
        </tr>
        <tr>
            <td style="text-indent:.4in;"> <a class="table_cell_text" href="#3.4.4. RANGe">3.4.4. RANGe</a></td>
            <td style="text-indent:.4in;"> <a class="table_cell_text" href="#3.9.5. MINVoltage*">3.9.5. MINVoltage<strong>*</strong></a></td>
            <td></td>   
        </tr>
        <tr>
            <td style="text-indent:.4in;"> <a class="table_cell_text" href="#3.4.5. STARt">3.4.5. STARt</a></td>    
            <td style="text-indent:.4in;"> <a class="table_cell_text" href="#3.9.6. RELAy*">3.9.6. RELAy<strong>*</strong></a></td>
            <td></td>   
        </tr>
        <tr>
            <td style="text-indent:.4in;"> <a class="table_cell_text" href="#3.4.6. STATe">3.4.6. STATe</a></td>
            <td style="text-indent:.4in;"> <a class="table_cell_text" href="#3.9.7. RESEt*">3.9.7. RESEt<strong>*</strong></a></td>
            <td></td>   
        </tr>
        <tr>
            <td style="text-indent:.4in;"> <a class="table_cell_text" href="#3.4.7. STOP">3.4.7. STOP</a></td>
            <td style="text-indent:.4in;"> <a class="table_cell_text" href="#3.9.8. STATe*">3.9.8. STATe<strong>*</strong></a></td>
            <td></td>   
        </tr>
        <tr>
            <td style="text-indent:.4in;"> <a class="table_cell_text" href="#3.4.8. TIME">3.4.8. TIME</a></td>
            <td style="text-indent:.4in;"> <a class="table_cell_text" href="#3.9.9. VOLTage*">3.9.9. VOLTage<strong>*</strong></a></td>            
            <td></td>   
        </tr>
    </body>
    </table>
    
    </br>
    <p class="info">&nbsp</p>
    
    <h1 align="justify"><a name="1. Introduction"></a>1. DESCRIPTION</h1>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>High
    accuracy low current readout is an extensively demanded technique in 3<sup>rd</sup>
    generation synchrotrons. They comprise a need both for diagnostics such as for
    data acquisition in today's photon labs. In order to tackle the problem of
    measuring from various sources of different nature and magnitude synchronously,
    while remaining flexible at the same time, ALBA developed years ago a 4
    independent channel electrometer, the ALBA Em, based on trans impedance
    amplifiers with high resolution ADC converters integrated and an Ethernet
    communication port. </span></p>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>The
    new ALBA Em</span><span lang=EN-GB style='font-family:"Times New Roman","serif";
    font-weight:normal;font-style:normal'>#</span><span lang=EN-GB
    style='font-weight:normal;font-style:normal'> is a 4-channel electrometer
    evolution of that ALBA Em widely used in at ALBA from 2011. This new redesign intends
    to be more versatile and customizable equipment than the original model, providing
    a wide range of functionalities to fulfil unique and complex experiments by
    means of configuration changes instead of having specific instruments. </span></p>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>It
    is based on a SPEC board (simple PCIe FMC carrier) with customizable FMC cards
    and an SBC (Single Board Computer), altogether built in a single cost-optimized
    instrument. Full embedded control software is included, based on a Linux OS
    that communicates with the SPEC's FPGA using the PCIe bus. This approach
    enables the integration of complex operations and functions in real time to
    higher software layers, as well as the local control, setup and diagnostics via
    an integrated touch-screen display controlled by I2C protocol. For a user-level
    control, the system provides an SCPI API (Standard Commands for Programmable
    Instruments) allowing an easy integration to any control system. This paper
    describes the design process, main aspects of the data acquisition and the
    expected benefits during the integration in the Control System. </span></p>

    </br>
    <p></p>
    <h1 align="justify"><a name="2. CONTROL"></a>2. CONTROL</h1>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>The
    ALBA Em</span><span lang=EN-GB style='font-family:"Times New Roman","serif";
    font-weight:normal;font-style:normal'># commands</span><span lang=EN-GB
    style='font-weight:normal;font-style:normal'> uses the </span><span lang=EN-GB>Standard
    Commands for Programmable Instrumets (SCPI)</span><span lang=EN-GB
    style='font-weight:normal;font-style:normal'> as an control standard that specifies
    a common syntax, command structure, and data formats, used with all
    instruments. </span></p>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>The
    physical communications link is not defined by SCPI. While originally created
    for IEEE-488 (GPIB), it can also be used with RS-232, Ethernet, USB, VXIbus,
    HiSLIP, etc. In our development, we use </span><span lang=EN-GB>Ethernet, </span><span
    lang=EN-GB style='font-weight:normal;font-style:normal'>and more specifically,
    we use </span><span lang=EN-GB>telnet</span><span lang=EN-GB style='font-weight:
    normal;font-style:normal'> which is the application layer that provides a
    bidirectional interactive text-oriented communication facility using a virtual
    terminal connection used on internet or local area networks.</span></p>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>To
    connect with the electrometer execute telnet from Linux or Windows commad line
    and then open the communications port with the Alba Em</span><span lang=EN-GB
    style='font-family:"Times New Roman","serif";font-weight:normal;font-style:
    normal'># as follows:</span></p>

    <p class=Text style='margin-left:.5in'><span lang=EN-GB style='font-family:
    "Times New Roman","serif";font-style:normal'>telnet&gt; open </span><span
    lang=EN-GB style='font-family:"Times New Roman","serif"'>&lt;electrometers_hostname_or_ipaddress&gt;</span><span
    lang=EN-GB style='font-family:"Times New Roman","serif";font-style:normal'>
    5025</span></p>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>Remember
    that a telnet communication is closed pressing </span><span lang=EN-GB
    style='font-style:normal'>CTRL+</span><span lang=EN-GB style='font-family:"Times New Roman","serif";
    font-style:normal'>]</span><span lang=EN-GB style='font-weight:normal;
    font-style:normal'> , write </span><span lang=EN-GB style='font-style:normal'>quit</span><span
    lang=EN-GB style='font-weight:normal;font-style:normal'> and then press ENTER
    to close the connection.</span></p>

    </br>
    <p></p>
    <h2 align="justify"><a name="2.1. SCPI Command Syntax"></a>2.1. SCPI Command Syntax</h2>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>SCPI
    commands are ASCII textual strings, which are sent to the instrument over the
    physical layer. Commands are a series of one or more keywords, many of which
    take parameters. In the specification, keywords are written in capital letters
    and use to be the first four letters of a command. The entire keyword can be
    used, or it can be abbreviated to just the uppercase portion. Responses to
    query commands are typically ASCII strings. However, for bulk data, binary
    formats can be used. </span></p>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>SCPI
    commands to an instrument may either perform a set operation (e.g. switching a
    power supply on) or a query operation (e.g. reading a voltage). Queries are
    issued to an instrument by appending a question-mark to the end of a command.
    Some commands can be used for both setting and querying an instrument. For
    example:</span></p>

    <p class=Text style='margin-left:.5in'><span lang=EN-GB style='font-family:
    "Times New Roman","serif";font-style:normal'>:MEASure::VOLTage?</span></p>
    <p class=Text style='margin-left:.5in'><span lang=EN-GB style='font-family:
    "Times New Roman","serif";font-style:normal'>*CAL?</span></p>
    
    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>Similar
    commands are grouped into a hierarchy or &quot;tree&quot; structure, while specific
    sub-commands within the hierarchy are nested with a colon (:) character. </span></p>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>Some
    commands require an additional argument. Arguments are given after the command,
    and are separated by a space. For example, the command to set the trigger mode:</span></p>

    <p class=Text style='text-indent:.5in'><span lang=EN-GB style='font-weight:
    normal;font-style:normal'>&quot;TRIGger:MODe SOFTware</span></p>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>Here,
    the word &quot;NORMal&quot; is used as the argument to the
    &quot;TRIGger:MODe&quot; command.</span></p>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>Multiple
    commands can be issued to an instrument in a single string. They are made of
    simple commands separated by a semicolon character (;). For example, the
    command to &quot;Measure a DC voltage then measure an AC current&quot; would be
    issued as MEASure:VOLTage:DC?;:MEASure:CURRent:AC?.</span></p>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>Simple
    commands which start with a colon (:) are interpreted with respect to the root
    of the command tree. Otherwise, they refer implicitly to the last node of the
    previous command (unless they already begin with an asterisk). </span></p>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>The
    command syntax shows some characters in a mixture of upper and lower case.
    Abbreviating the command to only sending the upper case has the same meaning as
    sending the upper and lower case command.</span></p>

    </br>
    <p></p>
    <h1 align="justify"><a name="3. COMMANDS"></a>3. COMMANDS</h1>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>This
    section describes the list of commands implemented in the ALBA Em</span><span
    lang=EN-GB style='font-family:"Times New Roman","serif";font-weight:normal;
    font-style:normal'>#</span><span lang=EN-GB style='font-weight:normal;
    font-style:normal'> using SCPI. As pointed in section 2, these commands are
    sent using the </span><span lang=EN-GB style='font-weight:normal'>Telnet
    protocol through port 5025.</span></p>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>They
    are group by its purpose, general commands wich affect to overall EM# or channel
    specific commands which are related to a particular channel. In this development
    we are using four independent channels named as CHAN01, CHAN02, CHAN03 and CHAN04.
    </span></p>
    
    </br>
    <p></p>
    <h2 align="justify"><a name="3.1. General Commands"></a>3.1. General Commands</h2>
    
    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>These
    general commands are used to configure and check the general status of the
    instrument or common modules to all channels, like the frontend board or the
    carrier board. </span></p>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>They
    are used to get information about the status of the instrument or perform
    global actions that affect to the complete instrument</span></p>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>They
    aren't group inside any component, so they can be directly executed.</span></p>

    </br>
    <p></p>
    <h3 align="justify"><a name="3.1.1. *IDN"></a>3.1.1. *IDN</h3>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>This
    is an special and </span><span lang=EN-GB>mandatory</span><span lang=EN-GB
    style='font-weight:normal;font-style:normal'> command that returns the
    identification information of tis instrument. IT returns information about the
    equipment name, the serial number and the software version. </span></p>

    <p></p>
    <table  border=1 frame=hsides rules=rows bordercolor="white"><caption>&nbsp;</caption>
    <tbody>
        <tr>
            <th class="table_cell_text_title" width="15%"> Usage: </th>
            <td class="table_cell_text">*IDN?</td>
        </tr>
        <tr>            
            <th class="table_cell_text_title" width="15%"> Type: </th>
            <td class="table_cell_text">READ_ONLY</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Returns: </th>
            <td class="table_cell_text">&lt;string&gt; that contains general equipment
                information.</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Ex.: </th>
            <td class="table_cell_text">*IDN?
            <div class="table_cell_text"><i>ALBASYNCHROTRON,Electrometer2,000000000,0.2.2</i></div>
            </td>
        </tr>
    </tbody>
    </table>

    </br>
    <p><strong>Technical description</strong></p>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>This
    command returns the information about Manufacurer, Instrument name, Serial
    Number and software version. The first three items are got from the configuration
    file which is used to configure the instrument. These parameters can be
    modified during production without changing the software.</span></p>

    </br>
    <p></p>
    <h3 align="justify"><a name="3.1.2. *MAC"></a>3.1.2. *MAC</h3>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>This
    is another special and </span><span lang=EN-GB>mandatory</span><span
    lang=EN-GB style='font-weight:normal;font-style:normal'> command that returns
    the mac address of this equipment </span></p>

    <p></p>
    <table  border=1 frame=hsides rules=rows bordercolor="white"><caption>&nbsp;</caption>
    <tbody>
        <tr>
            <th class="table_cell_text_title" width="15%"> Usage: </th>
            <td class="table_cell_text">*MAC?</td>
        </tr>
        <tr>            
            <th class="table_cell_text_title" width="15%"> Type: </th>
            <td class="table_cell_text">READ_ONLY</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Returns: </th>
            <td class="table_cell_text">&lt;string&gt; that contains mac address.</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Ex.: </th>
            <td class="table_cell_text">*MAC?
            <div class="table_cell_text"><i>c0:3f:d5:65:73:89</i></div>
            </td>
        </tr>
    </tbody>
    </table>
    
    </br>
    <p><strong>Technical description</strong></p>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>This
    instrument runs under its own Linux distribution. To get the MAC address we use
    standard Linux commands.</span></p>

    </br>
    <p></p>
    <h3 align="justify"><a name="3.1.3. *HLP"></a>3.1.3. *HLP</h3>
    
    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>This
    commands shows short information about the list of available commands.</span></p>

    <p></p>
    
    <table  border=1 frame=hsides rules=rows bordercolor="white"><caption>&nbsp;</caption>
    <tbody>
        <tr>
            <th class="table_cell_text_title" width="15%"> Usage: </th>
            <td class="table_cell_text">*HLP?</td>
        </tr>
        <tr>            
            <th class="table_cell_text_title" width="15%"> Type: </th>
            <td class="table_cell_text">READ_ONLY</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Returns: </th>
            <td class="table_cell_text">&lt;string&gt; that contains the list of available
            commands</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Ex.: </th>
            <td class="table_cell_text">*HLP?
            <div class="table_cell_text"><i>IDN</i></div>
            <div class="table_cell_text"><i>MAC</i></div>
            <div class="table_cell_text"><i>RST</i></div>
            <div class="table_cell_text"><i>FWVER</i></div>
            <div class="table_cell_text"><i>CHANnelNN:INSCURRENT</i></div>
            <div class="table_cell_text"><i>CHANnelNN:AVGCURRENT</i></div>
            <div class="table_cell_text"><i>CHANnelNN:CABO:TEMP</i></div>
            <div class="table_cell_text"><i>CHANnelNN:CABO:INIT</i></div>
            <div class="table_cell_text"><i>...</i></div>
            </td>
        </tr>
    </tbody>
    </table>
    
    </br>
    <p></p>
    <h3 align="justify"><a name="3.1.4. *RST"></a>3.1.4. *RST</h3>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>This
    command performs a general reset of the instrument. It stops the application
    that controls the FPGA and executes a reset of the OS. </span></p>

    <p></p>
    <table  border=1 frame=hsides rules=rows bordercolor="white"><caption>&nbsp;</caption>
    <tbody>
        <tr>
            <th class="table_cell_text_title" width="15%"> Usage: </th>
            <td class="table_cell_text">*RST</td>
        </tr>
        <tr>            
            <th class="table_cell_text_title" width="15%"> Type: </th>
            <td class="table_cell_text">WRITE_ONLY</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Returns: </th>
            <td class="table_cell_text">None</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Ex.: </th>
            <td class="table_cell_text">*RST</td>
        </tr>
    </tbody>
    </table>

    </br>
    <p><strong>Technical description</strong></p>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>This
    instrument runs under its own Linux distribution. When a reset is executed, the
    main application which is running to control the equipment is ended, closing
    the harmony application, which is the one that controls the electrometer
    logic,  the display and killing all possible open control threads and the
    executes the Linux command to do a system reset:</span></p>

    <p class=Text style='text-indent:.5in'><span lang=EN-GB style='font-family:
    "Times New Roman","serif";font-weight:normal'>#</span><span lang=EN-GB
    style='font-weight:normal'> /sbin/shutdown -f -r now</span></p>
    
    </br>
    <p></p>
    <h3 align="justify"><a name="3.1.5. *SHT"></a>3.1.5. *SHT</h3>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>This
    command shutdowns the instrument remotely. It stops the application that
    controls the FPGA and executes a shutdown of the OS. </span></p>

    <p></p>
    <table  border=1 frame=hsides rules=rows bordercolor="white"><caption>&nbsp;</caption>
    <tbody>
        <tr>
            <th class="table_cell_text_title" width="15%"> Usage: </th>
            <td class="table_cell_text">*SHT</td>
        </tr>
        <tr>            
            <th class="table_cell_text_title" width="15%"> Type: </th>
            <td class="table_cell_text">WRITE_ONLY</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Returns: </th>
            <td class="table_cell_text">None</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Ex.: </th>
            <td class="table_cell_text">*SHT</td>
        </tr>
    </tbody>
    </table>

    </br>
    <p><strong>Technical description</strong></p>
  
    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>Same
    as the reset, when this command is launched the main application which is
    running to control the equipment is ended, , closing the harmony application,
    which is the one that controls the electrometer logic,  the display y and
    killing all possible open control threads and the executes the Linux command to
    do a system shutdows:</span></p>

    <p class=Text style='text-indent:.5in'><span lang=EN-GB style='font-family:
    "Times New Roman","serif";font-weight:normal'>#</span><span lang=EN-GB
    style='font-weight:normal'> /sbin/shutdown -f now</span></p>

    </br>
    <p></p>
    <h3 align="justify"><a name="3.1.6. RECOnfigure"></a>3.1.6. RECOnfigure</h3>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>There
    is a configuration file used for designers to configure this instrument (see </span><span
    lang=EN-GB><a href="#_CONFIGURATION_FILE"><span style='font-weight:normal;
    font-style:normal'>Appendix A</span></a></span><span lang=EN-GB
    style='font-weight:normal;font-style:normal'> for file details). This config
    file is read during the startup and configures the software to work with the
    parameters defined in it. This command is used to reconfigure again the
    complete project without restart. </span></p>

    <p></p>
    <table  border=1 frame=hsides rules=rows bordercolor="white"><caption>&nbsp;</caption>
    <tbody>
        <tr>
            <th class="table_cell_text_title" width="15%"> Usage: </th>
            <td class="table_cell_text">RECO &lt;value&gt;
            <div class="table_cell_text">Or</div>
            <div class="table_cell_text">RECOnfigure
            &lt;value&gt;</div>
            </td>
        </tr>
        <tr>            
            <th class="table_cell_text_title" width="15%"> Type: </th>
            <td class="table_cell_text">WRITE_ONLY</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Set value: </th>
            <td class="table_cell_text">Fixed to True (not used but required)</td>
        </tr>        
        <tr>
            <th class="table_cell_text_title" width="15%"> Returns: </th>
            <td class="table_cell_text">None</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Ex.: </th>
            <td class="table_cell_text">RECO True</td>
        </tr>
    </tbody>
    </table>
    
   </br>
    <p><strong>Technical description</strong></p>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>This
    command reapplies all parameters declared in the config file, shuch as debug
    levels, debug enable, i2c addresses, etc..without restarting the main control
    application. For more details about the config file contents, refer to Appendix
    A.</span></p>
    
    </br>
    <p></p>
    <h3 align="justify"><a name="3.1.7. FWVErsion"></a>3.1.7. FWVErsion</h3>
    
    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>It
    returns the version of the firmware which is reuning in the FPGA. </span></p>

    <p></p>
    <table  border=1 frame=hsides rules=rows bordercolor="white"><caption>&nbsp;</caption>
    <tbody>
        <tr>
            <th class="table_cell_text_title" width="15%"> Usage: </th>
            <td class="table_cell_text">FWVE?
            <div class="table_cell_text">Or</div>
            <div class="table_cell_text">FWVErsion?</div>
            </td>            
        </tr>
        <tr>            
            <th class="table_cell_text_title" width="15%"> Type: </th>
            <td class="table_cell_text">READ_ONLY</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Returns: </th>
            <td class="table_cell_text">&lt;string&gt; that contains the FW version</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Ex.: </th>
            <td class="table_cell_text">FWVE?
            <div class="table_cell_text"><i>00.01</i></div>
            </td>
        </tr>
    </tbody>
    </table>

    </br>
    <p><strong>Technical description</strong></p>
    
    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>This
    returns the FPGA software version, written in the FPGA though the SDB
    structure.</span></p>

    <p></p>
    <table  border=1 frame=hsides rules=rows bordercolor="white"><caption>&nbsp;</caption>
    <tbody>
        <tr>
            <th class="table_cell_text_title" width="15%"> FPGA blocks </th>
            <td class="table_cell_text">SDB structure: SDB INTEGRATION RECORD</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Registers </th>
            <td class="table_cell_text">Version</td>
        </tr>
    </tbody>
    </table>    
    
    </br>
    <p></p>
    <h2 align="justify"><a name="3.2. Diagnostics Commands"></a>3.2. Diagnostics Commands</h2>
    
    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>These
    commands are used to check the diagnostics status of the hardware. They are
    grouped under the </span><span lang=EN-GB><strong>DIAG</strong>nostics</span><span lang=EN-GB
    style='font-weight:normal;font-style:normal'> component. So to execute these
    commands you need to enter the component first, then follow by <strong>:</strong> and then tne
    command.</span></p>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>By
    default, if no additional command is send, it executes the </span><span
    lang=EN-GB>VSENse</span><span lang=EN-GB style='font-weight:normal;font-style:
    normal'> command.</span></p>

    </br>
    <p></p>
    <h3 align="justify"><a name="3.2.1. CBTEmperature"></a>3.2.1. CBTEmperature</h3>
    
    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>This
    diagnostics returns information about the temperature of the carrier board.</span></p>

    <p></p>
    <table  border=1 frame=hsides rules=rows bordercolor="white"><caption>&nbsp;</caption>
    <tbody>
        <tr>
            <th class="table_cell_text_title" width="15%"> Usage: </th>
            <td class="table_cell_text">DIAG:CBTE?
            <div class="table_cell_text">Or</div>
            <div class="table_cell_text">DIAGnostics:CBTEmperature?</div>
            </td>
        </tr>
        <tr>            
            <th class="table_cell_text_title" width="15%"> Type: </th>
            <td class="table_cell_text">READ_ONLY</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Returns: </th>
            <td class="table_cell_text">&lt;string&gt; with the temperature of the carrier
            board</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Ex.: </th>
            <td class="table_cell_text">DIAG:CBTE?
            <div class="table_cell_text"><i>00.01</i></div>
            </td>
        </tr>
    </tbody>
    </table>
    
    </br>
    <p><strong>Technical description</strong></p>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>SPI
    bus control the low speed HW included in the instrument and placed in the
    Front-End Board (FEB), the current amplifiers carrier board or the four current
    amplifiers. There are up to 25 devices connected to the SPI. This SPI bus is
    controlled by the FPGA. In order to have multiple lines to control these
    devices, a 3-to-8 active low decoding system as been implemented to control the
    chip select lines of those devices and to select the appropriate one when
    writing to a device. So to read a particular device connected to the SPI bus,
    it is important to select to the appropriate Chip select and then use the
    register to transmit or receive data to the selected device.</span></p>

    <p></p>
    <table  border=1 frame=hsides rules=rows bordercolor="white"><caption>&nbsp;</caption>
    <tbody>
        <tr>
            <th class="table_cell_text_title" width="15%"> FPGA blocks </th>
            <td class="table_cell_text" colspan="3">SPI</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%" rowspan="2"> Registers </th>
            <td class="table_cell_text" width="15%">ctl_spi_addr:</td>
            <td class="table_cell_text" width="15%">0x14</td>
            <td class="table_cell_text">Chip Select for the
                Temperature Sensor of CA Carrier Board</td>
        </tr>
        <tr>
            <td class="table_cell_text" colspan="3">Other register used to
                transmit/receive data though SPI:
                <div class="table_cell_text">ctl_tx, ctl_tx_data, ctl_tx_data_length,
                ctl_rx, ctl_rx_data_length, ctl_start, ctl_rx_data</div>
            </td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Formula </th>
            <td class="table_cell_text" colspan="3">Read_value*0.0625</td>
        </tr>        
    </tbody>
    </table>    

    </br>
    <p></p>
    <h3 align="justify"><a name="3.2.2. FETEmperature"></a>3.2.2. FETEmperature</h3>
    
    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>This
    diagnostics returns information about the temperature of the front end  board.</span></p>
    
    <p></p>
    <table  border=1 frame=hsides rules=rows bordercolor="white"><caption>&nbsp;</caption>
    <tbody>
        <tr>
            <th class="table_cell_text_title" width="15%"> Usage: </th>
            <td class="table_cell_text">DIAG:FETE?
            <div class="table_cell_text">Or</div>
            <div class="table_cell_text">DIAGnostics:FETEmperature?</div>
            </td>
        </tr>
        <tr>            
            <th class="table_cell_text_title" width="15%"> Type: </th>
            <td class="table_cell_text">READ_ONLY</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Returns: </th>
            <td class="table_cell_text">&lt;string&gt; with the temperature of the front
                end board</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Ex.: </th>
            <td class="table_cell_text">DIAG:FETE?
            <div class="table_cell_text"><i>28.8125</i></div>
            </td>
        </tr>
    </tbody>
    </table>    

    </br>
    <p><strong>Technical description</strong></p>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>Same
    as explained in technical description of 3.2.1. CBTEmperature, the Front End
    board (FE) is also connected to the SPI bus. So any communication to this board
    is done through the SPI module in the FPGA by selecting the proper chip select.</span></p>
    
    <p></p>
    <table  border=1 frame=hsides rules=rows bordercolor="white"><caption>&nbsp;</caption>
    <tbody>
        <tr>
            <th class="table_cell_text_title" width="15%"> FPGA blocks </th>
            <td class="table_cell_text" colspan="3">SPI</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%" rowspan="2"> Registers </th>
            <td class="table_cell_text" width="15%">ctl_spi_addr:</td>
            <td class="table_cell_text" width="15%">0x1b</td>
            <td class="table_cell_text">Chip Select for the
                Temperature Sensor of the Front End Board</td>
        </tr>
        <tr>
            <td class="table_cell_text" colspan="3">Other register used to
                transmit/receive data though SPI:
                <div class="table_cell_text">ctl_tx, ctl_tx_data, ctl_tx_data_length,
                ctl_rx, ctl_rx_data_length, ctl_start, ctl_rx_data</div>
            </td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Formula </th>
            <td class="table_cell_text" colspan="3">Read_value*0.0625</td>
        </tr>        
    </tbody>
    </table>    

    </br>
    <p></p>
    <h3 align="justify"><a name="3.2.3. VSENse"></a>3.2.3. VSENse</h3>    

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>This
    diagnostics returns information about the sensed voltages for the different
    voltages supplies.</span></p>

    <p></p>
    <table  border=1 frame=hsides rules=rows bordercolor="white"><caption>&nbsp;</caption>
    <tbody>
        <tr>
            <th class="table_cell_text_title" width="15%"> Usage: </th>
            <td class="table_cell_text">DIAG:VSEN?
            <div class="table_cell_text">Or</div>
            <div class="table_cell_text">DIAGnostics:VSENse?</div>
            </td>
        </tr>
        <tr>            
            <th class="table_cell_text_title" width="15%"> Type: </th>
            <td class="table_cell_text">READ_ONLY</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Returns: </th>
            <td class="table_cell_text">&lt;string&gt; that contains the FW version</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Ex.: </th>
            <td class="table_cell_text">DIAG:VSEN?
            <div class="table_cell_text"><i>[['VSENSE_I_ISO',
                0.033183750108771316], ['VSENSE_I_SPEC', 0.7891845703125], ['VSENSE_I_AUX',
                0.0097868085683297159], ['VSENSE_I_VS', 0.058523337112464248],
                ['VSENSE_I_VCC', 0.16724363772455089]]</i></div>
            </td>
        </tr>
    </tbody>
    </table>    

    </br>
    <p><strong>Technical description</strong></p>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>The
    power supply board (PSB) is directly controlled by the NUC through I2C. To
    monitor the status of the voltages controlled by this PSB board, it is mount an
    ADC (ADS7828), which returns the voltage values sensed for the different
    voltages supplied. These voltages are the isolated power supply (VSENSE_I_ISO),
    the VCC power supply (VSENSE_I_VCC), the VS power supply (VSENSE_I_VS), the auxiliary
    power supply (VSENSE_I_AUX) and the 12V SPEC power supply (VSENSE_I_SPEC).</span></p>
    
    <p></p>
    <table  border=1 frame=hsides rules=rows bordercolor="white"><caption>&nbsp;</caption>
    <tbody>
        <tr>
            <th class="table_cell_text_title" width="15%"> FPGA blocks </th>
            <td class="table_cell_text" colspan="3">ADC7828 (I2C: 0x48 7-bits address)</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Registers </th>
            <td class="table_cell_text">0x84: VSENSE_I_ISO
            <div class="table_cell_text">0x94: VSENSE_I_VS</div>
            <div class="table_cell_text">0xA4: VSENSE_I_SPEC</div>
            <div class="table_cell_text">0xC4: VSENSE_I_VCC</div>
            <div class="table_cell_text">0xD4: VSENSE_I_AUX</div>
            </td>
        </tr>
    </tbody>
    </table>        

    </br>
    <p></p>
    <h2 align="justify"><a name="3.3. Trigger Commands"></a>3.3. Trigger Commands</h2>
    
    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>These
    commands are used to configure or check the trigger for an acquisition. They
    are grouped under the </span><span lang=EN-GB><strong>TRIG</strong>ger</span><span lang=EN-GB
    style='font-weight:normal;font-style:normal'> component. So to execute these
    commands you need to enter the component first, then follow by <strong>:</strong> and then the
    command.</span></p>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>By default,
    if no additional parameter or command is send, it executes the </span><span
    lang=EN-GB>STATe</span><span lang=EN-GB style='font-weight:normal;font-style:
    normal'> command</span></p>
    
    </br>
    <p></p>
    <h3 align="justify"><a name="3.3.1. DELAy"></a>3.3.1. DELAy</h3>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>This
    command is used to configure the delay in miliseconds of the acquisition after
    the trigger. </span></p>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>This
    can be read always, but can only be modified when the acquisition state is not
    ACQUIRING.</span></p>

    <p></p>
    <table  border=1 frame=hsides rules=rows bordercolor="white"><caption>&nbsp;</caption>
    <tbody>
        <tr>
            <th class="table_cell_text_title" width="15%"> Usage: </th>
            <td class="table_cell_text">TRIG:DELA &lt;value&gt; or TRIGger:DELAy &lt;value&gt;
            <div class="table_cell_text">Or</div>
            <div class="table_cell_text">TRIG:DELA? or TRIGger:DELAy?</div>
            </td>
        </tr>
        <tr>            
            <th class="table_cell_text_title" width="15%"> Type: </th>
            <td class="table_cell_text">READ_WRITE</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Set value: </th>
            <td class="table_cell_text">Delay in milliseconds</td>
        </tr>        
        <tr>
            <th class="table_cell_text_title" width="15%"> Returns: </th>
            <td class="table_cell_text">&lt;string&gt; with the corresponding trigger delay</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Ex.: </th>
            <td class="table_cell_text">TRIG:DELA 1000
            <div class="table_cell_text"><i>1000</i></div>
            </br>
            <div class="table_cell_text">TRIG:DELA?</div>
            <div class="table_cell_text"><i>1000</i></div>
            </td>
        </tr>
    </tbody>
    </table>

    </br>
    <p><strong>Technical description</strong></p>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>Trigger
    commands are not able to be modified when an acquisition is running; they are
    just allowed to be modified before starting a new acquisition. At the same
    time, these commands dont change any value in the FPGA when they are executed,
    they just store the value in a local variable, in this case </span><span
    lang=EN-GB style='color:red'>trigger_delay</span><span lang=EN-GB
    style='font-weight:normal;font-style:normal'> and the delay value will be
    really applied in the FPGA registers when a new acquisition starts.</span></p>

    </br>
    <p></p>
    <h3 align="justify"><a name="3.3.2. INPUt"></a>3.3.2. INPUt</h3>
    
    
    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>This
    command is used to configure the input used for the trigger. The parameter is
    integer value which corresponds to the trigger input listed below (see Set
    Value) </span></p>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>This
    can be read always, but can only be modified when the acquisition state is not
    ACQUIRING.</span></p>

    <p></p>
    <table  border=1 frame=hsides rules=rows bordercolor="white"><caption>&nbsp;</caption>
    <tbody>
        <tr>
            <th class="table_cell_text_title" width="15%"> Usage: </th>
            <td class="table_cell_text">TRIG:INPU &lt;value&gt; or TRIGger:INPUt &lt;value&gt;
            <div class="table_cell_text">Or</div>
            <div class="table_cell_text">TRIG:INPU? or TRIGger:INPUt?</div>
            </td>
        </tr>
        <tr>            
            <th class="table_cell_text_title" width="15%"> Type: </th>
            <td class="table_cell_text">READ_WRITE</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Set value: </th>
            <td class="table_cell_text">0: DIO_1
            <div class="table_cell_text">1: DIO_2</div>
            <div class="table_cell_text">2: DIO_3</div>
            <div class="table_cell_text">3: DIO_4</div>
            <div class="table_cell_text">4: DIFF_IO_1</div>
            <div class="table_cell_text">5: DIFF_IO_2</div>
            <div class="table_cell_text">6: DIFF_IO_3</div>
            <div class="table_cell_text">7: DIFF_IO_4</div>
            <div class="table_cell_text">8: DIFF_IO_5</div>
            <div class="table_cell_text">9: DIFF_IO_6</div>
            <div class="table_cell_text">10: DIFF_IO_7</div>
            <div class="table_cell_text">11: DIFF_IO_8</div>
            <div class="table_cell_text">12: DIFF_IO_9</div>
            </td>
        </tr>        
        <tr>
            <th class="table_cell_text_title" width="15%"> Returns: </th>
            <td class="table_cell_text">&lt;string&gt; with the corresponding trigger input
                name</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Ex.: </th>
            <td class="table_cell_text">TRIG:INPU 4
            <div class="table_cell_text"><i>DIFF_IO_1</i></div>
            </br>
            <div class="table_cell_text">TRIG:INPUt?</div>
            <div class="table_cell_text"><i>DIFF_IO_1</i></div>
            </td>
        </tr>
    </tbody>
    </table>

    </br>
    <p><strong>Technical description</strong></p>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>Trigger
    commands are not able to be modified when an acquisition is running; they are
    just allowed to be modified before starting a new acquisition. At the same
    time, these commands dont change any value in the FPGA when they are executed,
    they just store the value in a local variable, in this case </span><span
    lang=EN-GB style='color:red'>trigger_input</span><span lang=EN-GB
    style='font-weight:normal;font-style:normal'> and the input will be really set
    in the FPGA registers when a new acquisition starts.</span></p>

    </br>
    <p></p>
    <h3 align="justify"><a name="3.3.3. MODE"></a>3.3.3. MODE</h3>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>This
    command sets the trigger between the two available types SOFTWARE or HARDWARE.
    The parameter is integer value which corresponds to the trigger input listed
    below (see Set Value) </span></p>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>This
    can be read always, but can only be modified when the acquisition state is not
    ACQUIRING.</span></p>

    <p></p>
    <table  border=1 frame=hsides rules=rows bordercolor="white"><caption>&nbsp;</caption>
    <tbody>
        <tr>
            <th class="table_cell_text_title" width="15%"> Usage: </th>
            <td class="table_cell_text">TRIG:MODE &lt;value&gt; or TRIGger:MODE &lt;value&gt;
            <div class="table_cell_text">Or</div>
            <div class="table_cell_text">TRIG:MODE? or TRIGger:MODE?</div>
            </td>
        </tr>
        <tr>            
            <th class="table_cell_text_title" width="15%"> Type: </th>
            <td class="table_cell_text">READ_WRITE</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Set value: </th>
            <td class="table_cell_text">0: SOFTWARE
            <div class="table_cell_text">1: HARDWARE</div>
            </td>
        </tr>        
        <tr>
            <th class="table_cell_text_title" width="15%"> Returns: </th>
            <td class="table_cell_text">&lt;string&gt; with the corresponding trigger mode
                name</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Ex.: </th>
            <td class="table_cell_text">TRIG:MODE 1
            <div class="table_cell_text"><i>HARDWARE</i></div>
            </br>
            <div class="table_cell_text">TRIG:MODE?</div>
            <div class="table_cell_text"><i>HARDWARE</i></div>
            </td>
        </tr>
    </tbody>
    </table>

    </br>
    <p><strong>Technical description</strong></p>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>Trigger
    commands are not able to be modified when an acquisition is running; they are
    just allowed to be modified before starting a new acquisition. At the same
    time, these commands dont change any value in the FPGA when they are executed,
    they just store the value in a local variable, in this case </span><span
    lang=EN-GB style='color:red'>trigger_mode</span><span lang=EN-GB
    style='font-weight:normal;font-style:normal'> and the mode will be  really set
    in the FPGA registers when a new acquisition starts.</span></p>

    </br>
    <p></p>
    <h3 align="justify"><a name="3.3.4. POLArity"></a>3.3.4. POLArity</h3>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>This
    command sets the polarity of the trigger at the input between rising (level
    change from 0V to 5V) or falling (level change form 5V to 0V). The parameter
    is integer value which corresponds to the trigger input listed below (see Set
    Value) </span></p>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>This
    can be read always, but can only be modified when the acquisition state is not
    ACQUIRING.</span></p>

    <p></p>
    <table  border=1 frame=hsides rules=rows bordercolor="white"><caption>&nbsp;</caption>
    <tbody>
        <tr>
            <th class="table_cell_text_title" width="15%"> Usage: </th>
            <td class="table_cell_text">TRIG:POLA &lt;value&gt; or TRIGger:POLArity &lt;value&gt;
            <div class="table_cell_text">Or</div>
            <div class="table_cell_text">TRIG:POLA? or TRIGger:POLArity?</div>
            </td>
        </tr>
        <tr>            
            <th class="table_cell_text_title" width="15%"> Type: </th>
            <td class="table_cell_text">READ_WRITE</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Set value: </th>
            <td class="table_cell_text">0: FALLING
            <div class="table_cell_text">0: FALLING</div>
            </td>
        </tr>        
        <tr>
            <th class="table_cell_text_title" width="15%"> Returns: </th>
            <td class="table_cell_text">&lt;string&gt; with the corresponding trigger polarity
                name</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Ex.: </th>
            <td class="table_cell_text">TRIG:POLA 1
            <div class="table_cell_text"><i>RISING</i></div>
            </br>
            <div class="table_cell_text">TRIG:POLA?</div>
            <div class="table_cell_text"><i>RISING</i></div>
            </td>
        </tr>
    </tbody>
    </table>

    </br>
    <p><strong>Technical description</strong></p>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>Trigger
    commands are not able to be modified when an acquisition is running; they are
    just allowed to be modified before starting a new acquisition. At the same
    time, these commands dont change any value in the FPGA when they are executed,
    they just store the value in a local variable, in this case </span><span
    lang=EN-GB style='color:red'>trigger_polarity</span><span lang=EN-GB
    style='font-weight:normal;font-style:normal'> and the polarity will be really
    set in the FPGA registers when a new acquisition starts.</span></p>

    </br>
    <p></p>
    <h3 align="justify"><a name="3.3.5. SWSEt"></a>3.3.5. SWSEt</h3>
    
    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>This
    command is used to force an acquisition only when the trigger mode is set to
    SOFTWARE and the acquisition state is ACQUIRING</span></p>

    <p></p>
    <table  border=1 frame=hsides rules=rows bordercolor="white"><caption>&nbsp;</caption>
    <tbody>
        <tr>
            <th class="table_cell_text_title" width="15%"> Usage: </th>
            <td class="table_cell_text">TRIG:SWSE &lt;value&gt;
            <div class="table_cell_text">Or</div>
            <div class="table_cell_text">TRIG:SWSE?</div>
            </td>
        </tr>
        <tr>            
            <th class="table_cell_text_title" width="15%"> Type: </th>
            <td class="table_cell_text">WRITE_ONLY</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Set value: </th>
            <td class="table_cell_text">Fixed to True (not used but required
            </td>
        </tr>        
        <tr>
            <th class="table_cell_text_title" width="15%"> Returns: </th>
            <td class="table_cell_text">&lt;string&gt; with the corresponding trigger input
                name</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Ex.: </th>
            <td class="table_cell_text">TRIG:SWSE True
            </td>
        </tr>
    </tbody>
    </table>

    </br>
    <p><strong>Technical description</strong></p>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>This
    command lets to trigger an acquisition, when the acquisition is running and the
    trigger mode is set to SOFTWARE. In any other case this command has no sense
    and will return error.</span></p>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>The
    SW trigger is generated using the ID_Generator FPGA block. When a SW trigger is
    requested by the user, an ID_GEN ID message is generated in the harmony bus (with
    no data and timestamp set by the FPGA) )and this, triggers the FPGA memory to
    store the corresponding data, that can come form the AVERAGE module or the FIFO
    or the ADC, depending on the configuration set. To allow this, when the
    acquisition starts, the FPGA Memory has to be properly configured, to listen
    the ID GEN ID and store the selected data when this message is sent.</span></p>

    <p></p>
    <table  border=1 frame=hsides rules=rows bordercolor="white"><caption>&nbsp;</caption>
    <tbody>
        <tr>
            <th class="table_cell_text_title" width="15%"> FPGA blocks </th>
            <td class="table_cell_text" colspan="3">ID_GEN</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%" rowspan="4"> Registers </th>
            <td class="table_cell_text" width="15%">DATA_GEN_DATA</td>
            <td class="table_cell_text" width="15%">0x00</td>
            <td class="table_cell_text">No data send </td>
        </tr>     
        <tr>
            <td class="table_cell_text" width="15%">ID_GEN_CTL_CLKE</td>
            <td class="table_cell_text" width="15%">0x01</td>
            <td class="table_cell_text">Message timestamp internally generated </td>
        </tr>     
        <tr>
            <td class="table_cell_text" width="15%">TS_ID_ID_OUT</td>
            <td class="table_cell_text" width="15%"><span
            lang=EN-GB style='color:#0070C0;font-style:normal'>_IDGEN_ID</span></td>
            <td class="table_cell_text">Fixed value for the ID of the ID Gen module. ID can be configured in the Config file </td>
        </tr>     
        <tr>
            <td class="table_cell_text" width="15%">ID_GEN_CTL_MTRIG</td>
            <td class="table_cell_text" width="15%">0x01</td>
            <td class="table_cell_text">Set to 1 to send Data Message </td>
        </tr>     
    </tbody>
    </table>    

    </br>
    <p></p>
    <h3 align="justify"><a name="3.3.6. STATe"></a>3.3.6. STATe</h3>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>This
    command returns the status of the trigger, it means mode, polarity, input and
    delay configuration</span></p>
    
    <p></p>
    <table  border=1 frame=hsides rules=rows bordercolor="white"><caption>&nbsp;</caption>
    <tbody>
        <tr>
            <th class="table_cell_text_title" width="15%"> Usage: </th>
            <td class="table_cell_text">TRIG? or TRIG:STAT? or TRIGger:STATe? 
            </td>
        </tr>
        <tr>            
            <th class="table_cell_text_title" width="15%"> Type: </th>
            <td class="table_cell_text">READ_ONLY</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Returns: </th>
            <td class="table_cell_text">&lt;string&gt; that contains a joined list with
                general information about the trigger. Trigger mode, delay, polarity and
                input</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Ex.: </th>
            <td class="table_cell_text">TRIG?
            <div class="table_cell_text"><i>[['MODE', 'SOFTWARE'], ['POLARITY', 'FAILING'], ['DELAY', 1000], ['INPUT', 'DIO_4']]</i></div>
            </td>
        </tr>
    </tbody>
    </table>

    </br>
    <p><strong>Technical description</strong></p>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>This
    command is a combination of the trigger settings </span><span lang=EN-GB
    style='color:red'>trigger_delay</span><span lang=EN-GB style='color:black;
    font-weight:normal;font-style:normal'>, </span><span lang=EN-GB
    style='color:red'>trigger_input</span><span lang=EN-GB style='color:black;
    font-weight:normal;font-style:normal'>,</span><span lang=EN-GB
    style='color:red'> trigger_mode </span> and<span lang=EN-GB
    style='color:red'> trigger_polarity</span><span lang=EN-GB style='font-weight:
    normal;font-style:normal'> and its value in RAM together in a list. This command
    doesnt checks any value in the FPGA.</span></p>

    </br>
    <p></p>
    <h3 align="justify"><a name="3.4. Acquisition Commands"></a>3.4. Acquisition Commands</h3>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>These
    commands are used to configure or check the acquisition. They are grouped under
    the </span><span lang=EN-GB><strong>ACQU</strong>isition </span><span lang=EN-GB
    style='font-weight:normal;font-style:normal'>component. So to execute these
    commands you need to enter the component first, then follow by <strong>:</stong> and then the
    command.</span></p>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>By default,
    if no additional parameter or command is send, it executes the </span><span
    lang=EN-GB>STATe</span><span lang=EN-GB style='font-weight:normal;font-style:
    normal'> command</span></p>

    </br>
    <p></p>
    <h3 align="justify"><a name="3.4.1. FILTer"></a>3.4.1. FILTer</h3>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>This
    command configures the acquisition filter, which sets current amplifier prefilter
    and postfilter, and it is applied to the four channel amplifiers at the same
    time. </span></p>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>It
    is measured in Hz and the parameter is integer value which corresponds to the
    filter value listed below (see Set Value) </span></p>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>This
    can be read always, but can only be modified when the acquisition state is not
    ACQUIRING.</span></p>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>The
    filter value is only applied to the current amplifiers when the acquisition
    starts.</span></p>

    <p></p>
    <table  border=1 frame=hsides rules=rows bordercolor="white"><caption>&nbsp;</caption>
    <tbody>
        <tr>
            <th class="table_cell_text_title" width="15%"> Usage: </th>
            <td class="table_cell_text">ACQU:FILT &lt;value&gt; or ACQUisition:FILTert &lt;value&gt;
            <div class="table_cell_text">Or</div>
            <div class="table_cell_text">ACQU:FILT? or ACQUisition:FILTer?</div>
            </td>
        </tr>
        <tr>            
            <th class="table_cell_text_title" width="15%"> Type: </th>
            <td class="table_cell_text">READ_WRITE</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Set value: </th>
            <td class="table_cell_text">0: 3200 Hz
            <div class="table_cell_text">1: 100 Hz</div>
            <div class="table_cell_text">2: 10 Hz</div>
            <div class="table_cell_text">3: 1 Hz</div>
            <div class="table_cell_text">4: 0.5Hz</div>            
            </td>
        </tr>        
        <tr>
            <th class="table_cell_text_title" width="15%"> Returns: </th>
            <td class="table_cell_text">&lt;string&gt; that contains the common value set
                to the four acquisition channels for the filter.</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Ex.: </th>
            <td class="table_cell_text">ACQU:FILT 4
            <div class="table_cell_text"><i>3200</i></div>
            </br>
            <div class="table_cell_text">ACQU:FILT?</div>
            <div class="table_cell_text"><i>3200</i></div>
            </td>
        </tr>
    </tbody>
    </table>

    </br>
    <p><strong>Technical description</strong></p>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>Acquisition
    filters can be modified before starting an acquisition, but once it is started
    they can not be changed. It configures the different filters available in the
    current amplifier boards (CA), it means prefilter and postfilter for the
    four CA boards available. These different filters can be controlled
    independently among them and among the different channels, but this command is
    just a common control for those filters, to apply the same setting for the four
    acquisition channels.</span></p>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>CA
    filters are controlled through SPI block in the FPGA, so basically to
    configure them the proper chip select has to be selected before sending the
    data to each filter and channel.</span></p>

    <p></p>
    <table  border=1 frame=hsides rules=rows bordercolor="white"><caption>&nbsp;</caption>
    <tbody>
        <tr>
            <th class="table_cell_text_title" width="15%"> FPGA blocks </th>
            <td class="table_cell_text" colspan="3">SPI</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%" rowspan="9"> Registers </th>
            <td class="table_cell_text" width="15%">ctl_spi_addr:</td>
            <td class="table_cell_text" width="15%">0x01</td>
            <td class="table_cell_text">Chip Select for PostFilter the Port Expander 1 of CA #1</td>
        </tr>
        <tr>
            <td class="table_cell_text" width="15%">ctl_spi_addr:</td>
            <td class="table_cell_text" width="15%">0x02</td>
            <td class="table_cell_text">Chip Select for PreFilter the Port Expander 2 of CA #1</td>
        </tr>
        <tr>
            <td class="table_cell_text" width="15%">ctl_spi_addr:</td>
            <td class="table_cell_text" width="15%">0x06</td>
            <td class="table_cell_text">Chip Select for PostFilter the Port Expander 1 of CA #2</td>
        </tr>
        <tr>
            <td class="table_cell_text" width="15%">ctl_spi_addr:</td>
            <td class="table_cell_text" width="15%">0x07</td>
            <td class="table_cell_text">Chip Select for PreFilter the Port Expander 2 of CA #2</td>
        </tr>
        <tr>
            <td class="table_cell_text" width="15%">ctl_spi_addr:</td>
            <td class="table_cell_text" width="15%">0x0b</td>
            <td class="table_cell_text">Chip Select for PostFilter the Port Expander 1 of CA #3</td>
        </tr>
        <tr>
            <td class="table_cell_text" width="15%">ctl_spi_addr:</td>
            <td class="table_cell_text" width="15%">0x0c</td>
            <td class="table_cell_text">Chip Select for PreFilter the Port Expander 2 of CA #3</td>
        </tr>
        <tr>
            <td class="table_cell_text" width="15%">ctl_spi_addr:</td>
            <td class="table_cell_text" width="15%">0x10</td>
            <td class="table_cell_text">Chip Select for PostFilter the Port Expander 2 of CA #4</td>
        </tr>
        <tr>
            <td class="table_cell_text" width="15%">ctl_spi_addr:</td>
            <td class="table_cell_text" width="15%">0x11</td>
            <td class="table_cell_text">Chip Select for PreFilter the Port Expander 2 of CA #4</td>
        </tr>        
        <tr>
            <td class="table_cell_text" colspan="3">Other register used to
                transmit/receive data though SPI:
                <div class="table_cell_text">ctl_tx, ctl_tx_data, ctl_tx_data_length,
                ctl_rx, ctl_rx_data_length, ctl_start, ctl_rx_data</div>
            </td>
        </tr>
    </tbody>
    </table>    
            

    </br>
    <p></p>
    <h3 align="justify"><a name="3.4.2. MEAS"></a>3.4.2. MEAS</h3>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>This
    command returns a string that contains a joined list with the four channels current
    data acquired during the last acquisition. The data acquired is reset when a
    new acquisition is started.</span></p>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>It
    can be read always, independently of the state</span></p>

    <p></p>
    <table  border=1 frame=hsides rules=rows bordercolor="white"><caption>&nbsp;</caption>
    <tbody>
        <tr>
            <th class="table_cell_text_title" width="15%"> Usage: </th>
            <td class="table_cell_text">ACQU:MEAS? 
            <div class="table_cell_text">Or</div>
            <div class="table_cell_text">ACQUisition:MEAS?</div>
            </td>
        </tr>
        <tr>            
            <th class="table_cell_text_title" width="15%"> Type: </th>
            <td class="table_cell_text">READ_ONLY</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Returns: </th>
            <td class="table_cell_text">&lt;string&gt; that contains a joined list with the
                acquired data for the four channels</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Ex.: </th>
            <td class="table_cell_text">ACQU:MEAS?
            <div class="table_cell_text"><i>[['CHAN01', '[-1.453476, -1.453476]'], ['CHAN02', '[2.063828, 2.063828]'], ['CHAN03', '[0.000153, 0.000153]'], ['CHAN04', '[2.065964, 2.065887]']]</i></div>
            </td>
        </tr>
    </tbody>
    </table>

    </br>
    <p><strong>Technical description</strong></p>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>Acquisition
    data is stored in the FPGA memory. The main application is checking
    continuously the FPGA memory in an independent thread and when new data is
    stored, it is read and located in its corresponding buffer in RAM. When this
    command is executed, it returns a list with the data sored in the acquisition
    buffer for each channel. No access to the FPGA is required, it just returns the
    local copy in RAM of the data acquired for the four channels.</span></p>
    </br>
    <p></p>
    <h3 align="justify"><a name="3.4.3. NDATa"></a>3.4.3. NDATa</h3>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>This
    command returns the number of triggers detected (hardware or software)</span></p>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>It
    can be read always, independently of the state</span></p>
    
    <p></p>
    <table  border=1 frame=hsides rules=rows bordercolor="white"><caption>&nbsp;</caption>
    <tbody>
        <tr>
            <th class="table_cell_text_title" width="15%"> Usage: </th>
            <td class="table_cell_text">ACQU:NDAT? 
            <div class="table_cell_text">Or</div>
            <div class="table_cell_text">ACQUisition:NDATa?</div>
            </td>
        </tr>
        <tr>            
            <th class="table_cell_text_title" width="15%"> Type: </th>
            <td class="table_cell_text">READ_ONLY</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Set value: </th>
            <td class="table_cell_text">0: DIO_1
            <div class="table_cell_text">11: DIFF_IO_8</div>
            <div class="table_cell_text">12: DIFF_IO_9</div>
            </td>
        </tr>        
        <tr>
            <th class="table_cell_text_title" width="15%"> Returns: </th>
            <td class="table_cell_text">&lt;string&gt; that contains the number of triggers</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Ex.: </th>
            <td class="table_cell_text">ACQU:NDAT?
            <div class="table_cell_text"><i>2</i></div>
            </td>
        </tr>
    </tbody>
    </table>

    </br>
    <p><strong>Technical description</strong></p>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>Returns
    the number of triggers, hardware or software, detected. When a new acquisition
    starts, we use </span></p>

    <p></p>
    <table  border=1 frame=hsides rules=rows bordercolor="white"><caption>&nbsp;</caption>
    <tbody>
        <tr>
            <th class="table_cell_text_title" width="15%"> FPGA blocks </th>
            <td class="table_cell_text" colspan="3">DIGITALIO</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%" rowspan="2"> Registers </th>
            <td class="table_cell_text" width="15%">CNT0_V_CNT_V</td>
            <td class="table_cell_text">Returns the number of Hardware or Software triggers count </td>
        </tr>     
    </tbody>
    </table> 
    
    </br>
    <p></p>
    <h3 align="justify"><a name="3.4.4. RANGe"></a>3.4.4. RANGe</h3>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>This
    command sets the acquisition range, which results of combining the trans impedance
    and voltage gains, and it is applied to the four current amplifier channels at
    the same time. The maximum range that tis instrument can read is +/- 10V, so to
    convert from voltage to current the formula to apply is as follows:</span></p>

    <p class=Text align=center style='text-align:center'><span lang=EN-GB
    style='font-weight:normal;font-style:normal'>current = (adc_voltage_read_value
    * range)/10V</span></p>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>It
    is measured in mA and the parameter is integer value which corresponds to the
    filter value listed below (see Set Value).</span></p>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>This
    can be read always, but can only be modified when the acquisition state is not
    ACQUIRING.</span></p>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>The
    range value is only applied to the current amplifiers when the acquisition
    starts.</span></p>

    <p></p>
    <table  border=1 frame=hsides rules=rows bordercolor="white"><caption>&nbsp;</caption>
    <tbody>
        <tr>
            <th class="table_cell_text_title" width="15%"> Usage: </th>
            <td class="table_cell_text">ACQU:RANG &lt;value&gt; or ACQUisition:RANGe &lt;value&gt;
            <div class="table_cell_text">Or</div>
            <div class="table_cell_text">ACQU:RANG? or ACQUisition:RANGe?</div>
            </td>
        </tr>
        <tr>            
            <th class="table_cell_text_title" width="15%"> Type: </th>
            <td class="table_cell_text">READ_WRITE</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Set value: </th>
            <td class="table_cell_text">0: 1
            <div class="table_cell_text">1: 0.1</div>
            <div class="table_cell_text">2: 0.01</div>
            <div class="table_cell_text">3: 0.001</div>            
            <div class="table_cell_text">4: 0.0001</div>            
            <div class="table_cell_text">5: 0.00001</div>            
            <div class="table_cell_text">6: 0.000001</div>            
            <div class="table_cell_text">7: 0.0000001</div>            
            </td>
        </tr>        
        <tr>
            <th class="table_cell_text_title" width="15%"> Returns: </th>
            <td class="table_cell_text">&lt;string&gt; that contains the common value set
                to the four acquisition channels for the filter.</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Ex.: </th>
            <td class="table_cell_text">ACQU:RANG 5
            <div class="table_cell_text"><i>0.000001</i></div>
            </br>
            <div class="table_cell_text">ACQU:RANG?</div>
            <div class="table_cell_text"><i>0.000001</i></div>
            </td>
        </tr>
    </tbody>
    </table>

    </br>
    <p><strong>Technical description</strong></p>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>Acquisition
    range defines the maximum and minimum values in which the instrument works. The
    range can be modified before starting an acquisition and it configures the
    different gains to be applied in the current amplifiers (CA). These gains are
    the trans-impedance gain and the voltage gain of each amplifier. Adjustment of
    these amplifiers can be independent, but before starting an acquisition this
    command is used to set the same range settings to the 4-channels at the same
    time.</span></p>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>CA range
    are controlled through SPI block in the FPGA, so basically  to configure them
    the proper chip select has to be selected before sending the data to each
    filter and channel.</span></p>

    <p></p>
    <table  border=1 frame=hsides rules=rows bordercolor="white"><caption>&nbsp;</caption>
    <tbody>
        <tr>
            <th class="table_cell_text_title" width="15%"> FPGA blocks </th>
            <td class="table_cell_text" colspan="3">SPI</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%" rowspan="9"> Registers </th>
            <td class="table_cell_text" width="15%">ctl_spi_addr:</td>
            <td class="table_cell_text" width="15%">0x01</td>
            <td class="table_cell_text">Chip Select for TIGain the Port Expander 1 of CA #1</td>
        </tr>
        <tr>
            <td class="table_cell_text" width="15%">ctl_spi_addr:</td>
            <td class="table_cell_text" width="15%">0x02</td>
            <td class="table_cell_text">Chip Select for VGain the Port Expander 2 of CA #1</td>
        </tr>
        <tr>
            <td class="table_cell_text" width="15%">ctl_spi_addr:</td>
            <td class="table_cell_text" width="15%">0x06</td>
            <td class="table_cell_text">Chip Select for TIGain the Port Expander 1 of CA #2</td>
        </tr>
        <tr>
            <td class="table_cell_text" width="15%">ctl_spi_addr:</td>
            <td class="table_cell_text" width="15%">0x07</td>
            <td class="table_cell_text">Chip Select for VGain the Port Expander 2 of CA #2</td>
        </tr>
        <tr>
            <td class="table_cell_text" width="15%">ctl_spi_addr:</td>
            <td class="table_cell_text" width="15%">0x0b</td>
            <td class="table_cell_text">Chip Select for TIGain the Port Expander 1 of CA #3</td>
        </tr>
        <tr>
            <td class="table_cell_text" width="15%">ctl_spi_addr:</td>
            <td class="table_cell_text" width="15%">0x0c</td>
            <td class="table_cell_text">Chip Select for VGain the Port Expander 2 of CA #3</td>
        </tr>
        <tr>
            <td class="table_cell_text" width="15%">ctl_spi_addr:</td>
            <td class="table_cell_text" width="15%">0x10</td>
            <td class="table_cell_text">Chip Select for TIGain the Port Expander 2 of CA #4</td>
        </tr>
        <tr>
            <td class="table_cell_text" width="15%">ctl_spi_addr:</td>
            <td class="table_cell_text" width="15%">0x11</td>
            <td class="table_cell_text">Chip Select for VGain the Port Expander 2 of CA #4</td>
        </tr>        
        <tr>
            <td class="table_cell_text" colspan="3">Other register used to
                transmit/receive data though SPI:
                <div class="table_cell_text">ctl_tx, ctl_tx_data, ctl_tx_data_length,
                ctl_rx, ctl_rx_data_length, ctl_start, ctl_rx_data</div>
            </td>
        </tr>
    </tbody>
    </table>    

    </br>
    <p></p>
    <h3 align="justify"><a name="3.4.5. STARt"></a>3.4.5. STARt</h3>    

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>This
    command is used to start an acquisition. It uses previous data set to configure
    the FPGA blocks and starts the thread that reads the FPGA memory.</span></p>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>This
    command changes the acquisition state from ON to ACQUIRING. So it state is not
    ON, a new acquisition cannot be started.</span></p>

    <p></p>
    <table  border=1 frame=hsides rules=rows bordercolor="white"><caption>&nbsp;</caption>
    <tbody>
        <tr>
            <th class="table_cell_text_title" width="15%"> Usage: </th>
            <td class="table_cell_text">ACQU:STAR &lt;value&gt; or ACQUisition:STARt &lt;value&gt;
            </td>
        </tr>
        <tr>            
            <th class="table_cell_text_title" width="15%"> Type: </th>
            <td class="table_cell_text">WRITE_ONLY</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Set value: </th>
            <td class="table_cell_text">Fixed to True (not used but required)
            </td>
        </tr>        
        <tr>
            <th class="table_cell_text_title" width="15%"> Returns: </th>
            <td class="table_cell_text">None</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Ex.: </th>
            <td class="table_cell_text">ACQU:STAR True
            <div class="table_cell_text"><i>None</i></div>
            </td>
        </tr>
    </tbody>
    </table>

    </br>
    <p><strong>Technical description</strong></p>    

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>All
    the logic and configuration of the FPGA is done when this command is sent. It
    uses previously defined trigger and acquisition settings to properly setup the
    FPGA blocks according the acquisition type set. The different settings to be
    used when acquisition starts are:</span></p>

    <p class=Text style='text-indent:.5in;'><span lang=EN-GB style='font-weight:normal;font-style:normal;color:red'><strong>trigger_delay, trigger_input, trigger_mode,trigger_polarity, acquisition_time</strong></span></p>
    
    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>Apart
    from these settings defined by the user, there are other settings calculated by
    the main software which result is used in , other values are also calculated
    like:</span></p>

    <p class=Text style='text-indent:.5in;'><span lang=EN-GB style='font-weight:normal;
    font-style:normal;color:#0070C0;'><strong>acquisition_type</strong></span><span lang=EN-GB 
    style='font-weight:normal;font-style:normal'> that defines the configuration table to use in the FPGA</span></p>

    <p class=Text style='text-indent:.5in;'><span lang=EN-GB style='font-weight:normal;
    font-style:normal;color:#0070C0;'><strong>fifo_size</strong></span><span lang=EN-GB 
    style='font-weight:normal;font-style:normal'> which is
    calculated using the acquisition time and the minimum time need to acquire one
    sample</span></p>

    <p class=Text style='text-indent:.5in;'><span lang=EN-GB style='font-weight:normal;
    font-style:normal;color:#0070C0;'><strong>mask_value</strong></span><span lang=EN-GB 
    style='font-weight:normal;font-style:normal'> depending on the
    acquisition type, a different mask will be applied to save data in the FPGA
    memory</span></p>

    <p class=Text style='text-indent:.5in;'><span lang=EN-GB style='font-weight:normal;
    font-style:normal;color:#0070C0;'><strong>delay_time</strong></span><span lang=EN-GB 
    style='font-weight:normal;font-style:normal'> the delay
    to apply has to be calculates in units of 1024*time nanoseconds</span></p>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>The
    </span><span lang=EN-GB style='color:#0070C0;font-style:normal'>acquision_type </span><span
    lang=EN-GB style='font-weight:normal;font-style:normal'>uses mainly the trigger
    mode and the acquisition time, to define the table of registers and values to
    apply in the FPGA registers. The trigger mode will define the Id's that will be
    sent by the harmony bus and will trigger the FPGA memory to store data.
    Meanwhile the acquisition time, defines the configuration of the FIFO and also,
    the way in which the main software acts when reading the data stored in the
    FPGA memory. Due to technical limitations, the FIFO can only store a maximum of
    1024 samples per channel. These ALBA Em# is working with an acquisition of 200KS/s
    and an oversampling of 64, which means an acquisition time for one sample is
    320microseconds. With this numbers, the maximum acquisition time we can get using
    the FPGA FIFO is 320 milliseconds. If the acquisition time set is bigger than 
    this number, it has to be combined the result of several acquisitions with 
    the FIFO to its maximum size.</span></p>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>With
    this, we have up to 4 different types of acquisition configurations:</span></p>

    <p class=Text style='margin-top:0in;margin-left:.5in;text-indent:-.25in'>
    <span lang=EN-GB style='font-weight:normal;font-style:normal'>Trigger
    software with an acquisition time lower than FIFO limit (configuration data in
    <a class="table_cell_text" href="#A.1.">Appendix A.1</a>)</span></p>

    <p class=Text style='margin-top:0in;margin-left:.5in;text-indent:-.25in'>
    <span lang=EN-GB style='font-weight:normal;font-style:normal'>Trigger
    software with an acquisition time bigger than FIFO limit (configuration data in
    <a class="table_cell_text" href="#A.2.">Appendix A.2</a>)</span></p>

    <p class=Text style='margin-top:0in;margin-left:.5in;text-indent:-.25in'>
    <span lang=EN-GB style='font-weight:normal;font-style:normal'>Trigger
    hardware with an acquisition time lower than FIFO limit (configuration data in
    <a class="table_cell_text" href="#A.3.">Appendix A.3</a>)</span></p>

    <p class=Text style='margin-top:0in;margin-left:.5in;text-indent:-.25in'>
    <span lang=EN-GB style='font-weight:normal;font-style:normal'>Trigger
    hardware with an acquisition time bigger than FIFO limit (configuration data
    in <a class="table_cell_text" href="#A.4.">Appendix A.4</a>)</span></p>

    <p class=Text style='margin-top:0in'><span lang=EN-GB style='font-weight:normal;
    font-style:normal'>The </span><span lang=EN-GB style='color:#0070C0;font-style:
    normal'>fifo_size </span><span lang=EN-GB style='font-weight:normal;font-style:
    normal'>is calculated in any case, depending on the acquisition mode. If
    acquisition time is lower than FIFO maximum size, then its value results form
    the division between the </span><span lang=EN-GB style='color:red'>acquisition_time
    </span><span lang=EN-GB style='font-weight:normal;font-style:normal'>set and
    the sample acquisition time (which is 320microseconds). If the acquisition time
    is bigger then the </span><span lang=EN-GB style='color:red'>acquisition_time </span><span
    lang=EN-GB style='font-weight:normal;font-style:normal'>is divided in equal </span><span
    lang=EN-GB style='color:#0070C0;font-style:normal'>fifo_size</span><span
    lang=EN-GB style='font-weight:normal;font-style:normal'> parts. The main
    software reads the data stored in the FPGA memory and also counts the number of
    parts acquired. When the number of partial counts it reaches the expected number,
    the acquisition is stopped and the resulting data is calculated as an average
    of the partial acquisitions acquired.</span></p>

    </br>
    <p></p>
    <h3 align="justify"><a name="3.4.6. STATe"></a>3.4.6. STATe</h3>
    
    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>This
    command returns the status of the acquisition. The possible allowed states in
    this instrument are:</span></p>

    <p class=Text style='text-indent:.5in;'><span lang=EN-GB style='font-weight:normal;
    font-style:normal;color:#0070C0;'><strong>STATE_INIT:</strong></span><span lang=EN-GB 
    style='font-weight:normal;font-style:normal'> The system is being initialized</span></p>
    
    <p class=Text style='text-indent:.5in;'><span lang=EN-GB style='font-weight:normal;
    font-style:normal;color:#0070C0;'><strong>STATE_ON:</strong></span><span lang=EN-GB 
    style='font-weight:normal;font-style:normal'> System read to accept commands or 
    acquisition finished</span></p>

    <p class=Text style='text-indent:.5in;'><span lang=EN-GB style='font-weight:normal;
    font-style:normal;color:#0070C0;'><strong>STATE_ACQUIRING:</strong></span><span lang=EN-GB 
    style='font-weight:normal;font-style:normal'> Acquisition in progress</span></p>

    <p class=Text style='text-indent:.5in;'><span lang=EN-GB style='font-weight:normal;
    font-style:normal;color:#0070C0;'><strong>STATE_FAULT:</strong></span><span lang=EN-GB 
    style='font-weight:normal;font-style:normal'> Problems detected in the system. 
    Acquisition stopped.</span></p>
    
    <p></p>
    <table  border=1 frame=hsides rules=rows bordercolor="white"><caption>&nbsp;</caption>
    <tbody>
        <tr>
            <th class="table_cell_text_title" width="15%"> Usage: </th>
            <td class="table_cell_text">ACQU:STAT? or ACQUisition:STATe? or ACQU?
            </td>
        </tr>
        <tr>            
            <th class="table_cell_text_title" width="15%"> Type: </th>
            <td class="table_cell_text">READ_ONLY</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Returns: </th>
            <td class="table_cell_text">&lt;string&gt; that contains the state of the instrument
                name</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Ex.: </th>
            <td class="table_cell_text">ACQU?
            <div class="table_cell_text"><i>STATE_ON</i></div>
            </td>
        </tr>
    </tbody>
    </table>

    </br>
    <p><strong>Technical description</strong></p>

    <p class=Text style='margin-top:0in'><span lang=EN-GB style='font-weight:normal;
    font-style:normal'>This command only return the internal state of the main
    software, regarding the acquisition. Thea are 4 different states that can be
    returned:</span></p>

    <p class=Text style='text-indent:.5in;'><span lang=EN-GB style='font-weight:normal;
    font-style:normal;color:#0070C0;'><strong>INIT:</strong></span><span lang=EN-GB 
    style='font-weight:normal;font-style:normal'> The main software is still under initialization</span></p>
    
    <p class=Text style='text-indent:.5in;'><span lang=EN-GB style='font-weight:normal;
    font-style:normal;color:#0070C0;'><strong>ON:</strong></span><span lang=EN-GB 
    style='font-weight:normal;font-style:normal'> System already initialized and ready
    to accept commands, to setup an acquisition, etc.</span></p>

    <p class=Text style='text-indent:.5in;'><span lang=EN-GB style='font-weight:normal;
    font-style:normal;color:#0070C0;'><strong>ACQUIRING:</strong></span><span lang=EN-GB 
    style='font-weight:normal;font-style:normal'> An acquisition has been launched and
    it is in progress</span></p>

    <p class=Text style='text-indent:.5in;'><span lang=EN-GB style='font-weight:normal;
    font-style:normal;color:#0070C0;'><strong>FAULT:</strong></span><span lang=EN-GB 
    style='font-weight:normal;font-style:normal'> Some miss function has happened and 
    the normal operation cannot be carried out.</span></p>    
    
    </br>
    <p></p>
    <h3 align="justify"><a name="3.4.7. STOP"></a>3.4.7. STOP</h3>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>This
    command stops a previously started acquisition. It finishes the thread which is
    reading continuously the FPGA memory and configures the FPGA to stop sending
    data to the FPGA memory.</span></p>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>This
    command can be called from ACQUIRING state to finish an acquisition, or from
    any other state to reset the acquisition.</span></p>

    <p></p>
    <table  border=1 frame=hsides rules=rows bordercolor="white"><caption>&nbsp;</caption>
    <tbody>
        <tr>
            <th class="table_cell_text_title" width="15%"> Usage: </th>
            <td class="table_cell_text">ACQU:STOP &lt;value&gt; or ACQUisition:STOP &lt;value&gt;
            </td>
        </tr>
        <tr>            
            <th class="table_cell_text_title" width="15%"> Type: </th>
            <td class="table_cell_text">WRITE_ONLY</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Set value: </th>
            <td class="table_cell_text">Fixed to True (not used but required)
            </td>
        </tr>        
        <tr>
            <th class="table_cell_text_title" width="15%"> Returns: </th>
            <td class="table_cell_text">None</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Ex.: </th>
            <td class="table_cell_text">ACQU:STOP True
            <div class="table_cell_text"><i>None</i></div>
            </td>
        </tr>
    </tbody>
    </table>

    </br>
    <p><strong>Technical description</strong></p>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>When
    an acquisition is stopped, the saving of data samples in the FPGA memory is
    also stopped. Tis is done writing in the FPGA Memory register which disabled
    the data saving. Apart from this, the data sending through the harmony bus is
    also stopped by resetting the output ID of the ADC channels in the ADCCORE. And
    finally, if the acquisition type is with partial acquisitions, the counter
    which is use to count those partial acquisitions is also disabled.</span></p>

    <p></p>
    <table  border=1 frame=hsides rules=rows bordercolor="white"><caption>&nbsp;</caption>
    <tbody>
        <tr>
            <th class="table_cell_text_title" width="15%"> FPGA blocks </th>
            <td class="table_cell_text" colspan="3">MEMORY, ADCCORE & DIGITALIO</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%" rowspan="7"> Registers </th>
            <td class="table_cell_text" width="15%">MEMORY: CTL_SAVE</td>
            <td class="table_cell_text" width="15%">0x00</td>
            <td class="table_cell_text">No save data</td>
        </tr>     
        <tr>
            <td class="table_cell_text" width="15%">ADCCORE: ID_CH1_ID</td>
            <td class="table_cell_text" width="15%">0x00 </td>
            <td class="table_cell_text">Rest Channel 1 ID. Stop to send data tho harmony bus. </td>
        </tr>     
        <tr>
            <td class="table_cell_text" width="15%">ADCCORE: ID_CH2_ID</td>
            <td class="table_cell_text" width="15%">0x00 </td>
            <td class="table_cell_text">Same as channel 1 </td>
        </tr>     
        <tr>
            <td class="table_cell_text" width="15%">ADCCORE: ID_CH3_ID</td>
            <td class="table_cell_text" width="15%">0x00 </td>
            <td class="table_cell_text">Same as channel 1 </td>
        </tr>     
        <tr>
            <td class="table_cell_text" width="15%">ADCCORE: ID_CH4_ID</td>
            <td class="table_cell_text" width="15%">0x00 </td>
            <td class="table_cell_text">Same as channel 1 </td>
        </tr>     
        <tr>
            <td class="table_cell_text" width="15%">DIGITALIO:DIS_STP_DIS1_M</td>
            <td class="table_cell_text" width="15%">0x03</td>
            <td class="table_cell_text">Disable mode to manual control </td>
        </tr>     
        <tr>
            <td class="table_cell_text" width="15%">DIGITALIO:DIS_STP_WD1</td>
            <td class="table_cell_text" width="15%">0x0</td>
            <td class="table_cell_text">Disable harmoy counter </td>
        </tr>     
    </tbody>
    </table>    
    
    </br>
    <p></p>
    <h3 align="justify"><a name="3.4.8. TIME"></a>3.4.8. TIME</h3>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>This
    command sets the acquisition time in milliseconds. The minimum acquisition time
    that can be sets corresponds to 0.320 milliseconds.</span></p>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>This
    can be read always, but can only be modified when the acquisition state is not
    ACQUIRING.</span></p>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>The
    acquisition time value is only applied to the current amplifiers when the
    acquisition starts.</span></p>

    <p></p>
    <table  border=1 frame=hsides rules=rows bordercolor="white"><caption>&nbsp;</caption>
    <tbody>
        <tr>
            <th class="table_cell_text_title" width="15%"> Usage: </th>
            <td class="table_cell_text">ACQU:TIME &lt;value&gt; or ACQUisition:TIME &lt;value&gt;
            <div class="table_cell_text">Or</div>
            <div class="table_cell_text">ACQU:TIME? or ACQUisition:TIME?</div>
            </td>
        </tr>
        <tr>            
            <th class="table_cell_text_title" width="15%"> Type: </th>
            <td class="table_cell_text">READ_WRITE</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Set value: </th>
            <td class="table_cell_text">String that contains the number with the acquisition time to be set
            </td>
        </tr>        
        <tr>
            <th class="table_cell_text_title" width="15%"> Returns: </th>
            <td class="table_cell_text">&lt;string&gt;  that contains the acquisition time set.</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Ex.: </th>
            <td class="table_cell_text">ACQU:TIME 1000
            <div class="table_cell_text"><i>1000</i></div>
            </br>
            <div class="table_cell_text">ACQU:TIME?</div>
            <div class="table_cell_text"><i>1000</i></div>
            </td>
        </tr>
    </tbody>
    </table>

    </br>
    <p><strong>Technical description</strong></p>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>This
    command is used to set the internal variable </span><span lang=EN-GB
    style='color:red'>acquistion_time</span><span lang=EN-GB style='font-weight:
    normal;font-style:normal'> that is to configure  the acquisition type, when it
    starts. This parameters is not allowed to be modified when an acquisition is
    already running.</span></p>
    
    </br>
    <p></p>
    <h2 align="justify"><a name="3.5. Channel Commands"></a>3.5. Channel Commands</h2>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>These
    commands are used to configure or check the status of the acquisition channels
    independently. They are grouped under the </span><span lang=EN-GB><strong>CHAN</strong>nelXX
    </span><span lang=EN-GB style='font-weight:normal;font-style:normal'>component, 
    where XX is the channel number from 01 to 04 (two digits). So to execute these commands you
    need to enter the component first, then follow by <strong>:</strong> and then the command.</span></p>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>By
    default, if no additional parameter or command is send, it executes the </span><span
    lang=EN-GB>INSCurrent</span><span lang=EN-GB style='font-weight:normal;
    font-style:normal'> command</span></p>

    </br>
    <p></p>
    <h3 align="justify"><a name="3.5.1. AVGCurrent"></a>3.5.1. AVGCurrent</h3>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>This
    command returns the average current value of all samples acquired in a
    particular channel. The data used to calculate this average value is the
    current data stored in the FPGA memory. </span></p>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>This
    command can always be read and it is reset when a new acquisition starts.</span></p>

    <p></p>
    <table  border=1 frame=hsides rules=rows bordercolor="white"><caption>&nbsp;</caption>
    <tbody>
        <tr>
            <th class="table_cell_text_title" width="15%"> Usage: </th>
            <td class="table_cell_text">CHANXX:AVGC?? or CHANnelXX:AVGCurrent?</td>
        </tr>
        <tr>            
            <th class="table_cell_text_title" width="15%"> Type: </th>
            <td class="table_cell_text">READ_ONLY</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Returns: </th>
            <td class="table_cell_text">&lt;string&gt; that contains value of the 
            average current in millivolts.</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Ex.: </th>
            <td class="table_cell_text">CHAN02:AVGC?
            <div class="table_cell_text"><i>-1.453476</i></div>
            </td>
        </tr>
    </tbody>
    </table>

    </br>
    <p><strong>Technical description</strong></p>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>This
    command returns the average value of all samples acquired by a particular
    channel (see technical descrition of </span><span lang=EN-GB><a href="#_CURRent"><span
    style='font-weight:normal;font-style:normal'>CURRent</span></a></span><span
    lang=EN-GB style='font-weight:normal;font-style:normal'>). Each channel has an
    internal buffer where they store the data stored in the FPGA Memory. That data
    comes from the AVERAGE module (ID values </span><span style='font-size:10.0pt;
    line-height:115%;font-family:"Courier New";color:#00B0F0;font-style:normal'>AVG_ID_X
    </span><span lang=EN-GB style='font-weight:normal;font-style:normal'>where X is
    the channel number).</span><span lang=EN-GB style='font-size:10.0pt;line-height:
    115%;font-family:"Courier New";color:#00B0F0;font-style:normal'> </span></p>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>Each
    channel buffer is reset when a new acquisition starts, so this values are also
    reset.</span></p>
    
    </br>
    <p></p>
    <h3 align="justify"><a name="3.5.2. CURRent"></a>3.5.2. CURRent</h3>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>This
    command returns the current buffer that contains all samples acquired in a
    particular channel, since the acquisition started. The data returned by this command
    is data acquired and stored in the FPGA memory. </span></p>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>This
    command can always be read and it is reset when a new acquisition starts.</span></p>

    <p></p>
    <table  border=1 frame=hsides rules=rows bordercolor="white"><caption>&nbsp;</caption>
    <tbody>
        <tr>
            <th class="table_cell_text_title" width="15%"> Usage: </th>
            <td class="table_cell_text">CHANXX:CURR? or CHANnelXX:CURRent?</td>
        </tr>
        <tr>            
            <th class="table_cell_text_title" width="15%"> Type: </th>
            <td class="table_cell_text">READ_WRITE</td>
        </tr>   
        <tr>
            <th class="table_cell_text_title" width="15%"> Returns: </th>
            <td class="table_cell_text">&lt;string&gt; that contains a joined list will all the current values in millivolts read in a channel.</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Ex.: </th>
            <td class="table_cell_text">CHAN03:CURR? 
            <div class="table_cell_text"><i>[0.000153, 0.000153]</i></div>
            </td>
        </tr>
    </tbody>
    </table>

    </br>
    <p><strong>Technical description</strong></p>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>This
    command returns the buffer of samples acquired by a particular channel. This
    buffer is filled with the data that comes from the FPGA Memory, which is the
    data that comes from the AVERAGE module of each channel. So basically, the data
    to be returned is that data with </span><span style='font-size:10.0pt;
    line-height:115%;font-family:"Courier New";color:#00B0F0;font-style:normal'>AVG_ID_X
    </span><span lang=EN-GB style='font-weight:normal;font-style:normal'>as id
    value in the FPGA Memory. Remember that each data stored contains three fields:
    the timestamp; the data; the ID of the module who has originated the data.</span></p>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>When
    the acquisition is using partial acquisitions, the data coming form the AVERAGE
    modules is stored in temporal buffers and when the number of partial
    acquisitions to count is reached, the average value of this temporal buffer is
    added to the channel buffer.</span></p>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>Each
    channel buffer is reset when a new acquisition starts.</span></p>

    </br>
    <p></p>
    <h3 align="justify"><a name="3.5.3. INSCurrent"></a>3.5.3. INSCurrent</h3>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>This
    command returns the instant current read by the ADC module in the FPGA. This is
    a direct read of the ADC channel.</span></p>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>This
    command can always be read and it is reset when a new acquisition starts.</span></p>

    <p></p>
    <table  border=1 frame=hsides rules=rows bordercolor="white"><caption>&nbsp;</caption>
    <tbody>
        <tr>
            <th class="table_cell_text_title" width="15%"> Usage: </th>
            <td class="table_cell_text">CHANXX:INSC? or CHANnelXX:INSCurrent?</td>
        </tr>
        <tr>            
            <th class="table_cell_text_title" width="15%"> Type: </th>
            <td class="table_cell_text">READ_WRITE</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Returns: </th>
            <td class="table_cell_text">&lt;string&gt; that contains the instant
            current value in millivolts read in a channel.</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Ex.: </th>
            <td class="table_cell_text">CHAN04:INSC? 
            <div class="table_cell_text"><i>2.063828</i></div>
            </td>
        </tr>
    </tbody>
    </table>

    </br>
    <p><strong>Technical description</strong></p>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>This
    commands uses the directly the output of the ADCCORE module to show instant
    current values. The value returned is a voltage value, so it needs to be
    converted to current. For that conversion, the acquisition range is used with
    the following formula:</span></p>

    <p class=Text align=center style='text-align:center'><span lang=EN-GB
    style='font-weight:normal;font-style:normal'>Current = (ADC_value read *
    acquisition_range) / maximum_voltage</span></p>

    <p class=Text align=left style='text-align:left'><span lang=EN-GB
    style='font-weight:normal;font-style:normal'>Where the maximum voltage range that
    can be measured is 10Volts.</span></p>

    <p></p>
    <table  border=1 frame=hsides rules=rows bordercolor="white"><caption>&nbsp;</caption>
    <tbody>
        <tr>
            <th class="table_cell_text_title" width="15%"> FPGA blocks </th>
            <td class="table_cell_text" colspan="2">ADCCORE</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%" rowspan="4"> Registers </th>
            <td class="table_cell_text" width="15%">ADC_CH1</td>
            <td class="table_cell_text">Voltage value channel 1</td>
        </tr>     
        <tr>
            <td class="table_cell_text" width="15%">ADC_CH2</td>
            <td class="table_cell_text">Voltage value channel 2</td>
        </tr>     
        <tr>
            <td class="table_cell_text" width="15%">ADC_CH3</td>
            <td class="table_cell_text">Voltage value channel 3</td>
        </tr>     
        <tr>
            <td class="table_cell_text" width="15%">ADC_CH4</td>
            <td class="table_cell_text">Voltage value channel 4</td>
        </tr>     
    </tbody>
    </table>    

    </br>
    <p></p>
    <h3 align="justify"><a name="3.5.4. CABO"></a>3.5.4. CABO</h3>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>This
    component is used to the get information and controls the current amplifier
    boards. This is a group of commands are grouped under the </span><span
    lang=EN-GB><strong>CHAN</strong>nelXX:<strong>CABO</strong>ard </span><span lang=EN-GB style='font-weight:normal;
    font-style:normal'>component, where XX is the channel number from 01 to 04 (two
    digits). So to execute these commands you need to enter the component first,
    then follow by <strong>:</strong> and then the command.</span></p>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>By
    default, if no additional parameter or command is send, it executes the </span><span
    lang=EN-GB>INIT</span><span lang=EN-GB style='font-weight:normal;font-style:
    normal'> command</span></p>

    </br>
    <p></p>
    <h4 align="justify"><a name="3.5.4.1. FILTer"></a>3.5.4.1. FILTer</h4>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>This
    command configures the current amplifier filter, which sets the prefilter and
    postfilter, for a particular channel. It is measured in Hz and the parameter is
    integer value which corresponds to the filter value listed below (see Set
    Value) </span></p>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>This
    can be read always, but can only be modified when the acquisition state is not
    ACQUIRING.</span></p>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>The
    filter value is only applied to the current amplifiers when the acquisition
    starts.</span></p>

    <p></p>
    <table  border=1 frame=hsides rules=rows bordercolor="white"><caption>&nbsp;</caption>
    <tbody>
        <tr>
            <th class="table_cell_text_title" width="15%"> Usage: </th>
            <td class="table_cell_text">CHANXX:CABO:FILT &lt;value&gt; or CHANnelXX:CABOard:FILTer &lt;value&gt;
            <div class="table_cell_text">Or</div>
            <div class="table_cell_text">CHANXX:CABO:FILT? or CHANnelXX:CABOard:FILTer?</div>
            </td>
        </tr>
        <tr>            
            <th class="table_cell_text_title" width="15%"> Type: </th>
            <td class="table_cell_text">READ_WRITE</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Set value: </th>
            <td class="table_cell_text">0: 3200 Hz
            <div class="table_cell_text">1: 100 Hz</div>
            <div class="table_cell_text">2: 10 Hz</div>
            <div class="table_cell_text">3: 1 Hz</div>
            <div class="table_cell_text">4: 0.5Hz</div>
            </td>
        </tr>        
        <tr>
            <th class="table_cell_text_title" width="15%"> Returns: </th>
            <td class="table_cell_text">&lt;string&gt; that contains the value set to the filter in a particular channel.</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Ex.: </th>
            <td class="table_cell_text">CHAN01:CABO:FILT 0 
            <div class="table_cell_text"><i>3200</i></div>
            </br>
            <div class="table_cell_text">CHAN01:CABO:FILT? </div>
            <div class="table_cell_text"><i>3200</i></div>
            </td>
        </tr>
    </tbody>
    </table>

    </br>
    <p><strong>Technical description</strong></p>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>All
    CABO (Current Amplifier Board) commands are set using the SPI module. Although
    the acquisition filter is also modifying this data, this command allows an
    individual modification of the filter set for a particular channel.</span></p>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>As
    it has been already explained, the Filter command means to change the PreFilter
    and the PostFilter values.</span></p>

    <p class=Text><span class=MsoHyperlink><span lang=EN-GB style='font-weight:normal;
    font-style:normal;text-decoration:none'>(Apply only specific
    value for selected channel)</span></span></p>

    <p></p>
    <table  border=1 frame=hsides rules=rows bordercolor="white"><caption>&nbsp;</caption>
    <tbody>
        <tr>
            <th class="table_cell_text_title" width="15%"> FPGA blocks </th>
            <td class="table_cell_text" colspan="3">SPI</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%" rowspan="14"> Registers </th>
            <th class="table_cell_text_title" width="15%" colspan="3"> For Channel 1: </th>
        </tr>
        <tr>
            <td class="table_cell_text" width="15%">ctl_spi_addr:</td>
            <td class="table_cell_text" width="15%">0x01</td>
            <td class="table_cell_text">Chip Select for PostFilter the Port Expander 1 of CA #1</td>
        </tr>
        <tr>
            <td class="table_cell_text" width="15%">ctl_spi_addr:</td>
            <td class="table_cell_text" width="15%">0x02</td>
            <td class="table_cell_text">Chip Select for PreFilter the Port Expander 2 of CA #1</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%" colspan="3"> For Channel 2: </th>
        </tr>
        <tr>
            <td class="table_cell_text" width="15%">ctl_spi_addr:</td>
            <td class="table_cell_text" width="15%">0x06</td>
            <td class="table_cell_text">Chip Select for PostFilter the Port Expander 1 of CA #2</td>
        </tr>
        <tr>
            <td class="table_cell_text" width="15%">ctl_spi_addr:</td>
            <td class="table_cell_text" width="15%">0x07</td>
            <td class="table_cell_text">Chip Select for PreFilter the Port Expander 2 of CA #2</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%" colspan="3"> For Channel 3: </th>
        </tr>
        <tr>
            <td class="table_cell_text" width="15%">ctl_spi_addr:</td>
            <td class="table_cell_text" width="15%">0x0b</td>
            <td class="table_cell_text">Chip Select for PostFilter the Port Expander 1 of CA #3</td>
        </tr>
        <tr>
            <td class="table_cell_text" width="15%">ctl_spi_addr:</td>
            <td class="table_cell_text" width="15%">0x0c</td>
            <td class="table_cell_text">Chip Select for PreFilter the Port Expander 2 of CA #3</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%" colspan="3"> For Channel 4: </th>
        </tr>
        <tr>
            <td class="table_cell_text" width="15%">ctl_spi_addr:</td>
            <td class="table_cell_text" width="15%">0x10</td>
            <td class="table_cell_text">Chip Select for PostFilter the Port Expander 2 of CA #4</td>
        </tr>
        <tr>
            <td class="table_cell_text" width="15%">ctl_spi_addr:</td>
            <td class="table_cell_text" width="15%">0x11</td>
            <td class="table_cell_text">Chip Select for PreFilter the Port Expander 2 of CA #4</td>
        </tr>    
        <tr>
            <th class="table_cell_text" width="15%" colspan="3">&nbsp</th>
        </tr>        
        <tr>
            <td class="table_cell_text" colspan="3">Other register used to
                transmit/receive data though SPI:
                <div class="table_cell_text">ctl_tx, ctl_tx_data, ctl_tx_data_length,
                ctl_rx, ctl_rx_data_length, ctl_start, ctl_rx_data</div>
            </td>
        </tr>
    </tbody>
    </table>        
    
    </br>
    <p></p>
    <h4 align="justify"><a name="3.5.4.2. INIT"></a>3.5.4.2. INIT</h4>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>This
    command is used to initialize a particular current amplifier board. Control of
    the CA board is done though the SPI module in the FPGA that uses some port
    expanders to control it. During the initialization, the following values are
    applied:</span></p>

    <p class=Text style='margin-left:.5in;text-indent:-.25in'><span lang=EN-GB 
    style='font-weight:normal;font-style:normal'>Set Inversion to True</span></p>

    <p class=Text style='margin-left:.5in;text-indent:-.25in'><span lang=EN-GB 
    style='font-weight:normal;font-style:normal'>Sets Filter to 320 Hz, which 
    means Postfilter to 3200 Hz and PreFilter to 3500 Hz</span></p>

    <p class=Text style='margin-left:.5in;text-indent:-.25in'><span lang=EN-GB 
    style='font-weight:normal;font-style:normal'>Sets range to 1mA, which means
    trans impedance gain to 10k and V gain to 1</span></p>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>This
    can be read always, but can only be modified when the acquisition state is not
    ACQUIRING.</span></p>

    <p></p>
    <table  border=1 frame=hsides rules=rows bordercolor="white"><caption>&nbsp;</caption>
    <tbody>
        <tr>
            <th class="table_cell_text_title" width="15%"> Usage: </th>
            <td class="table_cell_text">CHANXX:CABO &lt;value&gt; or CHANXX:CABO:INIT &lt;value&gt;  or CHANnelXX:CABOard:INIT &lt;value&gt;
            <div class="table_cell_text">Or</div>
            <div class="table_cell_text">CHANXX:CABO? or CHANXX:CABO:INIT? or CHANnelXX:CABOard:INIT?</div>
            </td>
        </tr>
        <tr>            
            <th class="table_cell_text_title" width="15%"> Type: </th>
            <td class="table_cell_text">READ_WRITE</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Set value: </th>
            <td class="table_cell_text">Fixed to True (not used but required)
            </td>
        </tr>        
        <tr>
            <th class="table_cell_text_title" width="15%"> Returns: </th>
            <td class="table_cell_text">&lt;string&gt; that contains information
            if the channel has been already initialized.</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Ex.: </th>
            <td class="table_cell_text">CHAN01:CABO:INIT? 
            <div class="table_cell_text"><i>True</i></div>
            </br>
            <div class="table_cell_text">CHAN01:CABO:INIT True</div>
            <div class="table_cell_text"><i>True</i></div>
            </td>
        </tr>
    </tbody>
    </table>

    </br>
    <p><strong>Technical description</strong></p>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>This
    command initializes a current amplifier module using the SPI module. The
    initialization is done in three steps. First doing dummy readings to all items 
    in the CA module and setting de DAC load to ON. Then, doing a real
    initialization, by setting all port expanders bits as outputs. Finally,
    configuring the port expanders with default values, it means: Inversion set to
    On; trans-impedance gain to 10k; PostFilter set to 3200 Hz; PreFilter set to
    3500Hz; V Gain set to 1.</span></p>

    <p class=Text><span class=MsoHyperlink><span lang=EN-GB style='font-weight:normal;
    font-style:normal;text-decoration:none'>(Apply only specific
    value for selected channel)</span></span></p>

    <p></p>
    <table  border=1 frame=hsides rules=rows bordercolor="white"><caption>&nbsp;</caption>
    <tbody>
        <tr>
            <th class="table_cell_text_title" width="15%"> FPGA blocks </th>
            <td class="table_cell_text" colspan="3">SPI</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%" rowspan="22"> Registers </th>
            <th class="table_cell_text_title" width="15%" colspan="3"> For Channel 1: </th>
        </tr>
        <tr>
            <td class="table_cell_text" width="15%">ctl_spi_addr:</td>
            <td class="table_cell_text" width="15%">0x00</td>
            <td class="table_cell_text">Chip Select for for the EEPROM Memory ofCA #1</td>
        </tr>
        <tr>
            <td class="table_cell_text" width="15%">ctl_spi_addr:</td>
            <td class="table_cell_text" width="15%">0x01</td>
            <td class="table_cell_text">Chip Select for the Port Expander 1 of CA #1</td>
        </tr>
        <tr>
            <td class="table_cell_text" width="15%">ctl_spi_addr:</td>
            <td class="table_cell_text" width="15%">0x02</td>
            <td class="table_cell_text">Chip Select for the Port Expander 2 of CA #1</td>
        </tr>
        <tr>
            <td class="table_cell_text" width="15%">ctl_spi_addr:</td>
            <td class="table_cell_text" width="15%">0x03</td>
            <td class="table_cell_text">Chip Select for the DAC of CA #1</td>
        </tr>        
        <tr>
            <th class="table_cell_text_title" width="15%" colspan="3"> For Channel 2: </th>
        </tr>
        <tr>
            <td class="table_cell_text" width="15%">ctl_spi_addr:</td>
            <td class="table_cell_text" width="15%">0x05</td>
            <td class="table_cell_text">Chip Select for for the EEPROM Memory ofCA #2</td>
        </tr>
        <tr>
            <td class="table_cell_text" width="15%">ctl_spi_addr:</td>
            <td class="table_cell_text" width="15%">0x06</td>
            <td class="table_cell_text">Chip Select for the Port Expander 1 of CA #2</td>
        </tr>
        <tr>
            <td class="table_cell_text" width="15%">ctl_spi_addr:</td>
            <td class="table_cell_text" width="15%">0x07</td>
            <td class="table_cell_text">Chip Select for the Port Expander 2 of CA #2</td>
        </tr>
        <tr>
            <td class="table_cell_text" width="15%">ctl_spi_addr:</td>
            <td class="table_cell_text" width="15%">0x08</td>
            <td class="table_cell_text">Chip Select for the DAC of CA #2</td>
        </tr>     
        <tr>
            <th class="table_cell_text_title" width="15%" colspan="3"> For Channel 3: </th>
        </tr>
        <tr>
            <td class="table_cell_text" width="15%">ctl_spi_addr:</td>
            <td class="table_cell_text" width="15%">0x0a</td>
            <td class="table_cell_text">Chip Select for for the EEPROM Memory ofCA #3</td>
        </tr>
        <tr>
            <td class="table_cell_text" width="15%">ctl_spi_addr:</td>
            <td class="table_cell_text" width="15%">0x0b</td>
            <td class="table_cell_text">Chip Select for the Port Expander 1 of CA #3</td>
        </tr>
        <tr>
            <td class="table_cell_text" width="15%">ctl_spi_addr:</td>
            <td class="table_cell_text" width="15%">0x0c</td>
            <td class="table_cell_text">Chip Select for the Port Expander 2 of CA #3</td>
        </tr>
        <tr>
            <td class="table_cell_text" width="15%">ctl_spi_addr:</td>
            <td class="table_cell_text" width="15%">0x0d</td>
            <td class="table_cell_text">Chip Select for the DAC of CA #3</td>
        </tr>     
        <tr>
            <th class="table_cell_text_title" width="15%" colspan="3"> For Channel 4: </th>
        </tr>
        <tr>
            <td class="table_cell_text" width="15%">ctl_spi_addr:</td>
            <td class="table_cell_text" width="15%">0x0f</td>
            <td class="table_cell_text">Chip Select for for the EEPROM Memory ofCA #4</td>
        </tr>
        <tr>
            <td class="table_cell_text" width="15%">ctl_spi_addr:</td>
            <td class="table_cell_text" width="15%">0x10</td>
            <td class="table_cell_text">Chip Select for the Port Expander 1 of CA #4</td>
        </tr>
        <tr>
            <td class="table_cell_text" width="15%">ctl_spi_addr:</td>
            <td class="table_cell_text" width="15%">0x11</td>
            <td class="table_cell_text">Chip Select for the Port Expander 2 of CA #4</td>
        </tr>
        <tr>
            <td class="table_cell_text" width="15%">ctl_spi_addr:</td>
            <td class="table_cell_text" width="15%">0x12</td>
            <td class="table_cell_text">Chip Select for the DAC of CA #1</td>
        </tr>     
        <tr>
            <th class="table_cell_text" width="15%" colspan="3">&nbsp</th>
        </tr>        
        <tr>
            <td class="table_cell_text" colspan="3">Other register used to
                transmit/receive data though SPI:
                <div class="table_cell_text">ctl_tx, ctl_tx_data, ctl_tx_data_length,
                ctl_rx, ctl_rx_data_length, ctl_start, ctl_rx_data</div>
            </td>
        </tr>
    </tbody>
    </table>        
    
    </br>
    <p></p>
    <h4 align="justify"><a name="3.5.4.3. INVErsion"></a>3.5.4.3. INVErsion</h4>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>This
    command is used to set the inverse gain for a certain channel.</span></p>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>This
    can be read always, but can only be modified when the acquisition state is not
    ACQUIRING.</span></p>

    <p></p>
    <table  border=1 frame=hsides rules=rows bordercolor="white"><caption>&nbsp;</caption>
    <tbody>
        <tr>
            <th class="table_cell_text_title" width="15%"> Usage: </th>
            <td class="table_cell_text">CHANXX:CABO:INVE &lt;value&gt; or CHANnelXX:CABOard:INVErsion &lt;value&gt;
            <div class="table_cell_text">Or</div>
            <div class="table_cell_text">CHANXX:CABO:INVE? or CHANnelXX:CABOard:INVErsion?</div>
            </td>
        </tr>
        <tr>            
            <th class="table_cell_text_title" width="15%"> Type: </th>
            <td class="table_cell_text">READ_WRITE</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Set value: </th>
            <td class="table_cell_text">True: to enable inversion
            <div class="table_cell_text">False: to disable inversion</div>
            </td>
        </tr>        
        <tr>
            <th class="table_cell_text_title" width="15%"> Returns: </th>
            <td class="table_cell_text">&lt;string&gt; with Boolean information
            about inversion enable.</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Ex.: </th>
            <td class="table_cell_text">CHAN01:CABO:INVE? 
            <div class="table_cell_text"><i>True</i></div>
            </br>
            <div class="table_cell_text">CHAN01:CABO:INVE False</div>
            <div class="table_cell_text"><i>False</i></div>
            </td>
        </tr>
    </tbody>
    </table>

    </br>
    <p><strong>Technical description</strong></p>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>The
    inversion of a channel can be controlled also independently using the SPI
    module.</span></p>

    <p class=Text><span class=MsoHyperlink><span lang=EN-GB style='font-weight:normal;
    font-style:normal;text-decoration:none'>(Apply only specific
    value for selected channel)</span></span></p>

    <p></p>
    <table  border=1 frame=hsides rules=rows bordercolor="white"><caption>&nbsp;</caption>
    <tbody>
        <tr>
            <th class="table_cell_text_title" width="15%"> FPGA blocks </th>
            <td class="table_cell_text" colspan="3">SPI</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%" rowspan="10"> Registers </th>
            <th class="table_cell_text_title" width="15%" colspan="3"> For Channel 1: </th>
        </tr>
        <tr>
            <td class="table_cell_text" width="15%">ctl_spi_addr:</td>
            <td class="table_cell_text" width="15%">0x01</td>
            <td class="table_cell_text">Chip Select for Inversion the Port Expander 1 of CA #1</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%" colspan="3"> For Channel 2: </th>
        </tr>
        <tr>
            <td class="table_cell_text" width="15%">ctl_spi_addr:</td>
            <td class="table_cell_text" width="15%">0x06</td>
            <td class="table_cell_text">Chip Select for Inversion the Port Expander 1 of CA #2</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%" colspan="3"> For Channel 3: </th>
        </tr>
        <tr>
            <td class="table_cell_text" width="15%">ctl_spi_addr:</td>
            <td class="table_cell_text" width="15%">0x0b</td>
            <td class="table_cell_text">Chip Select for Inversion the Port Expander 1 of CA #3</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%" colspan="3"> For Channel 4: </th>
        </tr>
        <tr>
            <td class="table_cell_text" width="15%">ctl_spi_addr:</td>
            <td class="table_cell_text" width="15%">0x10</td>
            <td class="table_cell_text">Chip Select for Inversion the Port Expander 2 of CA #4</td>
        </tr>
        <tr>
            <th class="table_cell_text" width="15%" colspan="3">&nbsp</th>
        </tr>        
        <tr>
            <td class="table_cell_text" colspan="3">Other register used to
                transmit/receive data though SPI:
                <div class="table_cell_text">ctl_tx, ctl_tx_data, ctl_tx_data_length,
                ctl_rx, ctl_rx_data_length, ctl_start, ctl_rx_data</div>
            </td>
        </tr>
    </tbody>
    </table>        

    </br>
    <p></p>
    <h4 align="justify"><a name="3.5.4.4. POSTfilter"></a>3.5.4.4. POSTfilter</h4>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>The
    current amplifier post filter can be controlled of using the </span><span
    lang=EN-GB style='font-weight:normal'>FILTer</span><span lang=EN-GB
    style='font-weight:normal;font-style:normal'> command or in particular, through
    this command. Same as the </span><span lang=EN-GB style='font-weight:normal'>FILTer</span><span
    lang=EN-GB style='font-weight:normal;font-style:normal'> command, it is
    measured in Hz and the parameter is integer value which corresponds to the
    filter value listed below (see Set Value) </span></p>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>This
    can be read always, but can only be modified when the acquisition state is not
    ACQUIRING.</span></p>

    <p></p>
    <table  border=1 frame=hsides rules=rows bordercolor="white"><caption>&nbsp;</caption>
    <tbody>
        <tr>
            <th class="table_cell_text_title" width="15%"> Usage: </th>
            <td class="table_cell_text">CHANXX:CABO:POST &lt;value&gt; or CHANnelXX:CABOard:POSTfilter &lt;value&gt;
            <div class="table_cell_text">Or</div>
            <div class="table_cell_text">CHANXX:CABO:POST? or CHANnelXX:CABOard:POSTfilter?</div>
            </td>
        </tr>
        <tr>            
            <th class="table_cell_text_title" width="15%"> Type: </th>
            <td class="table_cell_text">READ_WRITE</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Set value: </th>
            <td class="table_cell_text">0: 3200 Hz
            <div class="table_cell_text">1: 100 Hz</div>
            <div class="table_cell_text">2: 10 Hz</div>
            <div class="table_cell_text">3: 1 Hz</div>
            </td>
        </tr>        
        <tr>
            <th class="table_cell_text_title" width="15%"> Returns: </th>
            <td class="table_cell_text">&lt;string&gt; that contains the value set to the post filter in a particular channel.</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Ex.: </th>
            <td class="table_cell_text">CHAN01:CABO:POST? 
            <div class="table_cell_text"><i>3200</i></div>
            </br>
            <div class="table_cell_text">CHAN01:CABO:POST 1</div>
            <div class="table_cell_text"><i>100</i></div>
            </td>
        </tr>
    </tbody>
    </table>

    </br>
    <p><strong>Technical description</strong></p>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>Same
    as for the for the filter command, the Post filter command can be independently
    adjusted using te SPI module.</span></p>

    <p class=Text><span class=MsoHyperlink><span lang=EN-GB style='font-weight:normal;
    font-style:normal;text-decoration:none'>(Apply only specific
    value for selected channel)</span></span></p>
    
    <p></p>
    <table  border=1 frame=hsides rules=rows bordercolor="white"><caption>&nbsp;</caption>
    <tbody>
        <tr>
            <th class="table_cell_text_title" width="15%"> FPGA blocks </th>
            <td class="table_cell_text" colspan="3">SPI</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%" rowspan="10"> Registers </th>
            <th class="table_cell_text_title" width="15%" colspan="3"> For Channel 1: </th>
        </tr>
        <tr>
            <td class="table_cell_text" width="15%">ctl_spi_addr:</td>
            <td class="table_cell_text" width="15%">0x01</td>
            <td class="table_cell_text">Chip Select for PostFilter the Port Expander 1 of CA #1</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%" colspan="3"> For Channel 2: </th>
        </tr>
        <tr>
            <td class="table_cell_text" width="15%">ctl_spi_addr:</td>
            <td class="table_cell_text" width="15%">0x06</td>
            <td class="table_cell_text">Chip Select for PostFilter the Port Expander 1 of CA #2</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%" colspan="3"> For Channel 3: </th>
        </tr>
        <tr>
            <td class="table_cell_text" width="15%">ctl_spi_addr:</td>
            <td class="table_cell_text" width="15%">0x0b</td>
            <td class="table_cell_text">Chip Select for PostFilter the Port Expander 1 of CA #3</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%" colspan="3"> For Channel 4: </th>
        </tr>
        <tr>
            <td class="table_cell_text" width="15%">ctl_spi_addr:</td>
            <td class="table_cell_text" width="15%">0x10</td>
            <td class="table_cell_text">Chip Select for PostFilter the Port Expander 2 of CA #4</td>
        </tr>
        <tr>
            <th class="table_cell_text" width="15%" colspan="3">&nbsp</th>
        </tr>        
        <tr>
            <td class="table_cell_text" colspan="3">Other register used to
                transmit/receive data though SPI:
                <div class="table_cell_text">ctl_tx, ctl_tx_data, ctl_tx_data_length,
                ctl_rx, ctl_rx_data_length, ctl_start, ctl_rx_data</div>
            </td>
        </tr>
    </tbody>
    </table>        

    </br>
    <p></p>
    <h4 align="justify"><a name="3.5.4.5. PREFilter"></a>3.5.4.5. PREFilter</h4>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>Same
    as post filter command, the current amplifier pre filter can be controlled of
    using the </span><span lang=EN-GB style='font-weight:normal'>FILTer</span><span
    lang=EN-GB style='font-weight:normal;font-style:normal'> command or in
    particular, through this command. Same as the </span><span lang=EN-GB
    style='font-weight:normal'>FILTer</span><span lang=EN-GB style='font-weight:
    normal;font-style:normal'> command, it is measured in Hz and the parameter is
    integer value which corresponds to the filter value listed below (see Set
    Value) </span></p>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>This
    can be read always, but can only be modified when the acquisition state is not
    ACQUIRING.</span></p>

    <p></p>
    <table  border=1 frame=hsides rules=rows bordercolor="white"><caption>&nbsp;</caption>
    <tbody>
        <tr>
            <th class="table_cell_text_title" width="15%"> Usage: </th>
            <td class="table_cell_text">CHANXX:CABO:PREF &lt;value&gt; or CHANnelXX:CABOard:PREFilter &lt;value&gt;
            <div class="table_cell_text">Or</div>
            <div class="table_cell_text">CHANXX:CABO:PREF? or CHANnelXX:CABOard:PREFilter?</div>
            </td>
        </tr>
        <tr>            
            <th class="table_cell_text_title" width="15%"> Type: </th>
            <td class="table_cell_text">READ_WRITE</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Set value: </th>
            <td class="table_cell_text">0: 3500 Hz
            <div class="table_cell_text">1: 100 Hz</div>
            <div class="table_cell_text">2: 10 Hz</div>
            <div class="table_cell_text">3: 1 Hz</div>
            <div class="table_cell_text">4: 0.5 Hz</div>
            </td>
        </tr>        
        <tr>
            <th class="table_cell_text_title" width="15%"> Returns: </th>
            <td class="table_cell_text">&lt;string&gt; that contains the value set to the pre filter in a particular channel.</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Ex.: </th>
            <td class="table_cell_text">CHAN01:CABO:PREF? 
            <div class="table_cell_text"><i>3500</i></div>
            </br>
            <div class="table_cell_text">CHAN01:CABO:PREF 1</div>
            <div class="table_cell_text"><i>100</i></div>
            </td>
        </tr>
    </tbody>
    </table>

    </br>
    <p><strong>Technical description</strong></p>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>Same
    as for the for the filter command, the Pre filter command can be independently
    adjusted using te SPI module.</span></p>

    <p class=Text><span class=MsoHyperlink><span lang=EN-GB style='font-weight:normal;
    font-style:normal;text-decoration:none'>(Apply only specific
    value for selected channel)</span></span></p>

    <p></p>
    <table  border=1 frame=hsides rules=rows bordercolor="white"><caption>&nbsp;</caption>
    <tbody>
        <tr>
            <th class="table_cell_text_title" width="15%"> FPGA blocks </th>
            <td class="table_cell_text" colspan="3">SPI</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%" rowspan="10"> Registers </th>
            <th class="table_cell_text_title" width="15%" colspan="3"> For Channel 1: </th>
        </tr>
        <tr>
            <td class="table_cell_text" width="15%">ctl_spi_addr:</td>
            <td class="table_cell_text" width="15%">0x02</td>
            <td class="table_cell_text">Chip Select for PreFilter the Port Expander 1 of CA #1</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%" colspan="3"> For Channel 2: </th>
        </tr>
        <tr>
            <td class="table_cell_text" width="15%">ctl_spi_addr:</td>
            <td class="table_cell_text" width="15%">0x07</td>
            <td class="table_cell_text">Chip Select for PreFilter the Port Expander 1 of CA #2</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%" colspan="3"> For Channel 3: </th>
        </tr>
        <tr>
            <td class="table_cell_text" width="15%">ctl_spi_addr:</td>
            <td class="table_cell_text" width="15%">0x0c</td>
            <td class="table_cell_text">Chip Select for PreFilter the Port Expander 1 of CA #3</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%" colspan="3"> For Channel 4: </th>
        </tr>
        <tr>
            <td class="table_cell_text" width="15%">ctl_spi_addr:</td>
            <td class="table_cell_text" width="15%">0x11</td>
            <td class="table_cell_text">Chip Select for PreFilter the Port Expander 2 of CA #4</td>
        </tr>
        <tr>
            <th class="table_cell_text" width="15%" colspan="3">&nbsp</th>
        </tr>        
        <tr>
            <td class="table_cell_text" colspan="3">Other register used to
                transmit/receive data though SPI:
                <div class="table_cell_text">ctl_tx, ctl_tx_data, ctl_tx_data_length,
                ctl_rx, ctl_rx_data_length, ctl_start, ctl_rx_data</div>
            </td>
        </tr>
    </tbody>
    </table>        
    
    </br>
    <p></p>
    <h4 align="justify"><a name="3.5.4.6 RANGe"></a>3.5.4.6 RANGe</h4>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>This
    command configures the current amplifier range, which results of combining the
    trans impedance and voltage gains, for a particular ca board. The parameter is
    an integer value which corresponds to factor to apply over the maximum range
    (see Set Value) . </span></p>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>It
    is measured in mA and the parameter is integer value which corresponds to the range
    value listed below (see Set Value).</span></p>

    <p></p>
    <table  border=1 frame=hsides rules=rows bordercolor="white"><caption>&nbsp;</caption>
    <tbody>
        <tr>
            <th class="table_cell_text_title" width="15%"> Usage: </th>
            <td class="table_cell_text">CHANXX:CABO:RANG &lt;value&gt; or CHANnelXX:CABOard:RANGe &lt;value&gt;
            <div class="table_cell_text">Or</div>
            <div class="table_cell_text">CHANXX:CABO:RANG? or CHANnelXX:CABOard:RANGe?</div>
            </td>
        </tr>
        <tr>            
            <th class="table_cell_text_title" width="15%"> Type: </th>
            <td class="table_cell_text">READ_WRITE</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Set value: </th>
            <td class="table_cell_text">0: 1
            <div class="table_cell_text">1: 0.1</div>
            <div class="table_cell_text">2: 0.01</div>
            <div class="table_cell_text">3: 0.001</div>            
            <div class="table_cell_text">4: 0.0001</div>            
            <div class="table_cell_text">5: 0.00001</div>            
            <div class="table_cell_text">6: 0.000001</div>            
            <div class="table_cell_text">7: 0.0000001</div>
            <div class="table_cell_text">8: AUTO</div>            
            </td>
        </tr>        
        <tr>
            <th class="table_cell_text_title" width="15%"> Returns: </th>
            <td class="table_cell_text">&lt;string&gt; that contains the common value set to the four acquisition channels for the range.</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Ex.: </th>
            <td class="table_cell_text">CHAN01:CABO:RANG? 
            <div class="table_cell_text"><i>1</i></div>
            </br>
            <div class="table_cell_text">CHAN01:CABO:RANG 5</div>
            <div class="table_cell_text"><i>0.000001</i></div>
            </td>
        </tr>
    </tbody>
    </table>

    </br>
    <p><strong>Technical description</strong></p>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>Same
    as all CABO (Current Amplifier Board) commands, it uses the SPI module and
    although the acquisition range command  is also modifying this data, this
    command allows an individual modification of the range set for a particular
    channel.</span></p>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>As
    it has been already explained, the Filter command means to change the trans
    impedance and voltage gain values.</span></p>

    <p class=Text><span class=MsoHyperlink><span lang=EN-GB style='font-weight:normal;
    font-style:normal;text-decoration:none'>(Apply only specific
    value for selected channel)</span></span></p>

    <p></p>
    <table  border=1 frame=hsides rules=rows bordercolor="white"><caption>&nbsp;</caption>
    <tbody>
        <tr>
            <th class="table_cell_text_title" width="15%"> FPGA blocks </th>
            <td class="table_cell_text" colspan="3">SPI</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%" rowspan="14"> Registers </th>
            <th class="table_cell_text_title" width="15%" colspan="3"> For Channel 1: </th>
        </tr>
        <tr>
            <td class="table_cell_text" width="15%">ctl_spi_addr:</td>
            <td class="table_cell_text" width="15%">0x01</td>
            <td class="table_cell_text">Chip Select for TIGain the Port Expander 1 of CA #1</td>
        </tr>
        <tr>
            <td class="table_cell_text" width="15%">ctl_spi_addr:</td>
            <td class="table_cell_text" width="15%">0x02</td>
            <td class="table_cell_text">Chip Select for VGain the Port Expander 2 of CA #1</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%" colspan="3"> For Channel 2: </th>
        </tr>
        <tr>
            <td class="table_cell_text" width="15%">ctl_spi_addr:</td>
            <td class="table_cell_text" width="15%">0x06</td>
            <td class="table_cell_text">Chip Select for TIGain the Port Expander 1 of CA #2</td>
        </tr>
        <tr>
            <td class="table_cell_text" width="15%">ctl_spi_addr:</td>
            <td class="table_cell_text" width="15%">0x07</td>
            <td class="table_cell_text">Chip Select for VGain the Port Expander 2 of CA #2</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%" colspan="3"> For Channel 3: </th>
        </tr>
        <tr>
            <td class="table_cell_text" width="15%">ctl_spi_addr:</td>
            <td class="table_cell_text" width="15%">0x0b</td>
            <td class="table_cell_text">Chip Select for TIGain the Port Expander 1 of CA #3</td>
        </tr>
        <tr>
            <td class="table_cell_text" width="15%">ctl_spi_addr:</td>
            <td class="table_cell_text" width="15%">0x0c</td>
            <td class="table_cell_text">Chip Select for VGain the Port Expander 2 of CA #3</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%" colspan="3"> For Channel 4: </th>
        </tr>
        <tr>
            <td class="table_cell_text" width="15%">ctl_spi_addr:</td>
            <td class="table_cell_text" width="15%">0x10</td>
            <td class="table_cell_text">Chip Select for TIGain the Port Expander 2 of CA #4</td>
        </tr>
        <tr>
            <td class="table_cell_text" width="15%">ctl_spi_addr:</td>
            <td class="table_cell_text" width="15%">0x11</td>
            <td class="table_cell_text">Chip Select for VGain the Port Expander 2 of CA #4</td>
        </tr>    
        <tr>
            <th class="table_cell_text" width="15%" colspan="3">&nbsp</th>
        </tr>        
        <tr>
            <td class="table_cell_text" colspan="3">Other register used to
                transmit/receive data though SPI:
                <div class="table_cell_text">ctl_tx, ctl_tx_data, ctl_tx_data_length,
                ctl_rx, ctl_rx_data_length, ctl_start, ctl_rx_data</div>
            </td>
        </tr>
    </tbody>
    </table>        
    
    </br>
    <p></p>
    <h4 align="justify"><a name="3.5.4.7. TEMPerature"></a>3.5.4.7. TEMPerature</h4>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>This
    command returns information about the current amplifier temperature.</span></p>

    <p></p>
    <table  border=1 frame=hsides rules=rows bordercolor="white"><caption>&nbsp;</caption>
    <tbody>
        <tr>
            <th class="table_cell_text_title" width="15%"> Usage: </th>
            <td class="table_cell_text">CHANXX:CABO:TEMP? or CHANXX:CABOard:TEMPeratue?
            </td>
        </tr>
        <tr>            
            <th class="table_cell_text_title" width="15%"> Type: </th>
            <td class="table_cell_text">READ_ONLY</td>
        </tr> 
        <tr>
            <th class="table_cell_text_title" width="15%"> Returns: </th>
            <td class="table_cell_text">&lt;string&gt; that contains the ca board temperature in degrees</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Ex.: </th>
            <td class="table_cell_text">CHAN03:CABO:TEMP?
            <div class="table_cell_text"><i>23.575</i></div></td>
        </tr>
    </tbody>
    </table>

    </br>
    <p><strong>Technical description</strong></p>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>Used
    in diagnostics, the carrier board temperature for each channel is read also
    using the SPI module.</span></p>

    <p class=Text><span class=MsoHyperlink><span lang=EN-GB style='font-weight:normal;
    font-style:normal;text-decoration:none'>(Apply only specific
    value for selected channel)</span></span></p>

    <p></p>
    <table  border=1 frame=hsides rules=rows bordercolor="white"><caption>&nbsp;</caption>
    <tbody>
        <tr>
            <th class="table_cell_text_title" width="15%"> FPGA blocks </th>
            <td class="table_cell_text" colspan="3">SPI</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%" rowspan="14"> Registers </th>
            <th class="table_cell_text_title" width="15%" colspan="3"> For Channel 1: </th>
        </tr>
        <tr>
            <td class="table_cell_text" width="15%">ctl_spi_addr:</td>
            <td class="table_cell_text" width="15%">0x04</td>
            <td class="table_cell_text">Chip Select for the Temperature Sensor of CA #1</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%" colspan="3"> For Channel 2: </th>
        </tr>
        <tr>
            <td class="table_cell_text" width="15%">ctl_spi_addr:</td>
            <td class="table_cell_text" width="15%">0x09</td>
            <td class="table_cell_text">Chip Select for the Temperature Sensor of CA #2</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%" colspan="3"> For Channel 3: </th>
        </tr>
        <tr>
            <td class="table_cell_text" width="15%">ctl_spi_addr:</td>
            <td class="table_cell_text" width="15%">0x0e</td>
            <td class="table_cell_text">Chip Select for the Temperature Sensor of CA #3</td>
        </tr>
         <tr>
            <th class="table_cell_text_title" width="15%" colspan="3"> For Channel 4: </th>
        </tr>
        <tr>
            <td class="table_cell_text" width="15%">ctl_spi_addr:</td>
            <td class="table_cell_text" width="15%">0x13</td>
            <td class="table_cell_text">Chip Select for the Temperature Sensor of CA #4</td>
        </tr>
        <tr>
            <th class="table_cell_text" width="15%" colspan="3">&nbsp</th>
        </tr>        
        <tr>
            <td class="table_cell_text" colspan="3">Other register used to
                transmit/receive data though SPI:
                <div class="table_cell_text">ctl_tx, ctl_tx_data, ctl_tx_data_length,
                ctl_rx, ctl_rx_data_length, ctl_start, ctl_rx_data</div>
            </td>
        </tr>
    </tbody>
    </table>      
    
    </br>
    <p></p>
    <h4 align="justify"><a name="3.5.4.8. TIGAin"></a>3.5.4.8. TIGAin</h4>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>The
    current amplifier trans-impedance gain is part of the RANGe command, but can
    also be controlled independently through this command. </span></p>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>It
    is measured in ohms and the parameter is integer value which corresponds to the
    ti gain value listed below (see Set Value) </span></p>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>This
    can be read always, but can only be modified when the acquisition state is not
    ACQUIRING</span></p>

    <p></p>
    <table  border=1 frame=hsides rules=rows bordercolor="white"><caption>&nbsp;</caption>
    <tbody>
        <tr>
            <th class="table_cell_text_title" width="15%"> Usage: </th>
            <td class="table_cell_text">CHANXX:CABO:TIGA &lt;value&gt; or CHANnelXX:CABOard:TIGAin &lt;value&gt;
            <div class="table_cell_text">Or</div>
            <div class="table_cell_text">CHANXX:CABO:TIGA? or CHANnelXX:CABOard:TIGAin?</div>
            </td>
        </tr>
        <tr>            
            <th class="table_cell_text_title" width="15%"> Type: </th>
            <td class="table_cell_text">READ_WRITE</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Set value: </th>
            <td class="table_cell_text">0: 10k
            <div class="table_cell_text">1: 1M</div>
            <div class="table_cell_text">2: 100M</div>
            <div class="table_cell_text">3: 1G</div>
            <div class="table_cell_text">4: 10G</div>
            </td>
        </tr>        
        <tr>
            <th class="table_cell_text_title" width="15%"> Returns: </th>
            <td class="table_cell_text">&lt;string&gt; that contains the ti gain for the specified channel.</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Ex.: </th>
            <td class="table_cell_text">CHAN03:CABO:TIGA?
            <div class="table_cell_text"><i>1M</i></div>
            </br>
            <div class="table_cell_text">CHAN03:CABO:TIGA 4</div>
            <div class="table_cell_text"><i>10G</i></div>
            </td>
        </tr>
    </tbody>
    </table>

    </br>
    <p><strong>Technical description</strong></p>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>Same
    as for the for the range command, the trans impedance gain command can be
    independently adjusted using te SPI module.</span></p>

    <p class=Text><span class=MsoHyperlink><span lang=EN-GB style='font-weight:normal;
    font-style:normal;text-decoration:none'>(Apply only specific
    value for selected channel)</span></span></p>

    <p></p>
    <table  border=1 frame=hsides rules=rows bordercolor="white"><caption>&nbsp;</caption>
    <tbody>
        <tr>
            <th class="table_cell_text_title" width="15%"> FPGA blocks </th>
            <td class="table_cell_text" colspan="3">SPI</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%" rowspan="14"> Registers </th>
            <th class="table_cell_text_title" width="15%" colspan="3"> For Channel 1: </th>
        </tr>
        <tr>
            <td class="table_cell_text" width="15%">ctl_spi_addr:</td>
            <td class="table_cell_text" width="15%">0x01</td>
            <td class="table_cell_text">Chip Select for TIGain the Port Expander 1 of CA #1</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%" colspan="3"> For Channel 2: </th>
        </tr>
        <tr>
            <td class="table_cell_text" width="15%">ctl_spi_addr:</td>
            <td class="table_cell_text" width="15%">0x06</td>
            <td class="table_cell_text">Chip Select for TIGain the Port Expander 1 of CA #2</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%" colspan="3"> For Channel 3: </th>
        </tr>
        <tr>
            <td class="table_cell_text" width="15%">ctl_spi_addr:</td>
            <td class="table_cell_text" width="15%">0x0b</td>
            <td class="table_cell_text">Chip Select for TIGain the Port Expander 1 of CA #3</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%" colspan="3"> For Channel 4: </th>
        </tr>
        <tr>
            <td class="table_cell_text" width="15%">ctl_spi_addr:</td>
            <td class="table_cell_text" width="15%">0x10</td>
            <td class="table_cell_text">Chip Select for TIGain the Port Expander 2 of CA #4</td>
        </tr>
        <tr>
            <th class="table_cell_text" width="15%" colspan="3">&nbsp</th>
        </tr>        
        <tr>
            <td class="table_cell_text" colspan="3">Other register used to
                transmit/receive data though SPI:
                <div class="table_cell_text">ctl_tx, ctl_tx_data, ctl_tx_data_length,
                ctl_rx, ctl_rx_data_length, ctl_start, ctl_rx_data</div>
            </td>
        </tr>
    </tbody>
    </table>                    
    
    </br>
    <p></p>
    <h4 align="justify"><a name="3.5.4.9. VGAIn"></a>3.5.4.9. VGAIn</h4>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>Same
    as the current amplifier Trans impedance gain, the Voltage gain is part of the
    RANGe command, but can also be controlled independently through this command. </span></p>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>The
    parameter is an integer value which corresponds to the v gain value listed
    below (see Set Value) </span></p>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>This
    can be read always, but can only be modified when the acquisition state is not
    ACQUIRING</span></p>

    <p></p>
    <table  border=1 frame=hsides rules=rows bordercolor="white"><caption>&nbsp;</caption>
    <tbody>
        <tr>
            <th class="table_cell_text_title" width="15%"> Usage: </th>
            <td class="table_cell_text">CHANXX:CABO:VGAI &lt;value&gt; or CHANnelXX:CABOard:VGAIn &lt;value&gt;
            <div class="table_cell_text">Or</div>
            <div class="table_cell_text">CHANXX:CABO:VGAI? or CHANnelXX:CABOard:VGAIn?</div>
            </td>
        </tr>
        <tr>            
            <th class="table_cell_text_title" width="15%"> Type: </th>
            <td class="table_cell_text">READ_WRITE</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Set value: </th>
            <td class="table_cell_text">0: 1
            <div class="table_cell_text">1: 10</div>
            <div class="table_cell_text">2: 50</div>
            <div class="table_cell_text">3:100</div>
            <div class="table_cell_text">4: sat</div>
            </td>
        </tr>        
        <tr>
            <th class="table_cell_text_title" width="15%"> Returns: </th>
            <td class="table_cell_text">&lt;string&gt; that contains the v gain for the specified channel.</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Ex.: </th>
            <td class="table_cell_text">CHAN03:CABO:VGAI?
            <div class="table_cell_text"><i>1</i></div>
            </br>
            <div class="table_cell_text">CHAN03:CABO:VGAI 3</div>
            <div class="table_cell_text"><i>100</i></div>
            </td>
        </tr>
    </tbody>
    </table>

    </br>
    <p><strong>Technical description</strong></p>


    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>Same
    as for the for the range command, the voltage gain command can be independently
    adjusted using te SPI module.</span></p>

    <p class=Text><span class=MsoHyperlink><span lang=EN-GB style='font-weight:normal;
    font-style:normal;text-decoration:none'>(Apply only specific
    value for selected channel)</span></span></p>

    <p></p>
    <table  border=1 frame=hsides rules=rows bordercolor="white"><caption>&nbsp;</caption>
    <tbody>
        <tr>
            <th class="table_cell_text_title" width="15%"> FPGA blocks </th>
            <td class="table_cell_text" colspan="3">SPI</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%" rowspan="14"> Registers </th>
            <th class="table_cell_text_title" width="15%" colspan="3"> For Channel 1: </th>
        </tr>
        <tr>
            <td class="table_cell_text" width="15%">ctl_spi_addr:</td>
            <td class="table_cell_text" width="15%">0x02</td>
            <td class="table_cell_text">Chip Select for VGain the Port Expander 2 of CA #1</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%" colspan="3"> For Channel 2: </th>
        </tr>
        <tr>
            <td class="table_cell_text" width="15%">ctl_spi_addr:</td>
            <td class="table_cell_text" width="15%">0x07</td>
            <td class="table_cell_text">Chip Select for VGain the Port Expander 2 of CA #2</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%" colspan="3"> For Channel 3: </th>
        </tr>
        <tr>
            <td class="table_cell_text" width="15%">ctl_spi_addr:</td>
            <td class="table_cell_text" width="15%">0x0c</td>
            <td class="table_cell_text">Chip Select for VGain the Port Expander 2 of CA #3</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%" colspan="3"> For Channel 4: </th>
        </tr>
        <tr>
            <td class="table_cell_text" width="15%">ctl_spi_addr:</td>
            <td class="table_cell_text" width="15%">0x11</td>
            <td class="table_cell_text">Chip Select for VGain the Port Expander 2 of CA #4</td>
        </tr>    
        <tr>
            <th class="table_cell_text" width="15%" colspan="3">&nbsp</th>
        </tr>        
        <tr>
            <td class="table_cell_text" colspan="3">Other register used to
                transmit/receive data though SPI:
                <div class="table_cell_text">ctl_tx, ctl_tx_data, ctl_tx_data_length,
                ctl_rx, ctl_rx_data_length, ctl_start, ctl_rx_data</div>
            </td>
        </tr>
    </tbody>
    </table>  
    
    </br>
    <p></p>
    <h3 align="justify"><a name="3.6. IOPort Commands"></a>3.6. IOPort Commands</h3>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>These
    commands are used to configure or check the status of the Digital Input Output
    ports (up to 4, LEMO connectors in the instrument rear side) and the General
    Purpose Input Output ports (up to 9 in the DB26 connector). They are grouped
    under the </span><span lang=EN-GB><strong>IOPO</strong>rtXX </span><span lang=EN-GB
    style='font-weight:normal;font-style:normal'>component, where XX is port number
    that goes form 01 to 13, where from 01 to 04 are the DIO ports and from 05 to
    13 are the GPIO, it means:</span></p>

    <p class=Text style='margin-top:0in;margin-right:0in;margin-bottom:0in;
    margin-left:1.0in;margin-bottom:.0001pt;text-indent:-.25in'><span lang=EN-GB 
    style='font-weight:normal;font-style:normal'>IOPOrt01
    to IOPOrt04 are equivalent to DIO 1 to DIO 4</span></p>

    <p class=Text style='margin-top:0in;margin-right:0in;margin-bottom:0in;
    margin-left:1.0in;margin-bottom:.0001pt;text-indent:-.25in'><span lang=EN-GB 
    style='font-weight:normal;font-style:normal'>IOPOrt
    05 to IOPOrt13 are equivalent to GPIO 1 to GPIO 9</span></p>

    </br>
    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>To execute
    these commands you need to enter the component first, then follow by <strong>:</strong> and
    then the command.</span></p>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>By
    default, if no additional parameter or command is send, it executes the </span><span
    lang=EN-GB>NAME</span><span lang=EN-GB style='font-weight:normal;font-style:
    normal'> command</span></p>
    
    </br>
    <p></p>
    <h3 align="justify"><a name="3.6.1. CONFig"></a>3.6.1. CONFig</h3>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>This
    command is used to configure the port as Input (1) or Output (0)</span></p>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>This
    command can always be executed and ports can be modified, except that port used
    in the acquisition with trigger hardware, if he acquisition has already
    started.</span></p>

    <p></p>
    <table  border=1 frame=hsides rules=rows bordercolor="white"><caption>&nbsp;</caption>
    <tbody>
        <tr>
            <th class="table_cell_text_title" width="15%"> Usage: </th>
            <td class="table_cell_text">IOPOXX:CONF &lt;value&gt; or IOPOrt XX:CONFig &lt;value&gt;
            <div class="table_cell_text">Or</div>
            <div class="table_cell_text">IOPOXX:CONF? or IOPOrt XX:CONFig?</div>
            </td>
        </tr>
        <tr>            
            <th class="table_cell_text_title" width="15%"> Type: </th>
            <td class="table_cell_text">READ_WRITE</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Set value: </th>
            <td class="table_cell_text">0: OUTPUT
            <div class="table_cell_text">1: INPUT</div>
            </td>
        </tr>        
        <tr>
            <th class="table_cell_text_title" width="15%"> Returns: </th>
            <td class="table_cell_text">&lt;string&gt; that port input or output type</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Ex.: </th>
            <td class="table_cell_text">IOPO02:CONFIG 1
            <div class="table_cell_text"><i>INPUT</i></div>
            </br>
            <div class="table_cell_text">IOPO02:CONFIG?</div>
            <div class="table_cell_text"><i>INPUT</i></div>
            </td>
        </tr>
    </tbody>
    </table>

    </br>
    <p><strong>Technical description</strong></p>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>The
    configuration of the IO ports means to modify the setting in he digitalIO FPGA
    module which controls the IO ports and also to set the configuration in the
    front end board (FE), which is controlled by the SPI module. IO ports can be
    GPIO or High Speed ports, so depending of the port type the Port Expander
    address of the Front End board to select changes.</span></p>

    <p></p>
    <table  border=1 frame=hsides rules=rows bordercolor="white"><caption>&nbsp;</caption>
    <tbody>
        <tr>
            <th class="table_cell_text_title" width="15%"> FPGA blocks </th>
            <td class="table_cell_text" colspan="3">DIGITALIO, SPI</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%" rowspan="9"> Registers </th>
            <td class="table_cell_text" width="15%">DIGITAL:DIGITALIO</td>
            <td class="table_cell_text" colspan="2"> Sets if GPIO is an input(1) or output(0). 
            The bit 0 refers to DIO1 and bit 4 to DIFF_IO_1</td>
        </tr>     
        <tr>
            <td class="table_cell_text" width="15%">DIGITAL:DIO_STP_IOP</td>
            <td class="table_cell_text" colspan="2">If it is 1 the signal is polarity is changed.
            The bit 0 refers to DIO1 and bit 4 to DIFF_IO_1</td>
        </tr>     
        <tr>
            <th class="table_cell_text_title" width="15%" colspan="3"> For GPIO ports: </th>
        </tr>
        <tr>
            <td class="table_cell_text" width="15%">ctl_spi_addr:</td>
            <td class="table_cell_text" width="15%">0x18 </td>
            <td class="table_cell_text">Chip Select for Port Expander 1 of the Front End Board</td>
        </tr>
        <tr>
            <td class="table_cell_text" width="15%">ctl_spi_addr:</td>
            <td class="table_cell_text" width="15%">0x19</td>
            <td class="table_cell_text">Chip Select for Port Expander2 of the Front End Board</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%" colspan="3"> For High Speed IO ports </th>
        </tr>
        <tr>
            <td class="table_cell_text" width="15%">ctl_spi_addr:</td>
            <td class="table_cell_text" width="15%">0x1a</td>
            <td class="table_cell_text">Chip Select for Port Expander3 of the Front End Board</td>
        </tr>
        <tr>
            <th class="table_cell_text" width="15%" colspan="3">&nbsp</th>
        </tr>        
        <tr>
            <td class="table_cell_text" colspan="3">Other register used to
                transmit/receive data though SPI:
                <div class="table_cell_text">ctl_tx, ctl_tx_data, ctl_tx_data_length,
                ctl_rx, ctl_rx_data_length, ctl_start, ctl_rx_data</div>
            </td>
        </tr>
    </tbody>
    </table> 
    
    </br>
    <p></p>
    <h3 align="justify"><a name="3.6.2. NAME"></a>3.6.2. NAME</h3>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>This
    command is to get the port type name</span></p>

    <p></p>
    <table  border=1 frame=hsides rules=rows bordercolor="white"><caption>&nbsp;</caption>
    <tbody>
        <tr>
            <th class="table_cell_text_title" width="15%"> Usage: </th>
            <td class="table_cell_text">IOPOXX:NAME? or IOPOrtXX:NAME?</div>
            </td>
        </tr>
        <tr>            
            <th class="table_cell_text_title" width="15%"> Type: </th>
            <td class="table_cell_text">READ_ONLY</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Returns: </th>
            <td class="table_cell_text">&lt;string&gt; that contains the port name</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Ex.: </th>
            <td class="table_cell_text">IOPO02:NAME?
            <div class="table_cell_text"><i>DIO_2</i></div>
            </td>
        </tr>
    </tbody>
    </table>
    
    </br>
    <p></p>
    <h3 align="justify"><a name="3.6.3. VALUe"></a>3.6.3. VALUe</h3>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>This
    command is used to read the port value in any case (input or output) or to set
    a value in case of the port will be configured as output port. To set a value
    in an input port is not allowed.</span></p>

    <p></p>
    <table  border=1 frame=hsides rules=rows bordercolor="white"><caption>&nbsp;</caption>
    <tbody>
        <tr>
            <th class="table_cell_text_title" width="15%"> Usage: </th>
            <td class="table_cell_text">IOPOXX:VALU &lt;value&gt; or IOPOrtXX:VALUe &lt;value&gt;
            <div class="table_cell_text">Or</div>
            <div class="table_cell_text">IOPOXX:VALE? or IOPOrtXX:VALUe?</div>
            </td>
        </tr>
        <tr>            
            <th class="table_cell_text_title" width="15%"> Type: </th>
            <td class="table_cell_text">READ_WRITE</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Set value: </th>
            <td class="table_cell_text">0: Set 0V to the port output
            <div class="table_cell_text">1: Set 5V to the port output</div>
            </td>
        </tr>        
        <tr>
            <th class="table_cell_text_title" width="15%"> Returns: </th>
            <td class="table_cell_text">&lt;string&gt; bool that informs about 
            the status of the port</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Ex.: </th>
            <td class="table_cell_text">IOPO02:VALU 1
            <div class="table_cell_text"><i>True</i></div>
            </br>
            <div class="table_cell_text">IOPO02:VALU?</div>
            <div class="table_cell_text"><i>False</i></div>
            </td>
        </tr>
    </tbody>
    </table>

    </br>
    <p><strong>Technical description</strong></p>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>To
    get the value of an IOPort it is just enough to read the value form the
    DigitalIO block in the FPGA:</span></p>

    <p></p>
    <table  border=1 frame=hsides rules=rows bordercolor="white"><caption>&nbsp;</caption>
    <tbody>
        <tr>
            <th class="table_cell_text_title" width="15%"> FPGA blocks </th>
            <td class="table_cell_text" colspan="3">DIGITALIO</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Registers </th>
            <td class="table_cell_text" width="15%">DIO_V_DIO_V</td>
            <td class="table_cell_text">Digital input output Value, first the
            DIO1..4 and then DiffIO1..9.</td>
        </tr>     
    </tbody>
    </table>    
    
    </br>
    <p></p>
    <h3 align="justify"><a name="3.7. Voltage Supply Commands"></a>3.7. Voltage Supply Commands</h3>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>These
    commands are used to configure and control the 4 Differention I/O switch supply ports
    available in the FrontEnd board. Depending on the configuration of the DAC gain (explained in section 3.8.1),
    they provide voltage ranges tat go from 0 to 10V or from -10V to 10V. Voltage output control is independent for the 4 outputs, but DAC gain is common. So the voltage range output is configured for all the outputs. 
    These ports are labeled as AOUT1 to AOUT4 in the back side of the equipment. They are grouped
    under the </span><span lang=EN-GB><strong>SUPP</strong>lyXX </span><span lang=EN-GB
    style='font-weight:normal;font-style:normal'>component, where XX is port number
    that goes form 01 to 04.</span></p>
    
    </br>
    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>To execute
    these commands you need to enter the component first, then follow by <strong>:</strong> and
    then the command.</span></p>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>By
    default, if no additional parameter or command is send, it executes the </span><span
    lang=EN-GB>VALU</span><span lang=EN-GB style='font-weight:normal;font-style:
    normal'> command</span></p>    

    
    </br>
    <p></p>
    <h3 align="justify"><a name="3.7.1. VALUe"></a>3.7.1. VALUe</h3>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>This
    command is used to read the supply port value or to set a voltage
    a value in case of the port will be configured as output port. To set a value
    in an input port is not allowed.</span></p>

    <p></p>
    <table  border=1 frame=hsides rules=rows bordercolor="white"><caption>&nbsp;</caption>
    <tbody>
        <tr>
            <th class="table_cell_text_title" width="15%"> Usage: </th>
            <td class="table_cell_text">SUPPXX:VALU &lt;value&gt; or SUPPlyXX:VALUe &lt;value&gt;
            <div class="table_cell_text">Or</div>
            <div class="table_cell_text">SUPPXX:VALU? or SUPPlyXX:VALUe?</div>
            </td>
        </tr>
        <tr>            
            <th class="table_cell_text_title" width="15%"> Type: </th>
            <td class="table_cell_text">READ_WRITE</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Set value: </th>
            <td class="table_cell_text">Voltage value to set in the output port that depends on the DAC Gain 
            configuration.
            <div class="table_cell_text">These values can go from 0 to 10 when DAC Gain set to 0, or from -10 to 10 when DAC Gain is set to 1</div>
            </td>
        </tr>        
        <tr>
            <th class="table_cell_text_title" width="15%"> Returns: </th>
            <td class="table_cell_text">&lt;string&gt; that contains the voltage output value</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Ex.: </th>
            <td class="table_cell_text">SUPP02:VALU -8
            <div class="table_cell_text"><i>-8</i></div>
            </br>
            <div class="table_cell_text">SUPP02:VALU?</div>
            <div class="table_cell_text"><i>-8</i></div>
            </td>
        </tr>
    </tbody>
    </table>

    </br>
    <p><strong>Technical description</strong></p>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>Switched supply ports
    are located in the FrontEnd board, so the control of these ports is done through the SPI module.</span></p>

    <p></p>
    <table  border=1 frame=hsides rules=rows bordercolor="white"><caption>&nbsp;</caption>
    <tbody>
        <tr>
            <th class="table_cell_text_title" width="15%"> FPGA blocks </th>
            <td class="table_cell_text" colspan="3">SPI</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%" rowspan="3"> Registers </th>
            <td class="table_cell_text" width="15%">ctl_spi_addr:</td>
            <td class="table_cell_text" width="15%">0x18</td>
            <td class="table_cell_text">Chip Select for the Port Expander 1 of the Front End Board</td>
        </tr>
        <tr>
            <th class="table_cell_text" width="15%" colspan="3">&nbsp</th>
        </tr>        
        <tr>
            <td class="table_cell_text" colspan="3">Other register used to
                transmit/receive data though SPI:
                <div class="table_cell_text">ctl_tx, ctl_tx_data, ctl_tx_data_length,
                ctl_rx, ctl_rx_data_length, ctl_start, ctl_rx_data</div>
            </td>
        </tr>
    </tbody>
    </table>                    
    
    </br>
    <p></p>
    <h3 align="justify"><a name="3.8. DAC Commands"></a>3.8. DAC Commands</h3>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>These
    commands are used to configure and control the high speed DAC Gain that is used 
    for the 4 Differential switch supply ports available in the FrontEnd board. 
    These commands are grouped under the </span><span lang=EN-GB><strong>ODAC</strong> 
    </span><span lang=EN-GB
    style='font-weight:normal;font-style:normal'>component.
    
    </br>
    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>To execute
    these commands you need to enter the component first, then follow by <strong>:</strong> and
    then the command.</span></p>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>By
    default, if no additional parameter or command is send, it executes the </span><span
    lang=EN-GB>GAIN</span><span lang=EN-GB style='font-weight:normal;font-style:
    normal'> command</span></p>    

    
    </br>
    <p></p>
    <h3 align="justify"><a name="3.8.1. GAIN"></a>3.8.1. GAIN</h3>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>This
    command is used to configure the DAC Gain from 0 to 2.5 V or from 0 to 5V. These values 
    correspond to analogue output voltage ranges that go from 0V to 10V or from -10V to 10V.
    Output voltage value levels are configured using the <strong>SUPPXX:VALU</strong> command
    explained in section 3.7.1</span></p>

    <p></p>
    <table  border=1 frame=hsides rules=rows bordercolor="white"><caption>&nbsp;</caption>
    <tbody>
        <tr>
            <th class="table_cell_text_title" width="15%"> Usage: </th>
            <td class="table_cell_text">ODAC:GAIN &lt;value&gt;
            <div class="table_cell_text">Or</div>
            <div class="table_cell_text">ODAC:GAIN?</div>
            </td>
        </tr>
        <tr>            
            <th class="table_cell_text_title" width="15%"> Type: </th>
            <td class="table_cell_text">READ_WRITE</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Set value: </th>
            <td class="table_cell_text">0: DAC Gain output= 0 - 2.5V (AOUT: 0 - 10V)
            <div class="table_cell_text">1: DAC Gain output= 0 - 5V (AOUT: -10V - 10V)</div>
            </td>
        </tr>          
        <tr>
            <th class="table_cell_text_title" width="15%"> Returns: </th>
            <td class="table_cell_text">&lt;string&gt; DAC gain voltage value set</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Ex.: </th>
            <td class="table_cell_text">ODAC:GAIN 1
            <div class="table_cell_text"><i>1</i></div>
            </br>
            <div class="table_cell_text">ODAC:GAIN?</div>
            <div class="table_cell_text"><i>-1</i></div>
            </td>
        </tr>
    </tbody>
    </table>    

    </br>
    <p><strong>Technical description</strong></p>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>High speed DAC that controls the  4x switched supply ports is located in the FrontEnd board, so the control of this DAC is done through the SPI module.</span></p>

    <p></p>
    <table  border=1 frame=hsides rules=rows bordercolor="white"><caption>&nbsp;</caption>
    <tbody>
        <tr>
            <th class="table_cell_text_title" width="15%"> FPGA blocks </th>
            <td class="table_cell_text" colspan="3">SPI</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%" rowspan="3"> Registers </th>
            <td class="table_cell_text" width="15%">ctl_spi_addr:</td>
            <td class="table_cell_text" width="15%">0x1a</td>
            <td class="table_cell_text">Chip Select for the Port Expander 3 of the Front End Board</td>
        </tr>
        <tr>
            <th class="table_cell_text" width="15%" colspan="3">&nbsp</th>
        </tr>        
        <tr>
            <td class="table_cell_text" colspan="3">Other register used to
                transmit/receive data though SPI:
                <div class="table_cell_text">ctl_tx, ctl_tx_data, ctl_tx_data_length,
                ctl_rx, ctl_rx_data_length, ctl_start, ctl_rx_data</div>
            </td>
        </tr>
    </tbody>
    </table>                    

    
    </br>
    <p></p>
    <h3 align="justify"><a name="3.9. High Voltage Commands*>"></a>3.9. High Voltage Commands<strong>*</strong></h3>
    
    <p class=Text><span lang=EN-GB style='font-weight:100;font-style:normal'><i><strong>*</strong> Only for models including the HV IN.</i></span></p>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>These
    commands are used to configure and control the flying voltage or high voltage in the Em# models
    that include the HV input (HV IN). Flying voltage control is done by the equipment, so these commands are basically used to monitor the status. Above a certain security voltage level 50V, the High voltage LED is ON 
    to alert te user there is high voltage in the output and above a second voltage level the output relay is disabled. It is possible to configure a third protection level b the user, using the maximum
    and minimum voltage levels commands to define a user protection window. Apart from this, outside this protection levels, it is possible to manually control the status of the HV relay using the corresponding command.
    These commands are grouped under the </span><span lang=EN-GB><strong>FVCT</strong>rl</span><span lang=EN-GB
    style='font-weight:normal;font-style:normal'> component.
    
    </br>
    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>To execute
    these commands you need to enter the component first, then follow by <strong>:</strong> and
    then the command.</span></p>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>By
    default, if no additional parameter or command is send, it executes the </span><span
    lang=EN-GB>STAT</span><span lang=EN-GB style='font-weight:normal;font-style:
    normal'> command</span></p>    

    </br>
    <p></p>
    <h3 align="justify"><a name="3.9.1. AVERage*"></a>3.9.1. AVERage<strong>*</strong></h3>
    
    <p class=Text><span lang=EN-GB style='font-weight:100;font-style:normal'><i><strong>*</strong> Only for models including the HV IN.</i></span></p>    

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>This command is used to get the average voltage value read in the HV Input.</span></p>

    <p></p>
    <table  border=1 frame=hsides rules=rows bordercolor="white"><caption>&nbsp;</caption>
    <tbody>
        <tr>
            <th class="table_cell_text_title" width="15%"> Usage: </th>
            <td class="table_cell_text">FVCT:AVER? or FVCTrl:AVERage?</div>
            </td>
        </tr>
        <tr>            
            <th class="table_cell_text_title" width="15%"> Type: </th>
            <td class="table_cell_text">READ_ONLY</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Returns: </th>
            <td class="table_cell_text">&lt;string&gt; that contains the average voltage value read</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Ex.: </th>
            <td class="table_cell_text">FVCT:AVER?
            <div class="table_cell_text"><i>10</i></div>
            </td>
        </tr>
    </tbody>
    </table>
    

    </br>
    <p><strong>Technical description</strong></p>
    
    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>FV control module is
    continuously reading the HV input and calculates the average voltage of the last 256 samples. This command is used to get this value of the average voltage calculated by the FV control module od the FPGA. To calculate the voltage from the FV_CTRL reading, it uses the following formula:</span></p>
    
    
    <p class=Text align=center style='text-align:center'><span lang=EN-GB
    style='font-weight:normal;font-style:normal'>V=2.5*(1001*FV/1024 - 500)</span></p>
    
    <p></p>
    <table  border=1 frame=hsides rules=rows bordercolor="white"><caption>&nbsp;</caption>
    <tbody>
        <tr>
            <th class="table_cell_text_title" width="15%"> FPGA blocks </th>
            <td class="table_cell_text" colspan="3">FV_CTRL</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%" rowspan="2"> Registers </th>
            <td class="table_cell_text" width="10%" >READ_MODE</td>
            <td class="table_cell_text" width="10%" >0x04</td>
            <td class="table_cell_text"> Reading mode of Floating voltage set to the average value</td>
        </tr>
        <tr>
            <td class="table_cell_text" width="10%" >FV</td>
            <td class="table_cell_text" width="10%" ></td>
            <td class="table_cell_text">Floating ground Voltage read</td>
        </tr>        
    </tbody>
    </table>            
    
    </br>
    <p></p>
    <h3 align="justify"><a name="3.9.2. MAXLimit*"></a>3.9.2. MAXLimit<strong>*</strong></h3>
    
    <p class=Text><span lang=EN-GB style='font-weight:100;font-style:normal'><i><strong>*</strong> Only for models including the HV IN.</i></span></p>    

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>Apart from the predefined protection level included in the equipment, it is possible for the user to define it's own protection level.
    This is done specifying the window of allowed voltages, defining its maximum and minimum levels.
    These command is used to read or configure maximum voltage level permitted for the user protection level.</span></p>

    <p></p>
    <table  border=1 frame=hsides rules=rows bordercolor="white"><caption>&nbsp;</caption>
    <tbody>
        <tr>
            <th class="table_cell_text_title" width="15%"> Usage: </th>
            <td class="table_cell_text">FVCT:MAXL &lt;value&gt; or FVCTrl:MAXLimit &lt;value&gt;
            <div class="table_cell_text">Or</div>
            <div class="table_cell_text">FVCT:MAXL? or FVCTrl:MAXLimit?</div>
            </td>
        </tr>
        <tr>            
            <th class="table_cell_text_title" width="15%"> Type: </th>
            <td class="table_cell_text">READ_WRITE</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Set value: </th>
            <td class="table_cell_text">Voltage level to set. Allowed values goes from -1200V to 1200V
            </td>
        </tr>        
        <tr>
            <th class="table_cell_text_title" width="15%"> Returns: </th>
            <td class="table_cell_text">&lt;string&gt; that contains the maximum voltage value set</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Ex.: </th>
            <td class="table_cell_text">FVCT:MAXL 500
            <div class="table_cell_text"><i>500</i></div>
            </br>
            <div class="table_cell_text">FVCT:MAXL?</div>
            <div class="table_cell_text"><i>500</i></div>
            </td>
        </tr>
    </tbody>
    </table>
    

    </br>
    <p><strong>Technical description</strong></p>
    
    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>The maximum voltage before switching off the FV_Relay signal.The voltage follows the following formula </span></p>
    
    
    <p class=Text align=center style='text-align:center'><span lang=EN-GB
    style='font-weight:normal;font-style:normal'>V=2.5*(1001*Lim_Max/1024 - 500)</span></p>
    
    <p></p>
    <table  border=1 frame=hsides rules=rows bordercolor="white"><caption>&nbsp;</caption>
    <tbody>
        <tr>
            <th class="table_cell_text_title" width="15%"> FPGA blocks </th>
            <td class="table_cell_text" colspan="2">FV_CTRL</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Registers </th>
            <td class="table_cell_text" width="10%" >LIM_MAX</td>
            <td class="table_cell_text">Maximum voltage level set</td>
        </tr>
    </tbody>
    </table>            

    </br>
    <p></p>
    <h3 align="justify"><a name="3.9.3. MAXVoltage*"></a>3.9.3. MAXVoltage<strong>*</strong></h3>

    <p class=Text><span lang=EN-GB style='font-weight:100;font-style:normal'><i><strong>*</strong> Only for models including the HV IN.</i></span></p>    

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>This command is used to get the maximum voltage level read in the HV Input.</span></p>

    <p></p>
    <table  border=1 frame=hsides rules=rows bordercolor="white"><caption>&nbsp;</caption>
    <tbody>
        <tr>
            <th class="table_cell_text_title" width="15%"> Usage: </th>
            <td class="table_cell_text">FVCT:MAXV? or FVCTrl:MAXVoltage?</div>
            </td>
        </tr>
        <tr>            
            <th class="table_cell_text_title" width="15%"> Type: </th>
            <td class="table_cell_text">READ_ONLY</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Returns: </th>
            <td class="table_cell_text">&lt;string&gt; that contains the maximum voltage value read</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Ex.: </th>
            <td class="table_cell_text">FVCT:MAXV?
            <div class="table_cell_text"><i>12</i></div>
            </td>
        </tr>
    </tbody>
    </table>
    

    </br>
    <p><strong>Technical description</strong></p>
    
    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>FV control module is
    continuously reading the HV input and stores the maximum voltage read in it. This command is used to get this value of the maximum calculated by the FV control module of the FPGA. To calculate the voltage from the FV_CTRL reading, it uses the following formula:</span></p>
    
    
    <p class=Text align=center style='text-align:center'><span lang=EN-GB
    style='font-weight:normal;font-style:normal'>V=2.5*(1001*FV/1024 - 500)</span></p>
    
    <p></p>
    <table  border=1 frame=hsides rules=rows bordercolor="white"><caption>&nbsp;</caption>
    <tbody>
        <tr>
            <th class="table_cell_text_title" width="15%"> FPGA blocks </th>
            <td class="table_cell_text" colspan="3">FV_CTRL</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%" rowspan="2"> Registers </th>
            <td class="table_cell_text" width="10%" >READ_MODE</td>
            <td class="table_cell_text" width="10%" >0x01</td>
            <td class="table_cell_text"> Reading mode of Floating voltage set to the maximum value</td>
        </tr>
        <tr>
            <td class="table_cell_text" width="10%" >FV</td>
            <td class="table_cell_text" width="10%" ></td>
            <td class="table_cell_text">Floating ground Voltage read</td>
        </tr>        
    </tbody>
    </table>                
    
    </br>
    <p></p>
    <h3 align="justify"><a name="3.9.4. MINLimit*"></a>3.9.4. MINLimit<strong>*</strong></h3>
    
    <p class=Text><span lang=EN-GB style='font-weight:100;font-style:normal'><i><strong>*</strong> Only for models including the HV IN.</i></span></p>    

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>Same as the MAXLim explained in section 3.9.2, apart from the predefined protection level included in the equipment, it is possible for the user to define it's own protection level.
    This is done specifying the window of allowed voltages, defining its maximum and minimum levels.
    These command is used to read or configure minimum voltage level permitted for the user protection level.</span></p>

    <p></p>
    <table  border=1 frame=hsides rules=rows bordercolor="white"><caption>&nbsp;</caption>
    <tbody>
        <tr>
            <th class="table_cell_text_title" width="15%"> Usage: </th>
            <td class="table_cell_text">FVCT:MINL &lt;value&gt; or FVCTrl:MINLimit &lt;value&gt;
            <div class="table_cell_text">Or</div>
            <div class="table_cell_text">FVCT:MINL? or FVCTrl:MINLimit?</div>
            </td>
        </tr>
        <tr>            
            <th class="table_cell_text_title" width="15%"> Type: </th>
            <td class="table_cell_text">READ_WRITE</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Set value: </th>
            <td class="table_cell_text">Voltage level to set. Allowed values goes from -1200V to 1200V
            </td>
        </tr>        
        <tr>
            <th class="table_cell_text_title" width="15%"> Returns: </th>
            <td class="table_cell_text">&lt;string&gt; that contains the minimum voltage value set</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Ex.: </th>
            <td class="table_cell_text">FVCT:MINL -500
            <div class="table_cell_text"><i>-500</i></div>
            </br>
            <div class="table_cell_text">FVCT:MINL?</div>
            <div class="table_cell_text"><i>-500</i></div>
            </td>
        </tr>
    </tbody>
    </table>
    

    </br>
    <p><strong>Technical description</strong></p>
    
    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>The minimum voltage before switching off the FV_Relay signal.The voltage follows the following formula </span></p>
    
    
    <p class=Text align=center style='text-align:center'><span lang=EN-GB
    style='font-weight:normal;font-style:normal'>V=2.5*(1001*Lim_Min/1024 - 500)</span></p>
    
    <p></p>
    <table  border=1 frame=hsides rules=rows bordercolor="white"><caption>&nbsp;</caption>
    <tbody>
        <tr>
            <th class="table_cell_text_title" width="15%"> FPGA blocks </th>
            <td class="table_cell_text" colspan="2">FV_CTRL</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Registers </th>
            <td class="table_cell_text" width="10%" >LIM_MIN</td>
            <td class="table_cell_text">Minimum voltage level set</td>
        </tr>
    </tbody>
    </table>            

    </br>
    <p></p>
    <h3 align="justify"><a name="3.9.5. MINVoltage*"></a>3.9.5. MINVoltage<strong>*</strong></h3>
    
    <p class=Text><span lang=EN-GB style='font-weight:100;font-style:normal'><i><strong>*</strong> Only for models including the HV IN.</i></span></p>    

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>Same as the MAXVoltage command explained in section 3.9.3, this command is used to get the minimum voltage level read in the HV Input.</span></p>

    <p></p>
    <table  border=1 frame=hsides rules=rows bordercolor="white"><caption>&nbsp;</caption>
    <tbody>
        <tr>
            <th class="table_cell_text_title" width="15%"> Usage: </th>
            <td class="table_cell_text">FVCT:MINV? or FVCTrl:MINVoltage?</div>
            </td>
        </tr>
        <tr>            
            <th class="table_cell_text_title" width="15%"> Type: </th>
            <td class="table_cell_text">READ_ONLY</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Returns: </th>
            <td class="table_cell_text">&lt;string&gt; that contains the minimum voltage value read</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Ex.: </th>
            <td class="table_cell_text">FVCT:MINV?
            <div class="table_cell_text"><i>-12</i></div>
            </td>
        </tr>
    </tbody>
    </table>
    

    </br>
    <p><strong>Technical description</strong></p>
    
    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>FV control module is
    continuously reading the HV input and stores the minimum voltage read in it. This command is used to get this value of the minimum calculated by the FV control module of the FPGA. To calculate the voltage from the FV_CTRL reading, it uses the following formula:</span></p>
    
    
    <p class=Text align=center style='text-align:center'><span lang=EN-GB
    style='font-weight:normal;font-style:normal'>V=2.5*(1001*FV/1024 - 500)</span></p>
    
    <p></p>
    <table  border=1 frame=hsides rules=rows bordercolor="white"><caption>&nbsp;</caption>
    <tbody>
        <tr>
            <th class="table_cell_text_title" width="15%"> FPGA blocks </th>
            <td class="table_cell_text" colspan="3">FV_CTRL</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%" rowspan="2"> Registers </th>
            <td class="table_cell_text" width="10%" >READ_MODE</td>
            <td class="table_cell_text" width="10%" >0x02</td>
            <td class="table_cell_text"> Reading mode of Floating voltage set to the minimum value</td>
        </tr>
        <tr>
            <td class="table_cell_text" width="10%" >FV</td>
            <td class="table_cell_text" width="10%" ></td>
            <td class="table_cell_text">Floating ground Voltage read</td>
        </tr>        
    </tbody>
    </table>                
    
    </br>
    <p></p>
    <h3 align="justify"><a name="3.9.6. RELAy*"></a>3.9.6. RELAy<strong>*</strong></h3>
    
    <p class=Text><span lang=EN-GB style='font-weight:100;font-style:normal'><i><strong>*</strong> Only for models including the HV IN.</i></span></p>    

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>This command is used to control the status of the HV relay.</span></p>

    <p></p>
    <table  border=1 frame=hsides rules=rows bordercolor="white"><caption>&nbsp;</caption>
    <tbody>
        <tr>
            <th class="table_cell_text_title" width="15%"> Usage: </th>
            <td class="table_cell_text">FVCT:RELA &lt;value&gt; or FVCTrl:RELAy &lt;value&gt;
            <div class="table_cell_text">Or</div>
            <div class="table_cell_text">FVCT:RELA? or FVCTrl:RELAy?</div>
            </td>
        </tr>
        <tr>            
            <th class="table_cell_text_title" width="15%"> Type: </th>
            <td class="table_cell_text">READ_WRITE</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Set value: </th>
            <td class="table_cell_text">0: Relay is OFF
            <div class="table_cell_text">1: Relay is ON</div>
            </td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Returns: </th>
            <td class="table_cell_text">&lt;string&gt; that contains the status of the relay</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Ex.: </th>
            <td class="table_cell_text">FVCT:RELA 1
            <div class="table_cell_text"><i>1</i></div>
            </br>
            <div class="table_cell_text">FVCT:RELA?</div>
            <div class="table_cell_text"><i>1</i></div>
            </td>
        </tr>
    </tbody>
    </table>
    

    </br>
    <p><strong>Technical description</strong></p>
    
    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>When reading this value, it returns the status of the FV relay (1 means FV is ON). when writing, it changes the state od the FV relay if 
    the FV voltage is inside the correct rangeFV control module is</span></p>
    
    <p></p>
    <table  border=1 frame=hsides rules=rows bordercolor="white"><caption>&nbsp;</caption>
    <tbody>
        <tr>
            <th class="table_cell_text_title" width="15%"> FPGA blocks </th>
            <td class="table_cell_text" colspan="2">FV_CTRL</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Registers </th>
            <td class="table_cell_text" width="10%" >RELAY</td>
            <td class="table_cell_text">Floating ground Voltage read</td>
        </tr>        
    </tbody>
    </table>                        
    
    </br>
    <p></p>
    <h3 align="justify"><a name="3.9.7. RESEt*"></a>3.9.7. RESEt<strong>*</strong></h3>
    
    <p class=Text><span lang=EN-GB style='font-weight:100;font-style:normal'><i><strong>*</strong> Only for models including the HV IN.</i></span></p>    

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>This command is used to reset the internal values calculated like the maximum, minimum and average voltages read.</span></p>

    <p></p>
    <table  border=1 frame=hsides rules=rows bordercolor="white"><caption>&nbsp;</caption>
    <tbody>
        <tr>
            <th class="table_cell_text_title" width="15%"> Usage: </th>
            <td class="table_cell_text">FVCT:RESE &lt;value&gt; or FVCTrl:RESEt &lt;value&gt;</td>
        </tr>
        <tr>            
            <th class="table_cell_text_title" width="15%"> Type: </th>
            <td class="table_cell_text">WRITE_ONLY</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Set value: </th>
            <td class="table_cell_text">Fixed to True (not used but required)
            </td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Returns: </th>
            <td class="table_cell_text">None</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Ex.: </th>
            <td class="table_cell_text">FVCT:RESE True
            <div class="table_cell_text"><i>None</i></div>
            </td>
        </tr>
    </tbody>
    </table>
    

    </br>
    <p><strong>Technical description</strong></p>
    
    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>Maximum, minimun and average values are continuously read and its values are calculated and stored in the main software. This command is used to reset these values to 0. As this control in hte main software, the FV_CTL is not affected.</span></p>

    </br>
    <p></p>
    <h3 align="justify"><a name="3.9.8. STATe*"></a>3.9.8. STATe<strong>*</strong></h3>
    
    <p class=Text><span lang=EN-GB style='font-weight:100;font-style:normal'><i><strong>*</strong> Only for models including the HV IN.</i></span></p>    

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>This command returns the status of the of the high voltage in HV IN input.</span></p>

    <p></p>
    <table  border=1 frame=hsides rules=rows bordercolor="white"><caption>&nbsp;</caption>
    <tbody>
        <tr>
            <th class="table_cell_text_title" width="15%"> Usage: </th>
            <td class="table_cell_text">FVCT:STAT? or FVCTrl:STATe?</div>
            </td>
        </tr>
        <tr>            
            <th class="table_cell_text_title" width="15%"> Type: </th>
            <td class="table_cell_text">READ_ONLY</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Returns: </th>
            <td class="table_cell_text">&lt;string&gt; that contains the HV status detected at the HV IN</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Ex.: </th>
            <td class="table_cell_text">FVCT:STAT?</div>
            <div class="table_cell_text"><i>0</i></div>
            </td>
        </tr>
    </tbody>
    </table>
    

    </br>
    <p><strong>Technical description</strong></p>
    
    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>This comand is used to get the status of the of FV LED. "0" means LED is off.</span></p>
    
    <p></p>
    <table  border=1 frame=hsides rules=rows bordercolor="white"><caption>&nbsp;</caption>
    <tbody>
        <tr>
            <th class="table_cell_text_title" width="15%"> FPGA blocks </th>
            <td class="table_cell_text" colspan="2">FV_CTRL</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Registers </th>
            <td class="table_cell_text" width="10%" >LED</td>
            <td class="table_cell_text">FV_Led_sta </td>
        </tr>        
    </tbody>
    </table>                            
    
    </br>
    <p></p>
    <h3 align="justify"><a name="3.9.9. VOLTage*"></a>3.9.9. VOLTage<strong>*</strong></h3>
    
    <p class=Text><span lang=EN-GB style='font-weight:100;font-style:normal'><i><strong>*</strong> Only for models including the HV IN.</i></span></p>    

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>This command is used to get the instant voltage level read in the HV Input.</span></p>

    <p></p>
    <table  border=1 frame=hsides rules=rows bordercolor="white"><caption>&nbsp;</caption>
    <tbody>
        <tr>
            <th class="table_cell_text_title" width="15%"> Usage: </th>
            <td class="table_cell_text">FVCT:VOLT? or FVCTrl:VOLTage?</div>
            </td>
        </tr>
        <tr>            
            <th class="table_cell_text_title" width="15%"> Type: </th>
            <td class="table_cell_text">READ_ONLY</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Returns: </th>
            <td class="table_cell_text">&lt;string&gt; that contains the instant voltage value read</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%"> Ex.: </th>
            <td class="table_cell_text">FVCT:VOLTV?
            <div class="table_cell_text"><i>6</i></div>
            </td>
        </tr>
    </tbody>
    </table>
    

    </br>
    <p><strong>Technical description</strong></p>
    
    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>FV control module is
    continuously reading the HV input. This command is used to get the instant voltage read by the FV control module of the FPGA. To calculate the voltage from the FV_CTRL reading, it uses the following formula:</span></p>
    
    <p class=Text align=center style='text-align:center'><span lang=EN-GB
    style='font-weight:normal;font-style:normal'>V=2.5*(1001*FV/1024 - 500)</span></p>
    
    <p></p>
    <table  border=1 frame=hsides rules=rows bordercolor="white"><caption>&nbsp;</caption>
    <tbody>
        <tr>
            <th class="table_cell_text_title" width="15%"> FPGA blocks </th>
            <td class="table_cell_text" colspan="3">FV_CTRL</td>
        </tr>
        <tr>
            <th class="table_cell_text_title" width="15%" rowspan="2"> Registers </th>
            <td class="table_cell_text" width="10%" >READ_MODE</td>
            <td class="table_cell_text" width="10%" >0x00</td>
            <td class="table_cell_text"> Reading mode of Floating voltage set to the instant value</td>
        </tr>
        <tr>
            <td class="table_cell_text" width="10%" >FV</td>
            <td class="table_cell_text" width="10%" ></td>
            <td class="table_cell_text">Floating ground Voltage read</td>
        </tr>        
    </tbody>
    </table>                    
    
    </br>
    <p></p>
    <h1 align="justify"><a name="4. TABLE SUMMARY"></a>4. TABLE SUMMARY</h1>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>This
    section just shows all available commands presented in table summary:</span></p>

    <p></p>
    <table  border=1 frame=hsides rules=rows bordercolor="white"><caption>&nbsp;</caption>
    <tbody>
        <tr>
            <th class="table_cell_title" > Component </th>
            <th class="table_cell_title" style="text-align: left"> Command </th>
            <th class="table_cell_title" style="text-align: left"> Type </th>
            <th class="table_cell_title" style="text-align: left"> Parameters </th>
            <th class="table_cell_title" style="text-align: left"> Description </th>
        </tr>
        <tr>
            <th class="table_cell_text2_title" width="15%" rowspan="7"> --- </th>
            <td class="table_cell_text2_title" width="15%" >*IDN</td>
            <td class="table_cell_text2" width="15%" >READ_ONLY</td>
            <td class="table_cell_text2" width="15%" >?</td>
            <td class="table_cell_text2" >Identification information</td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" width="15%" >*MAC</td>
            <td class="table_cell_text2" width="15%" >READ_ONLY</td>
            <td class="table_cell_text2" width="15%" >?</td>
            <td class="table_cell_text2" >Mac address</td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" width="15%" >*HLP</td>
            <td class="table_cell_text2" width="15%" >READ_ONLY</td>
            <td class="table_cell_text2" width="15%" >?</td>
            <td class="table_cell_text2" >Shows short information about the list of available commands</td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" width="15%" >*RST</td>
            <td class="table_cell_text2" width="15%" >WRITE_ONLY</td>
            <td class="table_cell_text2" width="15%" >True</td>
            <td class="table_cell_text2" >General OS reset</td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" width="15%" >*SHT</td>
            <td class="table_cell_text2" width="15%" >WRITE_ONLY</td>
            <td class="table_cell_text2" width="15%" >True</td>
            <td class="table_cell_text2" >General OS shutdown</td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" width="15%" >RECOnfigure</td>
            <td class="table_cell_text2" width="15%" >WRITE_ONLY</td>
            <td class="table_cell_text2" width="15%" >True</td>
            <td class="table_cell_text2" >Reconfigures this instrument according the data defined in the Config file</td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" width="15%" >FWVErsion</td>
            <td class="table_cell_text2" width="15%" >READ_ONLY</td>
            <td class="table_cell_text2" width="15%" >?</td>
            <td class="table_cell_text2" >Version of the FPGA firmware</td>
        </tr>
        <tr>
            <th class="table_cell_text2_title" width="15%" rowspan="3"> DIAGnostics: </th>
            <td class="table_cell_text2_title" width="15%" >CBTEmperature</td>
            <td class="table_cell_text2" width="15%" >READ_ONLY</td>
            <td class="table_cell_text2" width="15%" >?</td>
            <td class="table_cell_text2" >Temperature of the carrier board</td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" width="15%" >FETEmperature</td>
            <td class="table_cell_text2" width="15%" >READ_ONLY</td>
            <td class="table_cell_text2" width="15%" >?</td>
            <td class="table_cell_text2" >Temperature of the frontend board</td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" width="15%" >VSENse</td>
            <td class="table_cell_text2" width="15%" >READ_ONLY</td>
            <td class="table_cell_text2" width="15%" >?</td>
            <td class="table_cell_text2" ><span style='color:red'>default</span> Sensed voltages for the different voltages supplies</td>
        </tr>
        <tr>
            <th class="table_cell_text2_title" width="15%" rowspan="6"> TRIGger: </th>
            <td class="table_cell_text2_title" width="15%" >DELAy</td>
            <td class="table_cell_text2" width="15%" >READ_WRITE</td>
            <td class="table_cell_text2" width="15%" >?
            <div ="table_cell_text2">&lt;delay&gt;</div>
            </td>
            <td class="table_cell_text2" >Delay in milliseconds of the acquisition after the trigger.</td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" width="15%" >INPUt</td>
            <td class="table_cell_text2" width="15%" >READ_WRITE</td>
            <td class="table_cell_text2" width="15%" >?
            <div ="table_cell_text2">0: DIO_1</div>
            <div ="table_cell_text2">1: DIO_2</div>
            <div ="table_cell_text2">2: DIO_3</div>
            <div ="table_cell_text2">3: DIO_4</div>
            <div ="table_cell_text2">4: DIFF_IO_1</div>
            <div ="table_cell_text2">5: DIFF_IO_2</div>
            <div ="table_cell_text2">6: DIFF_IO_3</div>
            <div ="table_cell_text2">7: DIFF_IO_4</div>
            <div ="table_cell_text2">8: DIFF_IO_5</div>
            <div ="table_cell_text2">9: DIFF_IO_6</div>
            <div ="table_cell_text2">10: DIFF_IO_7</div>
            <div ="table_cell_text2">11: DIFF_IO_8</div>
            <div ="table_cell_text2">12: DIFF_IO_9</div>
            </td>
            <td class="table_cell_text2" >Input used for the trigger</td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" width="15%" >MODE</td>
            <td class="table_cell_text2" width="15%" >READ_WRITE</td>
            <td class="table_cell_text2" width="15%" >?
            <div ="table_cell_text2">0: SOFTWARE</div>
            <div ="table_cell_text2">1: HARDWARE</div>
            </td>
            <td class="table_cell_text2" >Sets the trigger type internal (sw) or external (hw)</td>
        </tr>    
        <tr>
            <td class="table_cell_text2_title" width="15%" >POLArity</td>
            <td class="table_cell_text2" width="15%" >READ_WRITE</td>
            <td class="table_cell_text2" width="15%" >?
            <div ="table_cell_text2">0: FALLING</div>
            <div ="table_cell_text2">1: RISING</div>
            </td>
            <td class="table_cell_text2" >Sets the polarity of the trigger at the input</td>
        </tr>    
        <tr>
            <td class="table_cell_text2_title" width="15%" >SWSEt</td>
            <td class="table_cell_text2" width="15%" >WRITE_ONLY</td>
            <td class="table_cell_text2" width="15%" >True</td>
            <td class="table_cell_text2" >Sets a SW trigger when trigger mode is SOFTWARE</td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" width="15%" >STATe</td>
            <td class="table_cell_text2" width="15%" >READ_ONLY</td>
            <td class="table_cell_text2" width="15%" >?</td>
            <td class="table_cell_text2" ><span style='color:red'>default</span> Returns trigger configuration</td>
        </tr>
        <tr>
            <th class="table_cell_text2_title" width="15%" rowspan="8"> ACQUisition: </th>
            <td class="table_cell_text2_title" width="15%" >FILTer</td>
            <td class="table_cell_text2" width="15%" >READ_WRITE</td>
            <td class="table_cell_text2" width="15%" >?
            <div ="table_cell_text2">0: 3200 Hz</div>
            <div ="table_cell_text2">1: 100 Hz</div>
            <div ="table_cell_text2">2: 10 Hz</div>
            <div ="table_cell_text2">3: 1 Hz</div>
            <div ="table_cell_text2">4: 0.5Hz</div>
            </td>
            <td class="table_cell_text2" >Configures the acquisition filter</td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" width="15%" >MEAS</td>
            <td class="table_cell_text2" width="15%" >READ_ONLY</td>
            <td class="table_cell_text2" width="15%" >?</td>
            <td class="table_cell_text2" >All channels data acquired during the last acquisition</td>
        </tr>
       <tr>
            <td class="table_cell_text2_title" width="15%" >NDATa</td>
            <td class="table_cell_text2" width="15%" >READ_ONLY</td>
            <td class="table_cell_text2" width="15%" >?</td>
            <td class="table_cell_text2" >Number of triggers detected (hardware or software)</td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" width="15%" >RANGe</td>
            <td class="table_cell_text2" width="15%" >READ_WRITE</td>
            <td class="table_cell_text2" width="15%" >?
            <div ="table_cell_text2">0: 1</div>
            <div ="table_cell_text2">1: 0.1</div>
            <div ="table_cell_text2">2: 0.01</div>
            <div ="table_cell_text2">3: 0.001</div>
            <div ="table_cell_text2">4: 0.0001</div>
            <div ="table_cell_text2">5: 0.00001</div>
            <div ="table_cell_text2">6: 0.000001</div>
            <div ="table_cell_text2">7: 0.0000001</div>
            </td>
            <td class="table_cell_text2" >Configures the acquisition range</td>
        </tr>
       <tr>
            <td class="table_cell_text2_title" width="15%" >STARt</td>
            <td class="table_cell_text2" width="15%" >WRITE_ONLY</td>
            <td class="table_cell_text2" width="15%" >True</td>
            <td class="table_cell_text2" >Starts an acquisition</td>
        </tr>
       <tr>
            <td class="table_cell_text2_title" width="15%" >STATe</td>
            <td class="table_cell_text2" width="15%" >READ_ONLY</td>
            <td class="table_cell_text2" width="15%" >?</td>
            <td class="table_cell_text2" ><span style='color:red'>default</span> Acquisition status</td>
        </tr>
       <tr>
            <td class="table_cell_text2_title" width="15%" >STOP</td>
            <td class="table_cell_text2" width="15%" >WRITE_ONLY</td>
            <td class="table_cell_text2" width="15%" >True</td>
            <td class="table_cell_text2" >Stops an acquisition or resets a failed acquisition</td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" width="15%" >TIME</td>
            <td class="table_cell_text2" width="15%" >READ_WRITE</td>
            <td class="table_cell_text2" width="15%" >?
            <div ="table_cell_text2">&lt;time&gt;</div>
            </td>
            <td class="table_cell_text2" >Set acquisition time</td>
        </tr>
        <tr>
            <th class="table_cell_text2_title" width="15%" rowspan="3"> CHANnelXX: </th>
            <td class="table_cell_text2_title" width="15%" >AVGCurrent</td>
            <td class="table_cell_text2" width="15%" >READ_ONLY</td>
            <td class="table_cell_text2" width="15%" >?</td>
            <td class="table_cell_text2" >Average current value of all samples acquired in a particular channel</td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" width="15%" >CURRent</td>
            <td class="table_cell_text2" width="15%" >READ_ONLY</td>
            <td class="table_cell_text2" width="15%" >?</td>
            <td class="table_cell_text2" >Buffer that contains all current samples acquired in a particular channel</td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" width="15%" >INSCurrent</td>
            <td class="table_cell_text2" width="15%" >READ_ONLY</td>
            <td class="table_cell_text2" width="15%" >?</td>
            <td class="table_cell_text2" ><span style='color:red'>default</span> Instant current read by the ADC module in the FPGA</td>
        </tr>
        <tr>
            <th class="table_cell_text2_title" width="15%" rowspan="10"> CHANnelXX:CABOard: </th>
            <td class="table_cell_text2_title" width="15%" >FILTer</td>
            <td class="table_cell_text2" width="15%" >READ_WRITE</td>
            <td class="table_cell_text2" width="15%" >?
            <div ="table_cell_text2">0: 3200 Hz</div>
            <div ="table_cell_text2">1: 100 Hz</div>
            <div ="table_cell_text2">2: 10 Hz</div>
            <div ="table_cell_text2">3: 1 Hz</div>
            <div ="table_cell_text2">4: 0.5Hz</div>
            </td>
            <td class="table_cell_text2" >Configs current amplifier filter for a channel</td>
        </tr>
        <tr>
        <tr>
            <td class="table_cell_text2_title" width="15%" >INIT</td>
            <td class="table_cell_text2" width="15%" >READ_WRITE</td>
            <td class="table_cell_text2" width="15%" >?
            <div ="table_cell_text2">True</div>
            </td>
            <td class="table_cell_text2" ><span style='color:red'>default</span> Initializes a particular current amplifier board</td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" width="15%" >INVErsion</td>
            <td class="table_cell_text2" width="15%" >READ_WRITE</td>
            <td class="table_cell_text2" width="15%" >?
            <div ="table_cell_text2">True</div>
            <div ="table_cell_text2">False</div>
            </td>
            <td class="table_cell_text2" >Sets the inverse gain for a certain channel</td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" width="15%" >POSTfilter</td>
            <td class="table_cell_text2" width="15%" >READ_WRITE</td>
            <td class="table_cell_text2" width="15%" >?
            <div ="table_cell_text2">0: 3200 Hz</div>
            <div ="table_cell_text2">1: 100 Hz</div>
            <div ="table_cell_text2">2: 10 Hz</div>
            <div ="table_cell_text2">3: 1 Hz</div>
            </td>
            <td class="table_cell_text2" >Sets the post filter of a certain current amplifier board</td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" width="15%" >PREFilter</td>
            <td class="table_cell_text2" width="15%" >READ_WRITE</td>
            <td class="table_cell_text2" width="15%" >?
            <div ="table_cell_text2">0: 3500 Hz</div>
            <div ="table_cell_text2">1: 100 Hz</div>
            <div ="table_cell_text2">2: 10 Hz</div>
            <div ="table_cell_text2">3: 1 Hz</div>
            <div ="table_cell_text2">4: 0.5Hz</div>
            </td>
            <td class="table_cell_text2" >Sets the pre filter of a certain current amplifier board</td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" width="15%" >RANGe</td>
            <td class="table_cell_text2" width="15%" >READ_WRITE</td>
            <td class="table_cell_text2" width="15%" >?
            <div ="table_cell_text2">0: 1</div>
            <div ="table_cell_text2">1: 0.1</div>
            <div ="table_cell_text2">2: 0.01</div>
            <div ="table_cell_text2">3: 0.001</div>
            <div ="table_cell_text2">4: 0.0001</div>
            <div ="table_cell_text2">5: 0.00001</div>
            <div ="table_cell_text2">6: 0.000001</div>
            <div ="table_cell_text2">7: 0.0000001</div>
            <div ="table_cell_text2">8: AUTO</div>
            </td>
            <td class="table_cell_text2" >Current amplifier range for a particular ca board</td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" width="15%" >TEMPerature</td>
            <td class="table_cell_text2" width="15%" >READ_ONLY</td>
            <td class="table_cell_text2" width="15%" >?</td>
            <td class="table_cell_text2" >Current amplifier temperature</td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" width="15%" >TIGAin</td>
            <td class="table_cell_text2" width="15%" >READ_WRITE</td>
            <td class="table_cell_text2" width="15%" >?
            <div ="table_cell_text2">0: 10k</div>
            <div ="table_cell_text2">1: 1M</div>
            <div ="table_cell_text2">2: 100M</div>
            <div ="table_cell_text2">3: 1G</div>
            <div ="table_cell_text2">4: 10G</div>
            </td>
            <td class="table_cell_text2" >Current amplifier trans impedance gain</td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" width="15%" >VGAIn</td>
            <td class="table_cell_text2" width="15%" >READ_WRITE</td>
            <td class="table_cell_text2" width="15%" >?
            <div ="table_cell_text2">0: 1</div>
            <div ="table_cell_text2">1: 10</div>
            <div ="table_cell_text2">2: 50</div>
            <div ="table_cell_text2">3: 100</div>
            <div ="table_cell_text2">4: sat</div>
            </td>
            <td class="table_cell_text2" >Current amplifier voltage gain</td>
        </tr>
        <tr>
            <th class="table_cell_text2_title" width="15%" rowspan="3"> IOPOrtXX: </th>
            <td class="table_cell_text2_title" width="15%" >CONFig</td>
            <td class="table_cell_text2" width="15%" >READ_WRITE</td>
            <td class="table_cell_text2" width="15%" >?
            <div ="table_cell_text2">0: OUTPUT</div>
            <div ="table_cell_text2">1: INPUT</div>
            </td>
            <td class="table_cell_text2" >Check or set the port type as input or output</td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" width="15%" >NAME</td>
            <td class="table_cell_text2" width="15%" >READ_ONLY</td>
            <td class="table_cell_text2" width="15%" >?</td>
            <td class="table_cell_text2" ><span style='color:red'>default</span> Gets port name</td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" width="15%" >VALUe</td>
            <td class="table_cell_text2" width="15%" >READ_WRITE</td>
            <td class="table_cell_text2" width="15%" >?
            <div ="table_cell_text2">0: Set to 0V</div>
            <div ="table_cell_text2">1: Set to 5V</div>
            </td>
            <td class="table_cell_text2" >Checks or sets the port value</td>
        </tr>
        <tr>
            <th class="table_cell_text2_title" width="15%"> SUPPXX: </th>
            <td class="table_cell_text2_title" width="15%" >VALUe</td>
            <td class="table_cell_text2" width="15%" >READ_WRITE</td>
            <td class="table_cell_text2" width="15%" >?
            <div ="table_cell_text2">&lt;voltage&gt;</div>
            </td>
            <td class="table_cell_text2" ><span style='color:red'>default</span>  Check or set the voltage a supply port</td>
        </tr>
        <tr>
            <th class="table_cell_text2_title" width="15%"> ODAC: </th>
            <td class="table_cell_text2_title" width="15%" >GAIN</td>
            <td class="table_cell_text2" width="15%" >READ_WRITE</td>
            <td class="table_cell_text2" width="15%" >?
            <div ="table_cell_text2">0: 0-2.5V</div>
            <div ="table_cell_text2">1: 0-5V</div>
            </td>
            <td class="table_cell_text2" ><span style='color:red'>default</span>  Configure the DAC Gain</td>
        </tr>
        <tr>
            <th class="table_cell_text2_title" width="15%" rowspan="9"> FVCTrl: </th>
            <td class="table_cell_text2_title" width="15%" >AVERage</td>
            <td class="table_cell_text2" width="15%" >READ_ONLY</td>
            <td class="table_cell_text2" width="15%" >?</td>
            <td class="table_cell_text2" >Command is used to get the average FV voltage</td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" width="15%" >MAXLimit</td>
            <td class="table_cell_text2" width="15%" >READ_WRITE</td>
            <td class="table_cell_text2" width="15%" >?
            <div ="table_cell_text2">&lt;max_limit&gt;</div>
            </td>
            <td class="table_cell_text2" >Command is used to set the user maximum voltage level</td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" width="15%" >MAXVoltage</td>
            <td class="table_cell_text2" width="15%" >READ_ONLY</td>
            <td class="table_cell_text2" width="15%" >?</td>
            <td class="table_cell_text2" >Command is used to get the maximum FV voltage</td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" width="15%" >MINLimit</td>
            <td class="table_cell_text2" width="15%" >READ_WRITE</td>
            <td class="table_cell_text2" width="15%" >?
            <div ="table_cell_text2">&lt;min_limit&gt;</div>
            </td>
            <td class="table_cell_text2" >Command is used to set the user minimum voltage level</td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" width="15%" >MINVoltage</td>
            <td class="table_cell_text2" width="15%" >READ_ONLY</td>
            <td class="table_cell_text2" width="15%" >?</td>
            <td class="table_cell_text2" >Command is used to get the minimum FV voltage</td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" width="15%" >RELAy</td>
            <td class="table_cell_text2" width="15%" >READ_WRITE</td>
            <td class="table_cell_text2" width="15%" >?
            <div ="table_cell_text2">0: OFF</div>
            <div ="table_cell_text2">0: ON</div>
            </td>
            <td class="table_cell_text2" >Sets the FV relay</td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" width="15%" >RESEt</td>
            <td class="table_cell_text2" width="15%" >WRITE_ONLY</td>
            <td class="table_cell_text2" width="15%" >True</td>
            <td class="table_cell_text2" >Resets the FV data</td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" width="15%" >STATe</td>
            <td class="table_cell_text2" width="15%" >READ_ONLY</td>
            <td class="table_cell_text2" width="15%" >True</td>
            <td class="table_cell_text2" ><span style='color:red'>default</span> Returns the status of the FV detection</td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" width="15%" >VOLTage</td>
            <td class="table_cell_text2" width="15%" >READ_ONLY</td>
            <td class="table_cell_text2" width="15%" >?</td>
            <td class="table_cell_text2" >Command is used to get the instant FV voltage</td>
        </tr>
    </tbody>
    </table>                    
    
    </br>
    <p></p>
    <h1 align="justify"><a name="5. TANGO DEVICE SERVER"></a>5. TANGO DEVICE SERVER</h1>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>This
    ALBA Em# uses SCPI, as explained in section 2 </span><span lang=EN-GB><a
    href="#_SCPI_Command_Syntax"><span style='font-weight:normal;font-style:normal'>SCPI
    Command Syntax</span></a></span><span lang=EN-GB style='font-weight:normal;
    font-style:normal'> as communication control protocol. An easy introduction of
    this instrument to any TANGO control system can be done, by installing the
    Skippy tango device which includes the ALBA EM command list.</span></p>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>Not
    all available commands in the ALBA Em# have been implement, but just the most useful
    ones to configure  an acquisition, the trigger or to use the IOPorts.</span></p>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>The
    skippy has been developed at the ALBA Synchrotron and the source code can be
    found in: </span><span lang=EN-GB><a
    href="https://sourceforge.net/p/tango-ds/code/HEAD/tree/DeviceClasses/Communication/Skippy/"><span
    style='font-weight:normal;font-style:normal'>TANGO Skippy DS</span></a></span></p>

    </br>
    <p></p>
    <h2 align="justify"><a name="5.1. Properties"></a>5.1. Properties</h2>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>The
    first thing to configure in this Skippy instrument is the property which
    defines the equipment to control. ThIs can be done using the device property </span><span
    lang=EN-GB style='font-style:normal'>Instrument</span><span lang=EN-GB
    style='font-weight:normal;font-style:normal'> which sets the equipment IP or
    hostname. But there are others also used to configure the communication with
    the instrument:</span></p>

    <p></p>
    <table  border=1 frame=hsides rules=rows bordercolor="white"><caption>&nbsp;</caption>
    <tbody>
        <tr>
            <th class="table_cell_title" style="text-align:left;"> Name </th>
            <th class="table_cell_title" style="text-align:left;"> Description </th>
            <th class="table_cell_title" style="text-align:left;"> Type </th>
            <th class="table_cell_title" style="text-align:left;"> Default Value </th>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >Instrument</td>
            <td class="table_cell_text2" >The name of the instrument to use</td>
            <td class="table_cell_text2" width="15%" >String</td>
            <td class="table_cell_text2" width="15%">None<p></p></td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >Port</td>
            <td class="table_cell_text2" >In case of socket interface the port value can be changed</td>
            <td class="table_cell_text2" width="15%" >short</td>
            <td class="table_cell_text2" width="15%">5025<p></p></td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >NumChannels</td>
            <td class="table_cell_text2" >Number of channels available in the instrument, if it has</td>
            <td class="table_cell_text2" width="15%" >short</td>
            <td class="table_cell_text2" width="15%">0<p></p></td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >NumFunctions</td>
            <td class="table_cell_text2" >Number of functions available in the instrument, if it has</td>
            <td class="table_cell_text2" width="15%" >short</td>
            <td class="table_cell_text2" width="15%">0<p></p></td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >MonitoredAttributes</td>
            <td class="table_cell_text2" >When the device is in RUNNING state, the attributes listed here will be monitored (having events) with a period said in the attribute TimeStampsThreashold (or different if specified with a : separator after the attrName)</td>
            <td class="table_cell_text2" width="15%" >String[]</td>
            <td class="table_cell_text2" width="15%">None<p></p></td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >AutoOn</td>
            <td class="table_cell_text2" >When device startup, try an on() to connect to the instrument automatically</td>
            <td class="table_cell_text2" width="15%" >boolean</td>
            <td class="table_cell_text2" width="15%">True<p></p></td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >AutoStart</td>
            <td class="table_cell_text2" >When device startup, try an Start() to monitor attributes, if MonitoredAttributes is configuredc, authomatically</td>
            <td class="table_cell_text2" width="15%" >boolean</td>
            <td class="table_cell_text2" width="15%">True<p></p></td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >AutoStandby</td>
            <td class="table_cell_text2" >When device startup, try an standby() to connect to the instrument automatically.</td>
            <td class="table_cell_text2" width="15%" >boolean</td>
            <td class="table_cell_text2" width="15%">True<p></p></td>
        </tr>
    </body>
    </table>
    
    </br>
    <p></p>
    <h2 align="justify"><a name="5.2. Commands"></a>5.2. Commands</h2>

    <p class=Text style='margin-left:2.8pt'><span lang=EN-GB style='font-weight:
    normal;font-style:normal'>All commands available in he Skippy device server are
    used to check/configure the status of the communication with the equipment. In
    any case they can be used to execute commands of the ALBA Em#.</span></p>

    <p class=Text style='margin-left:2.8pt'><span lang=EN-GB style='font-weight:
    normal;font-style:normal'>This is the list of available commands:</span></p>

    <p></p>
    <table  border=1 frame=hsides rules=rows bordercolor="white"><caption>&nbsp;</caption>
    <tbody>
        <tr>
            <th class="table_cell_title" style="text-align:left;"> Name </th>
            <th class="table_cell_title" style="text-align:left;"> Input Type </th>
            <th class="table_cell_title" style="text-align:left;"> Output type </th>
            <th class="table_cell_title" style="text-align:left;"> Description </th>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >State</td>
            <td class="table_cell_text2" width="15%" >DEV_VOID</td>
            <td class="table_cell_text2" width="15%" >DEV_STATE</td>
            <td class="table_cell_text2" >This command gets the device state (stored in its device state data member) and returns it to the caller.<p></p></td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >Status</td>
            <td class="table_cell_text2" width="15%" >DEV_VOID</td>
            <td class="table_cell_text2" width="15%">CONST_DEV_STRING</td>
            <td class="table_cell_text2" >This command gets the device status (stored in its device_status data member) and returns it to the caller.<p></p></td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >IDN</td>
            <td class="table_cell_text2" width="15%" >DEV_VOID</td>
            <td class="table_cell_text2" width="15%">DEV_STRING</td>
            <td class="table_cell_text2" >Request identification to the instrument.<p></p></td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >Start</td>
            <td class="table_cell_text2" width="15%" >DEV_VOID</td>
            <td class="table_cell_text2" width="15%">DEV_BOOLEAN</td>
            <td class="table_cell_text2" >Start an active monitoring.<p></p></td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >Stop</td>
            <td class="table_cell_text2" width="15%" >DEV_VOID</td>
            <td class="table_cell_text2" width="15%">DEV_BOOLEAN</td>
            <td class="table_cell_text2" >Stop the active monitoring.<p></p></td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >On</td>
            <td class="table_cell_text2" width="15%" >DEV_VOID</td>
            <td class="table_cell_text2" width="15%">DEV_BOOLEAN</td>
            <td class="table_cell_text2" >Allow communication with the instrument.<p></p></td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >Off</td>
            <td class="table_cell_text2" width="15%" >DEV_VOID</td>
            <td class="table_cell_text2" width="15%">DEV_BOOLEAN</td>
            <td class="table_cell_text2" >Release the communication with the instrument.<p></p></td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >Exec</td>
            <td class="table_cell_text2" width="15%" >DEV_STRING</td>
            <td class="table_cell_text2" width="15%">DEV_STRING</td>
            <td class="table_cell_text2" >evaluate python code inside the device server. This command can be very helpful and dangerous.<p></p></td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >AddMonitoring</td>
            <td class="table_cell_text2" width="15%" >DEV_STRING</td>
            <td class="table_cell_text2" width="15%">DEV_BOOLEAN</td>
            <td class="table_cell_text2" >Add an attribute to the list of monitored attributes<p></p></td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >RemoveMonitoring</td>
            <td class="table_cell_text2" width="15%" >DEV_STRING</td>
            <td class="table_cell_text2" width="15%">DEV_BOOLEAN</td>
            <td class="table_cell_text2" >Remove an attribute from the list of monitored attributes<p></p></td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >SetMonitoringPeriod</td>
            <td class="table_cell_text2" width="15%" >DEVVAR_STRINGARRAY</td>
            <td class="table_cell_text2" width="15%">DEV_BOOLEAN</td>
            <td class="table_cell_text2" >From the list of already monitored attributes, stablish (or change) the period that it is checked.<p></p></td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >GetMonitoringPeriod</td>
            <td class="table_cell_text2" width="15%" >DEV_STRING</td>
            <td class="table_cell_text2" width="15%">DEV_FLOAT</td>
            <td class="table_cell_text2" >Get the period that is checked an attribute monitored.<p></p></td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >CMD</td>
            <td class="table_cell_text2" width="15%" >DEV_STRING</td>
            <td class="table_cell_text2" width="15%">DEV_STRING</td>
            <td class="table_cell_text2" >Expert command for a direct send of a SCPI command and read the answer.<p></p></td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >CMDfloat</td>
            <td class="table_cell_text2" width="15%" >DEV_STRING</td>
            <td class="table_cell_text2" width="15%">DEVVAR_FLOATARRAY</td>
            <td class="table_cell_text2" >Expert command for a direct send of a SCPI command and read the answer converted to a float list.<p></p></td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >Standby</td>
            <td class="table_cell_text2" width="15%" >DEV_VOID</td>
            <td class="table_cell_text2" width="15%">DEV_BOOLEAN</td>
            <td class="table_cell_text2" >Stablish communication with the instrument.<p></p></td>
        </tr>
    </body>
    </table>
   
    </br>
    <p></p>
    <h2 align="justify"><a name="5.3. Atributes"></a>5.3. Atributes</h2>
    
    <p class=Text style='margin-left:2.8pt'><span lang=EN-GB style='font-weight:
    normal;font-style:normal'>These are really the commands of the ALBA Em#. Each
    command of the instrument is convert to an attribute in the Skippy device
    server. </span></p>

    <p class=Text style='margin-left:2.8pt'><span lang=EN-GB style='font-weight:
    normal;font-style:normal'>This is the list of available commands:</span></p>

    <p></p>
    <table  border=1 frame=hsides rules=rows bordercolor="white"><caption>&nbsp;</caption>
    <tbody>
        <tr>
            <th class="table_cell_title" style="text-align:left;"> Name </th>
            <th class="table_cell_title" style="text-align:left;"> Type </th>
            <th class="table_cell_title" style="text-align:left;"> Data type </th>
            <th class="table_cell_title" style="text-align:left;"> Description </th>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >IDN</td>
            <td class="table_cell_text2" width="15%" >READ </td>
            <td class="table_cell_text2" width="15%" >DEV_STRING </td>
            <td class="table_cell_text2" > Instrument identification<p></p></td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >QueryWindow </td>
            <td class="table_cell_text2" width="15%" >READ_WRITE </td>
            <td class="table_cell_text2" width="15%" >DEV_STRING </td>
            <td class="table_cell_text2" >When many attributes are requested at the same time, they are grouped in subqueries of this size <p></p></td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >TimeStampsThreshold </td>
            <td class="table_cell_text2" width="15%" >READ_WRITE </td>
            <td class="table_cell_text2" width="15%" >DEV_STRING </td>
            <td class="table_cell_text2" >This value sets the threshold time to use a cached value or hardware read it <p></p></td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >MAC </td>
            <td class="table_cell_text2" width="15%" >READ </td>
            <td class="table_cell_text2" width="15%" >DEV_STRING </td>
            <td class="table_cell_text2" >MAC address of the instrument <p></p></td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >TriggerDelay </td>
            <td class="table_cell_text2" width="15%" >READ_WRITE </td>
            <td class="table_cell_text2" width="15%" >DEV_STRING </td>
            <td class="table_cell_text2" >Delay in milliseconds of the acquisition after the trigger. <p></p></td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >TriggerInput </td>
            <td class="table_cell_text2" width="15%" >READ_WRITE </td>
            <td class="table_cell_text2" width="15%" >DEV_STRING </td>
            <td class="table_cell_text2" > <p></p></td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" > </td>
            <td class="table_cell_text2" width="15%" > </td>
            <td class="table_cell_text2" width="15%" > </td>
            <td class="table_cell_text2" >Input used for the trigger:
            <div ="table_cell_text2">0: DIO_1</div>
            <div ="table_cell_text2">1: DIO_2</div>
            <div ="table_cell_text2">2: DIO_3</div>
            <div ="table_cell_text2">3: DIO_4</div>
            <div ="table_cell_text2">4: DIFF_IO_1</div>
            <div ="table_cell_text2">5: DIFF_IO_2</div>
            <div ="table_cell_text2">6: DIFF_IO_3</div>
            <div ="table_cell_text2">7: DIFF_IO_4</div>
            <div ="table_cell_text2">8: DIFF_IO_5</div>
            <div ="table_cell_text2">9: DIFF_IO_6</div>
            <div ="table_cell_text2">10: DIFF_IO_7</div>
            <div ="table_cell_text2">11: DIFF_IO_8</div>
            <div ="table_cell_text2">12: DIFF_IO_9</div>
            <p></p></td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >TriggerMode </td>
            <td class="table_cell_text2" width="15%" >READ_WRITE </td>
            <td class="table_cell_text2" width="15%" >DEV_STRING </td>
            <td class="table_cell_text2" >Sets the trigger type internal (sw) or external (hw)
            <div ="table_cell_text2">0: SOFTWARE</div>
            <div ="table_cell_text2">1: HARDWARE</div>
            <p></p></td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >TriggerPolarity </td>
            <td class="table_cell_text2" width="15%" >READ_WRITE </td>
            <td class="table_cell_text2" width="15%" >DEV_STRING </td>
            <td class="table_cell_text2" >Sets the polarity of the trigger at the input
            <div ="table_cell_text2">0: FALLING</div>
            <div ="table_cell_text2">1: RISING</div>
            <p></p></td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >SWTrigger </td>
            <td class="table_cell_text2" width="15%" >READ_WRITE </td>
            <td class="table_cell_text2" width="15%" >DEV_STRING </td>
            <td class="table_cell_text2" >Sets a SW trigger when trigger mode is SOFTWARE <p></p></td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >AcqFilter </td>
            <td class="table_cell_text2" width="15%" >READ_WRITE </td>
            <td class="table_cell_text2" width="15%" >DEV_STRING </td>
            <td class="table_cell_text2" >Configures the acquisition filter
            <div ="table_cell_text2">0: 3200 Hz</div>
            <div ="table_cell_text2">1: 100 Hz</div>
            <div ="table_cell_text2">2: 10 Hz</div>
            <div ="table_cell_text2">3: 1 Hz</div>
            <div ="table_cell_text2">4: 0.5Hz</div>
            <p></p></td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >Meas </td>
            <td class="table_cell_text2" width="15%" >READ </td>
            <td class="table_cell_text2" width="15%" >DEV_STRING </td>
            <td class="table_cell_text2" >All channels data acquired during the last acquisition <p></p></td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >AcqRange </td>
            <td class="table_cell_text2" width="15%" >READ_WRITE </td>
            <td class="table_cell_text2" width="15%" >DEV_STRING </td>
            <td class="table_cell_text2" >Configures the acquisition range 
            <div ="table_cell_text2">0: 1</div>
            <div ="table_cell_text2">1: 0.1</div>
            <div ="table_cell_text2">2: 0.01</div>
            <div ="table_cell_text2">3: 0.001</div>
            <div ="table_cell_text2">4: 0.0001</div>
            <div ="table_cell_text2">5: 0.00001</div>
            <div ="table_cell_text2">6: 0.000001</div>
            <div ="table_cell_text2">7: 0.0000001</div>
            <p></p></td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >AcqStart </td>
            <td class="table_cell_text2" width="15%" >READ_WRITE </td>
            <td class="table_cell_text2" width="15%" >DEV_STRING </td>
            <td class="table_cell_text2" >Starts an acquisition <p></p></td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >AcqState </td>
            <td class="table_cell_text2" width="15%" >READ </td>
            <td class="table_cell_text2" width="15%" >DEV_STRING </td>
            <td class="table_cell_text2" >Acquisition status <p></p></td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >AcqStop </td>
            <td class="table_cell_text2" width="15%" >READ_WRITE </td>
            <td class="table_cell_text2" width="15%" >DEV_STRING </td>
            <td class="table_cell_text2" >Stops an acquisition or resets a failed acquisition <p></p></td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >AcqTime </td>
            <td class="table_cell_text2" width="15%" >READ_WRITE </td>
            <td class="table_cell_text2" width="15%" >DEV_STRING </td>
            <td class="table_cell_text2" >Set acquisition time <p></p></td>
        </tr>
        <tr>
            <th class="table_cell_title" style="text-align:left;" colspan="4"> Channel commands where XX is the channel number and goes from 01 to 04 </th>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >CHANXX_InstantCurrent </td>
            <td class="table_cell_text2" width="15%" >READ </td>
            <td class="table_cell_text2" width="15%" >DEV_STRING </td>
            <td class="table_cell_text2" >Average current value of all samples acquired in a particular channel. <p></p></td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >CHANXX_Current </td>
            <td class="table_cell_text2" width="15%" >READ </td>
            <td class="table_cell_text2" width="15%" >DEV_STRING </td>
            <td class="table_cell_text2" >Buffer that contains all current samples acquired in a particular channel <p></p></td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >CHANXX_AverageCurrent </td>
            <td class="table_cell_text2" width="15%" >READ </td>
            <td class="table_cell_text2" width="15%" >DEV_STRING </td>
            <td class="table_cell_text2" >Instant current read by the ADC module in the FPGA <p></p></td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >CHANXX_CARange </td>
            <td class="table_cell_text2" width="15%" >READ_WRITE </td>
            <td class="table_cell_text2" width="15%" >DEV_STRING </td>
            <td class="table_cell_text2" >Configs current amplifier range for a channel
            <div ="table_cell_text2">0: 1</div>
            <div ="table_cell_text2">1: 0.1</div>
            <div ="table_cell_text2">2: 0.01</div>
            <div ="table_cell_text2">3: 0.001</div>
            <div ="table_cell_text2">4: 0.0001</div>
            <div ="table_cell_text2">5: 0.00001</div>
            <div ="table_cell_text2">6: 0.000001</div>
            <div ="table_cell_text2">7: 0.0000001</div>
            <div ="table_cell_text2">8: AUTO</div>
            <p></p></td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >CHANXX_CAFilter </td>
            <td class="table_cell_text2" width="15%" >READ_WRITE </td>
            <td class="table_cell_text2" width="15%" >DEV_STRING </td>
            <td class="table_cell_text2" >Configs current amplifier filter for a channel
            <div ="table_cell_text2">0: 3200 Hz</div>
            <div ="table_cell_text2">1: 100 Hz</div>
            <div ="table_cell_text2">2: 10 Hz</div>
            <div ="table_cell_text2">3: 1 Hz</div>
            <div ="table_cell_text2">4: 0.5Hz</div>            
            <p></p></td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >CHANXX_CAPostFilter </td>
            <td class="table_cell_text2" width="15%" >READ_WRITE </td>
            <td class="table_cell_text2" width="15%" >DEV_STRING </td>
            <td class="table_cell_text2" >Gets/Sets the post filter of a certain current amplifier board
            <div ="table_cell_text2">0: 3200 Hz</div>
            <div ="table_cell_text2">1: 100 Hz</div>
            <div ="table_cell_text2">2: 10 Hz</div>
            <div ="table_cell_text2">3: 1 Hz</div>
            <p></p></td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >CHANXX_CAPreFilter </td>
            <td class="table_cell_text2" width="15%" >READ_WRITE </td>
            <td class="table_cell_text2" width="15%" >DEV_STRING </td>
            <td class="table_cell_text2" >Gets/Sets the pre filter of a certain current amplifier board 
            <div ="table_cell_text2">0: 3500 Hz</div>
            <div ="table_cell_text2">1: 100 Hz</div>
            <div ="table_cell_text2">2: 10 Hz</div>
            <div ="table_cell_text2">3: 1 Hz</div>
            <div ="table_cell_text2">4: 0.5Hz</div>
            <p></p></td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >CHANXX_CAInversion </td>
            <td class="table_cell_text2" width="15%" >READ_WRITE </td>
            <td class="table_cell_text2" width="15%" >DEV_STRING </td>
            <td class="table_cell_text2" >Configs current amplifier inversion for a channel
            <div ="table_cell_text2">True</div>
            <div ="table_cell_text2">False</div>
            <p></p></td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >CHANXX_CATIGain </td>
            <td class="table_cell_text2" width="15%" >READ_WRITE </td>
            <td class="table_cell_text2" width="15%" >DEV_STRING </td>
            <td class="table_cell_text2" >Configs current amplifier TIGAin for a channel
            <div ="table_cell_text2">0: 10k</div>
            <div ="table_cell_text2">1: 1M</div>
            <div ="table_cell_text2">2: 100M</div>
            <div ="table_cell_text2">3: 1G</div>
            <div ="table_cell_text2">4: 10G</div>
            <p></p></td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >CHANXX_CAVGain </td>
            <td class="table_cell_text2" width="15%" >READ_WRITE </td>
            <td class="table_cell_text2" width="15%" >DEV_STRING </td>
            <td class="table_cell_text2" >Configs current amplifier VGainion for a channel
            <div ="table_cell_text2">0: 1</div>
            <div ="table_cell_text2">1: 10</div>
            <div ="table_cell_text2">2: 50</div>
            <div ="table_cell_text2">3: 100</div>
            <div ="table_cell_text2">4: sat</div>
            <p></p></td>
        </tr>
        <tr>
            <th class="table_cell_title" style="text-align:left;" colspan="4"> High Speed ports only, where XX goes from 01 to 04. </th>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >IOXX_CONFIG </td>
            <td class="table_cell_text2" width="15%" >READ_WRITE </td>
            <td class="table_cell_text2" width="15%" >DEV_STRING </td>
            <td class="table_cell_text2" >Configure Hisgh Speed IOPort XX, 
            <div ="table_cell_text2">0: OUTPUT</div>
            <div ="table_cell_text2">1: INPUT</div>
            <p></p></td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >IOXX </td>
            <td class="table_cell_text2" width="15%" >READ_WRITE </td>
            <td class="table_cell_text2" width="15%" >DEV_STRING </td>
            <td class="table_cell_text2" >Returns/Sets the value of a High Speed IO Port. <p></p></td>
        </tr>
    </body>
    </table>
    
   
    </br>
    <p></p>
    <h1 align="justify"><a name="6. WEB SERVER"></a>6. WEB SERVER</h1>

    <p class=Text style='margin-left:2.8pt'><span lang=EN-GB style='font-weight:
    normal;font-style:normal'>The ALBA Em# includes a graphical interface vie web
    to display and monitor the status and configuration of the instrument. Things
    like MAC, software version or the acquisition configuration among others, are
    available in this page. It uses websocket to stablish a communication chsannel 
    between server and client. Websocket protocol should be sopported by the client
    browser, otherwise the web will not work. </span></p>

    <p class=Text style='margin-left:2.8pt'><span lang=EN-GB style='font-weight:
    normal;font-style:normal'>The WebSocket protocol is currently supported in most 
    major browsers including Google Chrome, Microsoft Edge, Internet Explorer, Firefox,
    Safari and Opera. WebSocket also requires web applications on the server to support 
    it. Following table shows from which version is available for the main web browser:
    </span></p>
    
    <p></p>
    <table  border=1 frame=hsides rules=rows bordercolor="white"><caption>&nbsp;</caption>
    <tbody>
        <tr>
            <th class="table_cell_title" style="text-align:center;"> Protocol </th>
            <th class="table_cell_title" style="text-align:center;"> Draft date </th>
            <th class="table_cell_title" style="text-align:center;"> Internet Explorer </th>
            <th class="table_cell_title" style="text-align:center;"> Firefox (PC) </th>
            <th class="table_cell_title" style="text-align:center;"> Firefox (Android) </th>
            <th class="table_cell_title" style="text-align:center;"> Chrome (PC, Mobile) </th>
            <th class="table_cell_title" style="text-align:center;"> Safari (Mac, iOS) </th>
            <th class="table_cell_title" style="text-align:center;"> Opera (PC, Mobile) </th>
            <th class="table_cell_title" style="text-align:center;"> Android Browser </th>            
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;text-align:center;">RFC6455</td>
            <td class="table_cell_text2" style="text-align:center;"> Dec.2011</td>
            <td class="table_cell_text2" style="text-align:center;"> 10</td>
            <td class="table_cell_text2" style="text-align:center;"> 11</td>
            <td class="table_cell_text2" style="text-align:center;"> 11</td>
            <td class="table_cell_text2" style="text-align:center;"> 16</td>
            <td class="table_cell_text2" style="text-align:center;"> 6</td>
            <td class="table_cell_text2" style="text-align:center;"> 12.10</td>
            <td class="table_cell_text2" style="text-align:center;"> 4.4</td>
        </tr>
    </body>
    </table>
    <p></p>
    
    <p class=Text style='margin-left:2.8pt'><span lang=EN-GB style='font-weight:
    normal;font-style:normal'>The ALBA Em# web, is used only as a diagnostics or status
    report. So for the normal user, any parameter can be modified or changed from this
    page.From any internet browser, just connect to the instrument ip or hostname, to the
    port 8888, it means:</span></p>

    <p class=Text align=center style='margin-left:2.8pt;text-align:center'><span
    lang=EN-GB style='font-weight:normal;font-style:normal'>http:</span><span
    lang=EN-GB style='font-weight:normal'>Hostname_or_ipaddress</span><span
    lang=EN-GB style='font-weight:normal;font-style:normal'>:8888</span></p>

    <p class=Text style='margin-left:2.8pt'><span lang=EN-GB style='font-weight:
    normal;font-style:normal'>Main screen, shows the general status information of the four
    acquisition channels . For each channel, saturation, current, average current, filter, 
    range, offset and the current amplifier temperature values are shown in this section.
    Apart from this it is possible to check the acquisition configuration and data in the 
    acquisition sections. It is also possible to save the acquisition data and its configuration
    to a file.</span></p>
    
    <p class=Text style='margin-left:2.8pt'><span lang=EN-GB style='font-weight:
    normal;font-style:normal'>Configuration and status of 13 Digital InputOutput ports and the
    four Analog is visible in the InputOutput section and the equipment diagnostics status or
    general equipment information are available by displaying in the Diagnostics and Equipment Info
    sections.
    FPGA data is available for developers, showing information about FPGA blocks and its registers 
    values. They are shown in tables where their registers are listed with its current values. Detailed
    information about a FPGA block and its register information can be showed just clicking on the FPGA block name.
    Finally, it is also to check an html version of the user manual or directly download tis manual 
    from the web, by accessing to the User Manual link on the web.</span></p>


    </br>
    <p></p>
    <h1 align="justify"><a name="A. APPENDIX"></a>A. APPENDIX</h1>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>When
    an acquisition starts, there are some checks and operations to be done by the
    software, depending on the trigger and acquisition settings set by the user,
    before apply the result s to the corresponding registers in the FPGA. Things
    like the FIFO size, the delay value to apply, the trigger to store ID in the
    FPGA memory or the mask to store ID in it are some of those operations that
    need to be carried out before starting an acquisition.</span></p>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>Apart
    from that, each data stored in the FPGA memory contains three fields:
    timestamp, data and ID of the module which has generated the data. These ID's
    are not fixed and is the main software who dynamically assigns and ID value to
    each module. So one of the task to do before starting an acquisition, is to set
    the corresponding ID's to be used by each module. If there is no ID value
    assigned to a module output, then that module will not send messages through
    the harmony bus and it will be not possible to store its data to the FPGA
    memory.</span></p>

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>For
    this new ALBA Em</span><span lang=EN-GB style='font-family:"Times New Roman","serif";
    font-weight:normal;font-style:normal'>#</span><span lang=EN-GB
    style='font-weight:normal;font-style:normal'> we are using fixed ID's value in
    code, but for future developments, these ID values could be defined in the
    config file.</span></p>

    </br>
    <p></p>
    <h2 align="justify"><a name="A.1."></a>A.1. Settings for software trigger and full
    acquisition in FIFO FPGA</h2>    

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>This
    section includes the different settings to apply when the acquisition trigger
    mode is set to software and when the acquisition time is smaller than the
    maximum acquisition time allowed by the FIFO FPGA size, which is 320ms.</span></p>

    <p></p>
    <table  border=1 frame=hsides rules=rows bordercolor="white"><caption>&nbsp;</caption>
    <tbody>
        <tr>
            <th class="table_cell_title" style="text-align:left;"> NFPGA Block </th>
            <th class="table_cell_title" style="text-align:left;"> Register: Value </th>
            <th class="table_cell_title" style="text-align:left;"> Description </th>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >ADCCORE</td>
            <td class="table_cell_text2" width="30%" >ID_CH1_ID: 0
            <div ="table_cell_text2">ID_CH2_ID: 0</div>
            <div ="table_cell_text2">ID_CH3_ID: 0</div>
            <div ="table_cell_text2">ID_CH4_ID: 0</div>
            </td>
            <td class="table_cell_text2" >Stop sending ADC data through the Harmony bus ADC output.<p></p></td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >MEMORY</td>
            <td class="table_cell_text2" width="30%" >CTL_SAVE: 0x00
            <div ="table_cell_text2">CTL_ONTRIGGER: 0x00 </div>
            </td>
            <td class="table_cell_text2" >Data saving in FPGA memory, disabled. <p></p></td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >AVERAGE_1</td>
            <td class="table_cell_text2" width="30%" >AVG_CTL_ENA: 0x03
            <div ="table_cell_text2">AVG_CTL_PRE_DIV: 0x00 </div>
            <div ="table_cell_text2">ID_CFG_ID_OUT: <span style='color:cyan;'>AVG_ID_1</span></div>
            <div ="table_cell_text2">ID_CFG_ID_IN: <span style='color:cyan;'>FIFO_ID_1</span> </div>
            <div ="table_cell_text2">ID_CFG_ID_IP: <span style='color:cyan;'>ADC_CH_ID_1</span> </div>
            </td>            
            <td class="table_cell_text2" rowspan="4">Configure average modules for the four channels in the same way.
            <div ="table_cell_text2"> </div>
            <div ="table_cell_text2">Average output for each channel is generated after receiving both negative and positive inputs, without shifting the output.</div>
            <div ="table_cell_text2"> </div>
            <div ="table_cell_text2">Configure positive input as the data coming from the ADC and the negative input is the data coming form the FIFO.</div>
            <div ="table_cell_text2"> </div>
            <div ="table_cell_text2">The Average output ID is fixed and is assigned from a table inside the NUC software, but can be defined in the config file.  </div>
            <p></p></td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >AVERAGE_2</td>
            <td class="table_cell_text2" width="30%" >AVG_CTL_ENA: 0x03
            <div ="table_cell_text2">AVG_CTL_PRE_DIV: 0x00 </div>
            <div ="table_cell_text2">ID_CFG_ID_OUT: <span style='color:cyan;'>AVG_ID_2</span></div>
            <div ="table_cell_text2">ID_CFG_ID_IN: <span style='color:cyan;'>FIFO_ID_2</span> </div>
            <div ="table_cell_text2">ID_CFG_ID_IP: <span style='color:cyan;'>ADC_CH_ID_2</span> </div>
            </td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >AVERAGE_3</td>
            <td class="table_cell_text2" width="30%" >AVG_CTL_ENA: 0x03
            <div ="table_cell_text2">AVG_CTL_PRE_DIV: 0x00 </div>
            <div ="table_cell_text2">ID_CFG_ID_OUT: <span style='color:cyan;'>AVG_ID_3</span></div>
            <div ="table_cell_text2">ID_CFG_ID_IN: <span style='color:cyan;'>FIFO_ID_3</span> </div>
            <div ="table_cell_text2">ID_CFG_ID_IP: <span style='color:cyan;'>ADC_CH_ID_3</span> </div>
            </td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >AVERAGE_4</td>
            <td class="table_cell_text2" width="30%" >AVG_CTL_ENA: 0x03
            <div ="table_cell_text2">AVG_CTL_PRE_DIV: 0x00 </div>
            <div ="table_cell_text2">ID_CFG_ID_OUT: <span style='color:cyan;'>AVG_ID_4</span></div>
            <div ="table_cell_text2">ID_CFG_ID_IN: <span style='color:cyan;'>FIFO_ID_4</span> </div>
            <div ="table_cell_text2">ID_CFG_ID_IP: <span style='color:cyan;'>ADC_CH_ID_4</span> </div>
            </td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >FIFO_1</td>
            <td class="table_cell_text2" width="30%" >MEM_CTL_ID_IN: <span style='color:cyan;'>ADC_CH_ID_1</span></div>
            <div ="table_cell_text2">MEM_CTL_ID_OUT: <span style='color:cyan;'>FIFO_ID_1</span> </div>
            <div ="table_cell_text2">FIFO_SIZE_SIZE: <span style='color:cyan;'>fifosize</span> </div>
            </td>            
            <td class="table_cell_text2" rowspan="4">Configure And Initialize FIFO modules for the 4 acquisition channels.
            <div ="table_cell_text2"> </div>
            <div ="table_cell_text2">The FIFO needs to be cleared first. To do that, FIFO_MAX_SIZE data, with value 0x00 is generated using the IDGEN module . The FIFO IN is configured with the same ID than is being generated with the ID GEN.</div>
            <div ="table_cell_text2"> </div>
            <div ="table_cell_text2">After this initialization, the FIFO input ID is the one coming from the ADC.</div>
            <div ="table_cell_text2"> </div>
            <div ="table_cell_text2">The FIFO output ID, same as the average ID is fixed by software, but can be externally defined in the config file</div>
            <div ="table_cell_text2"> </div>
            <div ="table_cell_text2">The FIFO size is calculated by dividing the acquisition time set between the acquisition need for one sample. The result is the number of samples to sore in the FIFO. In this configuration mode, the number of samples doesn't exceeds the FIFO MAXIMUM SIZE.</div>
            <p></p></td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >FIFO_2</td>
            <td class="table_cell_text2" width="30%" >MEM_CTL_ID_IN: <span style='color:cyan;'>ADC_CH_ID_2</span></div>
            <div ="table_cell_text2">MEM_CTL_ID_OUT: <span style='color:cyan;'>FIFO_ID_2</span> </div>
            <div ="table_cell_text2">FIFO_SIZE_SIZE: <span style='color:cyan;'>fifosize</span> </div>
            </td>            
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >FIFO_3</td>
            <td class="table_cell_text2" width="30%" >MEM_CTL_ID_IN: <span style='color:cyan;'>ADC_CH_ID_3</span></div>
            <div ="table_cell_text2">MEM_CTL_ID_OUT: <span style='color:cyan;'>FIFO_ID_3</span> </div>
            <div ="table_cell_text2">FIFO_SIZE_SIZE: <span style='color:cyan;'>fifosize</span> </div>
            </td>            
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >FIFO_4</td>
            <td class="table_cell_text2" width="30%" >MEM_CTL_ID_IN: <span style='color:cyan;'>ADC_CH_ID_4</span></div>
            <div ="table_cell_text2">MEM_CTL_ID_OUT: <span style='color:cyan;'>FIFO_ID_4</span> </div>
            <div ="table_cell_text2">FIFO_SIZE_SIZE: <span style='color:cyan;'>fifosize</span> </div>
            </td>            
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >DIGITALIO</td>
            <td class="table_cell_text2" width="30%" >CNT0_STP_OUT_ID: 0x00
            <div ="table_cell_text2">CNT0_STP_SRC_ID: <span style='color:cyan;'>IDGEN_ID</span> </div>
            <div ="table_cell_text2">CNT0_STP_SIG: 0x00</div>
            <div ="table_cell_text2">CNT0_STP_DIS: 0x07</div>
            <div ="table_cell_text2">CNT0_V_CNT_V: 0x00</div>
            <div ="table_cell_text2">CNT0_STP_SRC: 0x0E</div>
            <div ="table_cell_text2">TRG0_V_CNT_V: 0x01</div>
            </td>
            <td class="table_cell_text2" >Configure Counter 0 to count the number of IDGEN ID received.
            <div ="table_cell_text2">Counter 0 is enabled and set to count Harmony ID's which value is IDGEN ID</div>
            <p></p></td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >IDGEN</td>
            <td class="table_cell_text2" width="30%" >ID_GEN_CTL_ETI: 0x00
            <div ="table_cell_text2">ID_GEN_CTL_CLKE: 0x01</div>
            <div ="table_cell_text2">DATA_GEN_DATA: 0x00</div>
            <div ="table_cell_text2">TS_ID_ID_OUT: <span style='color:cyan;'>IDGEN_ID</span> </div>
            <div ="table_cell_text2">WAIT_TIME: <span style='color:cyan;'>delay_value</span> </div>
            </td>
            <td class="table_cell_text2" >IDGEN module is configured to send a data with value 0x00 and ID the IDGEN_ID each time the MTRIG register is set to 1. 
            <div ="table_cell_text2">The calculated trigger delay value is also applied and generated with the IDGEN module, by delaying the ID out which triggers the Memory data save.</div>
            <p></p></td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >MEMORY</td>
            <td class="table_cell_text2" width="30%" >CTL_TRIGID: <span style='color:cyan;'>IDGEN_ID</span>
            <div ="table_cell_text2">CTL_IDMASK: <span style='color:cyan;'>maskval</span></div>
            <div ="table_cell_text2">CTL_ID: <span style='color:cyan;'>AVG_ID_1</span></div>
            </td>
            <td class="table_cell_text2" >Memory trigger and mask are configured. The resulting number is combination of the four AVERAGE channels Id, which contains the ADC data we want to store.. 
            <div ="table_cell_text2">The trigger to store data corresponds to the IDGEN ID module.</div>
            <div ="table_cell_text2">The maskval is the result of an or operation between AVG_ID_1, AVG_ID_2, AVG_ID_3 and AVG_ID_4.</div>
            <p></p></td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >AVERAGE_1</td>
            <td class="table_cell_text2" width="30%" >AVG_CTL_WB_RST: 0x01</td>
            <td class="table_cell_text2" rowspan="4">Before enabling the ADC module, the AVERAGE modules need to be reset.
            <p></p></td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >AVERAGE_2</td>
            <td class="table_cell_text2" width="30%" >AVG_CTL_WB_RST: 0x01</td>
            <p></p></td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >AVERAGE_3</td>
            <td class="table_cell_text2" width="30%" >AVG_CTL_WB_RST: 0x01</td>
            <p></p></td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >AVERAGE_4</td>
            <td class="table_cell_text2" width="30%" >AVG_CTL_WB_RST: 0x01</td>
            <p></p></td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >MEMORY</td>
            <td class="table_cell_text2" width="30%" >CTL_ONTRIGGER: 0x01
            <div ="table_cell_text2">CTL_RST: 0x01</div>
            <div ="table_cell_text2">CTL_SAVE: 0x01</div>
            </td>
            <td class="table_cell_text2" >Enable data saving in FPGA memory
            <p></p></td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >ADCCORE</td>
            <td class="table_cell_text2" width="30%" >CTL_RST: 0x01
            <div ="table_cell_text2">CTL_ADQ_M: 0x00</div>
            <div ="table_cell_text2">CTL_RANGE: 0x01</div>
            <div ="table_cell_text2">CTL_ADC_OS: 0x06</div>
            <div ="table_cell_text2">CTL_DBL_RATE: 0x01</div>
            <div ="table_cell_text2">ID_CH1_ID: <span style='color:cyan;'>ADC_CH_ID_1</span></div>
            <div ="table_cell_text2">ID_CH2_ID: <span style='color:cyan;'>ADC_CH_ID_2</span></div>
            <div ="table_cell_text2">ID_CH3_ID: <span style='color:cyan;'>ADC_CH_ID_3</span></div>
            <div ="table_cell_text2">ID_CH4_ID: <span style='color:cyan;'>ADC_CH_ID_4</span></div>
            </td>
            <td class="table_cell_text2" >Configure de ADC module to use oversampling of 64 values, working at 200KS/s and in a continuous acquisition mode.
            <div ="table_cell_text2">ADC channels output to the harmony bus are enabled by setting the corresponding value to each channel ID. These Id are defined in software, but same as the rest of ID's, can be defined in the config file.</div>
            <p></p></td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >DIGITALIO</td>
            <td class="table_cell_text2" width="30%" >DIO_STP_RST: 0x01
            </td>
            <td class="table_cell_text2" >Just in case. Reset the digitalIO module.
            <p></p></td>
        </tr>
    </body>
    </table>


    </br>
    <p></p>
    <h2 align="justify"><a name="A.2."></a>A.2. Settings for software trigger and
    partial acquisition in FIFO FPGA</h2>
    
    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>This
    section includes the different settings to apply when the acquisition trigger
    mode is set to software and when the acquisition time is bigger than the maximum
    acquisition time allowed by the FIFO FPGA size, which is 320ms. In this case,
    we have to split the acquisition in several equal parts in the FPGA, then store
    those partial acquisitions in the FPGA memory, read them in the NUC software
    and calculate the average of those acquisitions to get the final acquisition
    data. In example, for an acquisition of 1000ms, the software calculates that
    it needs 4 partial acquisitions with a FIFO size of 781. So the FIFO is
    configured to get those 781 samples and calculate the average, the resulting
    value is stored in the FPGA memory. The main software gets up to 4 of these
    partial acquisitions and calculates the average to complete the requested
    acquisition.</span></p>

    <p></p>
    <table  border=1 frame=hsides rules=rows bordercolor="white"><caption>&nbsp;</caption>
    <tbody>
        <tr>
            <th class="table_cell_title" style="text-align:left;"> NFPGA Block </th>
            <th class="table_cell_title" style="text-align:left;"> Register: Value </th>
            <th class="table_cell_title" style="text-align:left;"> Description </th>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >ADCCORE</td>
            <td class="table_cell_text2" width="30%" >ID_CH1_ID: 0
            <div ="table_cell_text2">ID_CH2_ID: 0</div>
            <div ="table_cell_text2">ID_CH3_ID: 0</div>
            <div ="table_cell_text2">ID_CH4_ID: 0</div>
            </td>
            <td class="table_cell_text2" >Stop sending ADC data through the Harmony bus ADC output.<p></p></td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >MEMORY</td>
            <td class="table_cell_text2" width="30%" >CTL_SAVE: 0x00
            <div ="table_cell_text2">CTL_ONTRIGGER: 0x00 </div>
            </td>
            <td class="table_cell_text2" >Data saving in FPGA memory, disabled. <p></p></td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >AVERAGE_1</td>
            <td class="table_cell_text2" width="30%" >AVG_CTL_ENA: 0x03
            <div ="table_cell_text2">AVG_CTL_PRE_DIV: 0x00 </div>
            <div ="table_cell_text2">ID_CFG_ID_OUT: <span style='color:cyan;'>AVG_ID_1</span></div>
            <div ="table_cell_text2">ID_CFG_ID_IN: <span style='color:cyan;'>FIFO_ID_1</span> </div>
            <div ="table_cell_text2">ID_CFG_ID_IP: <span style='color:cyan;'>ADC_CH_ID_1</span> </div>
            </td>            
            <td class="table_cell_text2" rowspan="4">Configure average modules for the four channels in the same way.
            <div ="table_cell_text2"> </div>
            <div ="table_cell_text2">Average output for each channel is generated after receiving both negative and positive inputs, without shifting the output.</div>
            <div ="table_cell_text2"> </div>
            <div ="table_cell_text2">Configure positive input as the data coming from the ADC and the negative input is the data coming form the FIFO.</div>
            <div ="table_cell_text2"> </div>
            <div ="table_cell_text2">The Average output ID is fixed and is assigned from a table inside the NUC software, but can be defined in the config file.  </div>
            <p></p></td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >AVERAGE_2</td>
            <td class="table_cell_text2" width="30%" >AVG_CTL_ENA: 0x03
            <div ="table_cell_text2">AVG_CTL_PRE_DIV: 0x00 </div>
            <div ="table_cell_text2">ID_CFG_ID_OUT: <span style='color:cyan;'>AVG_ID_2</span></div>
            <div ="table_cell_text2">ID_CFG_ID_IN: <span style='color:cyan;'>FIFO_ID_2</span> </div>
            <div ="table_cell_text2">ID_CFG_ID_IP: <span style='color:cyan;'>ADC_CH_ID_2</span> </div>
            </td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >AVERAGE_3</td>
            <td class="table_cell_text2" width="30%" >AVG_CTL_ENA: 0x03
            <div ="table_cell_text2">AVG_CTL_PRE_DIV: 0x00 </div>
            <div ="table_cell_text2">ID_CFG_ID_OUT: <span style='color:cyan;'>AVG_ID_3</span></div>
            <div ="table_cell_text2">ID_CFG_ID_IN: <span style='color:cyan;'>FIFO_ID_3</span> </div>
            <div ="table_cell_text2">ID_CFG_ID_IP: <span style='color:cyan;'>ADC_CH_ID_3</span> </div>
            </td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >AVERAGE_4</td>
            <td class="table_cell_text2" width="30%" >AVG_CTL_ENA: 0x03
            <div ="table_cell_text2">AVG_CTL_PRE_DIV: 0x00 </div>
            <div ="table_cell_text2">ID_CFG_ID_OUT: <span style='color:cyan;'>AVG_ID_4</span></div>
            <div ="table_cell_text2">ID_CFG_ID_IN: <span style='color:cyan;'>FIFO_ID_4</span> </div>
            <div ="table_cell_text2">ID_CFG_ID_IP: <span style='color:cyan;'>ADC_CH_ID_4</span> </div>
            </td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >FIFO_1</td>
            <td class="table_cell_text2" width="30%" >MEM_CTL_ID_IN: <span style='color:cyan;'>ADC_CH_ID_1</span></div>
            <div ="table_cell_text2">MEM_CTL_ID_OUT: <span style='color:cyan;'>FIFO_ID_1</span> </div>
            <div ="table_cell_text2">FIFO_SIZE_SIZE: <span style='color:cyan;'>fifosize</span> </div>
            </td>            
            <td class="table_cell_text2" rowspan="4">Configure And Initialize FIFO modules for the 4 acquisition channels.
            <div ="table_cell_text2"> </div>
            <div ="table_cell_text2">The FIFO needs to be cleared first. To do that, FIFO_MAX_SIZE data, with value 0x00 is generated using the IDGEN module . The FIFO IN is configured with the same ID than is being generated with the ID GEN.</div>
            <div ="table_cell_text2"> </div>
            <div ="table_cell_text2">After this initialization, the FIFO input ID is the one coming from the ADC.</div>
            <div ="table_cell_text2"> </div>
            <div ="table_cell_text2">The FIFO output ID, same as the average ID is fixed by software, but can be externally defined in the config file</div>
            <div ="table_cell_text2"> </div>
            <div ="table_cell_text2">The FIFO size is calculated by dividing the acquisition time set between the acquisition need for one sample. The result is the number of samples to sore in the FIFO. In this configuration mode, the number of samples doesn't exceeds the FIFO MAXIMUM SIZE.</div>
            <p></p></td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >FIFO_2</td>
            <td class="table_cell_text2" width="30%" >MEM_CTL_ID_IN: <span style='color:cyan;'>ADC_CH_ID_2</span></div>
            <div ="table_cell_text2">MEM_CTL_ID_OUT: <span style='color:cyan;'>FIFO_ID_2</span> </div>
            <div ="table_cell_text2">FIFO_SIZE_SIZE: <span style='color:cyan;'>fifosize</span> </div>
            </td>            
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >FIFO_3</td>
            <td class="table_cell_text2" width="30%" >MEM_CTL_ID_IN: <span style='color:cyan;'>ADC_CH_ID_3</span></div>
            <div ="table_cell_text2">MEM_CTL_ID_OUT: <span style='color:cyan;'>FIFO_ID_3</span> </div>
            <div ="table_cell_text2">FIFO_SIZE_SIZE: <span style='color:cyan;'>fifosize</span> </div>
            </td>            
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >FIFO_4</td>
            <td class="table_cell_text2" width="30%" >MEM_CTL_ID_IN: <span style='color:cyan;'>ADC_CH_ID_4</span></div>
            <div ="table_cell_text2">MEM_CTL_ID_OUT: <span style='color:cyan;'>FIFO_ID_4</span> </div>
            <div ="table_cell_text2">FIFO_SIZE_SIZE: <span style='color:cyan;'>fifosize</span> </div>
            </td>            
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >DIGITALIO</td>
            <td class="table_cell_text2" width="30%" >CNT0_STP_OUT_ID: 0x00
            <div ="table_cell_text2">CNT0_STP_SRC_ID: <span style='color:cyan;'>IDGEN_ID</span> </div>
            <div ="table_cell_text2">CNT0_STP_SIG: 0x00</div>
            <div ="table_cell_text2">CNT0_STP_DIS: 0x07</div>
            <div ="table_cell_text2">CNT0_V_CNT_V: 0x00</div>
            <div ="table_cell_text2">CNT0_STP_SRC: 0x0E</div>
            <div ="table_cell_text2">TRG0_V_CNT_V: 0x01</div>
            </td>
            <td class="table_cell_text2" >Configure Counter 0 to count the number of IDGEN ID received.
            <div ="table_cell_text2">Counter 0 is enabled and set to count Harmony ID's which value is IDGEN ID</div>
            <p></p></td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >IDGEN</td>
            <td class="table_cell_text2" width="30%" >ID_GEN_CTL_ETI: 0x00
            <div ="table_cell_text2">ID_GEN_CTL_CLKE: 0x01</div>
            <div ="table_cell_text2">DATA_GEN_DATA: 0x00</div>
            <div ="table_cell_text2">TS_ID_ID_OUT: <span style='color:cyan;'>IDGEN_ID</span> </div>
            <div ="table_cell_text2">WAIT_TIME: <span style='color:cyan;'>delay_value</span> </div>
            </td>
            <td class="table_cell_text2" >IDGEN module is configured to send a data with value 0x00 and ID the IDGEN_ID each time the MTRIG register is set to 1. 
            <div ="table_cell_text2">The calculated trigger delay value is also applied and generated with the IDGEN module, by delaying the ID out which triggers the Memory data save.</div>
            <p></p></td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >DIGITALIO</td>
            <td class="table_cell_text2" width="30%" >CNT1_STP_OUT_: <span style='color:cyan;'>CNT1_ID</span> 
            <div ="table_cell_text2">CNT1_STP_SRC_ID: <span style='color:cyan;'>ADC_CH_ID_1</span> </div>
            <div ="table_cell_text2">CNT1_STP_SIG: 0x00</div>
            <div ="table_cell_text2">CNT1_STP_TRIG: 0x01</div>
            <div ="table_cell_text2">CNT1_STP_SRC: 0x0E</div>
            <div ="table_cell_text2">CNT1_V_CNT_V: 0x00</div>
            <div ="table_cell_text2">TRG1_V_CNT_V: <span style='color:cyan;'>fifosize</span> </div>
            <div ="table_cell_text2">DIS_STP_DIS1_ID: <span style='color:cyan;'>IDGEN_ID</span> </div>
            <div ="table_cell_text2">CNT1_STP_DIS: 0x01</div>
            <div ="table_cell_text2">DIS_STP_DIS1_M: 0x03</div>
            <div ="table_cell_text2">DIS_STP_WD1: 0x01</div>
            <div ="table_cell_text2">DIS_STP_DIS1_M: 0x02</div>
            </td>
            <td class="table_cell_text2" >Configure Counter 1 to count ADC1 samples generated in the harmony bus, when n the number of samples matches the value of the fifosize set, then it generates the corresponding out ID set, which is in this case the CNT1_ID.
            <div ="table_cell_text2">This counter is disabled at the beginning of the acquisition and starts to count when the IDGEN_ID is received.</div>
            <p></p></td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >MEMORY</td>
            <td class="table_cell_text2" width="30%" >CTL_TRIGID: <span style='color:cyan;'>CNT1_ID</span>
            <div ="table_cell_text2">CTL_IDMASK: <span style='color:cyan;'>maskval</span></div>
            <div ="table_cell_text2">CTL_ID: <span style='color:cyan;'>AVG_ID_1</span></div>
            </td>
            <td class="table_cell_text2" >Memory trigger and mask are configured. The resulting number is combination of the four AVERAGE channels Id, which contains the ADC data we want to store.. 
            <div ="table_cell_text2">The trigger to store data corresponds to the output of the Counter 1.</div>
            <div ="table_cell_text2">The maskval is the result of an or operation between AVG_ID_1, AVG_ID_2, AVG_ID_3, AVG_ID_4, IDGEN_ID and CNT1_ID</div>
            <p></p></td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >AVERAGE_1</td>
            <td class="table_cell_text2" width="30%" >AVG_CTL_WB_RST: 0x01</td>
            <td class="table_cell_text2" rowspan="4">Before enabling the ADC module, the AVERAGE modules need to be reset.
            <p></p></td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >AVERAGE_2</td>
            <td class="table_cell_text2" width="30%" >AVG_CTL_WB_RST: 0x01</td>
            <p></p></td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >AVERAGE_3</td>
            <td class="table_cell_text2" width="30%" >AVG_CTL_WB_RST: 0x01</td>
            <p></p></td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >AVERAGE_4</td>
            <td class="table_cell_text2" width="30%" >AVG_CTL_WB_RST: 0x01</td>
            <p></p></td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >MEMORY</td>
            <td class="table_cell_text2" width="30%" >CTL_ONTRIGGER: 0x01
            <div ="table_cell_text2">CTL_RST: 0x01</div>
            <div ="table_cell_text2">CTL_SAVE: 0x01</div>
            </td>
            <td class="table_cell_text2" >Enable data saving in FPGA memory
            <p></p></td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >ADCCORE</td>
            <td class="table_cell_text2" width="30%" >CTL_RST: 0x01
            <div ="table_cell_text2">CTL_ADQ_M: 0x00</div>
            <div ="table_cell_text2">CTL_RANGE: 0x01</div>
            <div ="table_cell_text2">CTL_ADC_OS: 0x06</div>
            <div ="table_cell_text2">CTL_DBL_RATE: 0x01</div>
            <div ="table_cell_text2">ID_CH1_ID: <span style='color:cyan;'>ADC_CH_ID_1</span></div>
            <div ="table_cell_text2">ID_CH2_ID: <span style='color:cyan;'>ADC_CH_ID_2</span></div>
            <div ="table_cell_text2">ID_CH3_ID: <span style='color:cyan;'>ADC_CH_ID_3</span></div>
            <div ="table_cell_text2">ID_CH4_ID: <span style='color:cyan;'>ADC_CH_ID_4</span></div>
            </td>
            <td class="table_cell_text2" >Configure de ADC module to use oversampling of 64 values, working at 200KS/s and in a continuous acquisition mode.
            <div ="table_cell_text2">ADC channels output to the harmony bus are enabled by setting the corresponding value to each channel ID. These Id are defined in software, but same as the rest of ID's, can be defined in the config file.</div>
            <p></p></td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >DIGITALIO</td>
            <td class="table_cell_text2" width="30%" >DIO_STP_RST: 0x01
            </td>
            <td class="table_cell_text2" >Just in case. Reset the digitalIO module.
            <p></p></td>
        </tr>
    </body>
    </table>

    </br>
    <p></p>
    <h2 align="justify"><a name="A.3."></a>A.3. Settings for hardware trigger and
    full acquisition in FIFO FPGA</h2>    

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>This
    section includes the different settings to apply when the acquisition trigger
    mode is set to hardware and when the acquisition time is smaller than the
    maximum acquisition time allowed by the FIFO FPGA size, which is 320ms.
    Basically configuration is the same as explained in section B.1, but with the
    different here that instead of manual generate the trigger with the IDGEN
    module, is the trigger input selected which triggers the IDGEN module, through
    the DigitalIO counter 0, to generate the ID that triggers the FPGA memory data
    saving. </span></p>

    <p></p>
    <table  border=1 frame=hsides rules=rows bordercolor="white"><caption>&nbsp;</caption>
    <tbody>
        <tr>
            <th class="table_cell_title" style="text-align:left;"> NFPGA Block </th>
            <th class="table_cell_title" style="text-align:left;"> Register: Value </th>
            <th class="table_cell_title" style="text-align:left;"> Description </th>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >ADCCORE</td>
            <td class="table_cell_text2" width="30%" >ID_CH1_ID: 0
            <div ="table_cell_text2">ID_CH2_ID: 0</div>
            <div ="table_cell_text2">ID_CH3_ID: 0</div>
            <div ="table_cell_text2">ID_CH4_ID: 0</div>
            </td>
            <td class="table_cell_text2" >Stop sending ADC data through the Harmony bus ADC output.<p></p></td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >MEMORY</td>
            <td class="table_cell_text2" width="30%" >CTL_SAVE: 0x00
            <div ="table_cell_text2">CTL_ONTRIGGER: 0x00 </div>
            </td>
            <td class="table_cell_text2" >Data saving in FPGA memory, disabled. <p></p></td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >AVERAGE_1</td>
            <td class="table_cell_text2" width="30%" >AVG_CTL_ENA: 0x03
            <div ="table_cell_text2">AVG_CTL_PRE_DIV: 0x00 </div>
            <div ="table_cell_text2">ID_CFG_ID_OUT: <span style='color:cyan;'>AVG_ID_1</span></div>
            <div ="table_cell_text2">ID_CFG_ID_IN: <span style='color:cyan;'>FIFO_ID_1</span> </div>
            <div ="table_cell_text2">ID_CFG_ID_IP: <span style='color:cyan;'>ADC_CH_ID_1</span> </div>
            </td>            
            <td class="table_cell_text2" rowspan="4">Configure average modules for the four channels in the same way.
            <div ="table_cell_text2"> </div>
            <div ="table_cell_text2">Average output for each channel is generated after receiving both negative and positive inputs, without shifting the output.</div>
            <div ="table_cell_text2"> </div>
            <div ="table_cell_text2">Configure positive input as the data coming from the ADC and the negative input is the data coming form the FIFO.</div>
            <div ="table_cell_text2"> </div>
            <div ="table_cell_text2">The Average output ID is fixed and is assigned from a table inside the NUC software, but can be defined in the config file.  </div>
            <p></p></td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >AVERAGE_2</td>
            <td class="table_cell_text2" width="30%" >AVG_CTL_ENA: 0x03
            <div ="table_cell_text2">AVG_CTL_PRE_DIV: 0x00 </div>
            <div ="table_cell_text2">ID_CFG_ID_OUT: <span style='color:cyan;'>AVG_ID_2</span></div>
            <div ="table_cell_text2">ID_CFG_ID_IN: <span style='color:cyan;'>FIFO_ID_2</span> </div>
            <div ="table_cell_text2">ID_CFG_ID_IP: <span style='color:cyan;'>ADC_CH_ID_2</span> </div>
            </td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >AVERAGE_3</td>
            <td class="table_cell_text2" width="30%" >AVG_CTL_ENA: 0x03
            <div ="table_cell_text2">AVG_CTL_PRE_DIV: 0x00 </div>
            <div ="table_cell_text2">ID_CFG_ID_OUT: <span style='color:cyan;'>AVG_ID_3</span></div>
            <div ="table_cell_text2">ID_CFG_ID_IN: <span style='color:cyan;'>FIFO_ID_3</span> </div>
            <div ="table_cell_text2">ID_CFG_ID_IP: <span style='color:cyan;'>ADC_CH_ID_3</span> </div>
            </td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >AVERAGE_4</td>
            <td class="table_cell_text2" width="30%" >AVG_CTL_ENA: 0x03
            <div ="table_cell_text2">AVG_CTL_PRE_DIV: 0x00 </div>
            <div ="table_cell_text2">ID_CFG_ID_OUT: <span style='color:cyan;'>AVG_ID_4</span></div>
            <div ="table_cell_text2">ID_CFG_ID_IN: <span style='color:cyan;'>FIFO_ID_4</span> </div>
            <div ="table_cell_text2">ID_CFG_ID_IP: <span style='color:cyan;'>ADC_CH_ID_4</span> </div>
            </td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >FIFO_1</td>
            <td class="table_cell_text2" width="30%" >MEM_CTL_ID_IN: <span style='color:cyan;'>ADC_CH_ID_1</span></div>
            <div ="table_cell_text2">MEM_CTL_ID_OUT: <span style='color:cyan;'>FIFO_ID_1</span> </div>
            <div ="table_cell_text2">FIFO_SIZE_SIZE: <span style='color:cyan;'>fifosize</span> </div>
            </td>            
            <td class="table_cell_text2" rowspan="4">Configure And Initialize FIFO modules for the 4 acquisition channels.
            <div ="table_cell_text2"> </div>
            <div ="table_cell_text2">The FIFO needs to be cleared first. To do that, FIFO_MAX_SIZE data, with value 0x00 is generated using the IDGEN module . The FIFO IN is configured with the same ID than is being generated with the ID GEN.</div>
            <div ="table_cell_text2"> </div>
            <div ="table_cell_text2">After this initialization, the FIFO input ID is the one coming from the ADC.</div>
            <div ="table_cell_text2"> </div>
            <div ="table_cell_text2">The FIFO output ID, same as the average ID is fixed by software, but can be externally defined in the config file</div>
            <div ="table_cell_text2"> </div>
            <div ="table_cell_text2">The FIFO size is calculated by dividing the acquisition time set between the acquisition need for one sample. The result is the number of samples to sore in the FIFO. In this configuration mode, the number of samples doesn't exceeds the FIFO MAXIMUM SIZE.</div>
            <p></p></td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >FIFO_2</td>
            <td class="table_cell_text2" width="30%" >MEM_CTL_ID_IN: <span style='color:cyan;'>ADC_CH_ID_2</span></div>
            <div ="table_cell_text2">MEM_CTL_ID_OUT: <span style='color:cyan;'>FIFO_ID_2</span> </div>
            <div ="table_cell_text2">FIFO_SIZE_SIZE: <span style='color:cyan;'>fifosize</span> </div>
            </td>            
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >FIFO_3</td>
            <td class="table_cell_text2" width="30%" >MEM_CTL_ID_IN: <span style='color:cyan;'>ADC_CH_ID_3</span></div>
            <div ="table_cell_text2">MEM_CTL_ID_OUT: <span style='color:cyan;'>FIFO_ID_3</span> </div>
            <div ="table_cell_text2">FIFO_SIZE_SIZE: <span style='color:cyan;'>fifosize</span> </div>
            </td>            
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >FIFO_4</td>
            <td class="table_cell_text2" width="30%" >MEM_CTL_ID_IN: <span style='color:cyan;'>ADC_CH_ID_4</span></div>
            <div ="table_cell_text2">MEM_CTL_ID_OUT: <span style='color:cyan;'>FIFO_ID_4</span> </div>
            <div ="table_cell_text2">FIFO_SIZE_SIZE: <span style='color:cyan;'>fifosize</span> </div>
            </td>            
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >DIGITALIO</td>
            <td class="table_cell_text2" width="30%" >DIGITALIO: <span style='color:red;'>trigger_input</span></div>
            <div ="table_cell_text2">DIO_STP_IOP: <span style='color:red;'>trigger_polarity</span> </div>
            </td>            
            <td class="table_cell_text2" >Configures the selected trigger input and its polarity
            <p></p></td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >SPI</td>
            <td class="table_cell_text2" width="30%" >For GPIO:
            <div ="table_cell_text2">ctl_spi_addr: 0x18</div>
            <div ="table_cell_text2">ctl_spi_addr: 0x19</div>
            <div ="table_cell_text2"><p></p></div>
            <div ="table_cell_text2">For High Speed I/O ports:</div>
            <div ="table_cell_text2">ctl_spi_addr: 0x1a</div>
            <div ="table_cell_text2"><p></p></div>
            <div ="table_cell_text2">Other register used to transmit/receive data though SPI:</div>
            <div ="table_cell_text2">ctl_tx, ctl_tx_data, ctl_tx_data_length, ctl_rx, ctl_rx_data_length, ctl_start, ctl_rx_data</div>
            </td>            
            <td class="table_cell_text2" >Configures the front end board port expanders to set the corresponding trigger input as input.
            <p></p></td>
        </tr>


        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >DIGITALIO</td>
            <td class="table_cell_text2" width="30%" >CNT0_STP_OUT_ID: <span style='color:cyan;'>CNT0_ID</span>
            <div ="table_cell_text2">CNT0_STP_SIG: 0x00 </div>
            <div ="table_cell_text2">CNT0_STP_DIS: 0x07</div>
            <div ="table_cell_text2">CNT0_STP_TRIG: 0x00</div>
            <div ="table_cell_text2">CNT0_STP_SRC: <span style='color:red;'>trigger_input</span></div>
            <div ="table_cell_text2">TRG0_V_CNT_V: 0x01</div>
            <div ="table_cell_text2">CNT0_V_CNT_V: 0x00</div>
            </td>
            <td class="table_cell_text2" >Confiure Counter 0 to count voltage changes in the selected trigger input. The trigger counter is set to 1, so once a trigger input is received the corresponding CNT0_ID is generated.
            <p></p></td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >IDGEN</td>
            <td class="table_cell_text2" width="30%" >ID_GEN_CTL_ETI: 0x01
            <div ="table_cell_text2">ID_GEN_CTL_CLKE: 0x01</div>
            <div ="table_cell_text2">DATA_GEN_DATA: 0x00</div>
            <div ="table_cell_text2">ID_GEN_CTL_TRIGGERID: <span style='color:cyan;'>CNT0_ID</span> </div>
            <div ="table_cell_text2">TS_ID_ID_OUT: <span style='color:cyan;'>IDGEN_ID</span> </div>
            <div ="table_cell_text2">WAIT_TIME: <span style='color:cyan;'>delay_value</span> </div>
            </td>
            <td class="table_cell_text2" >The configuration of the ID GEN module here is differente to the one when using software trigger. The IDGEN module is configured to send a data with value 0x00 and ID the IDGEN_ID each time the CNT0_ID is received. 
            <div ="table_cell_text2">The calculated trigger delay value is also applied and generated with the IDGEN module, by delaying the ID out which triggers the Memory data save.</div>
            <p></p></td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >MEMORY</td>
            <td class="table_cell_text2" width="30%" >CTL_TRIGID: <span style='color:cyan;'>IDGEN_ID</span>
            <div ="table_cell_text2">CTL_IDMASK: <span style='color:cyan;'>maskval</span></div>
            <div ="table_cell_text2">CTL_ID: <span style='color:cyan;'>AVG_ID_1</span></div>
            </td>
            <td class="table_cell_text2" >Memory trigger and mask are configured. The resulting number is combination of the four AVERAGE channels Id, which contains the ADC data we want to store.. 
            <div ="table_cell_text2">The trigger to store data corresponds to the IDGEN ID module</div>
            <div ="table_cell_text2">he maskval is the result of an or operation between AVG_ID_1, AVG_ID_2, AVG_ID_3 and AVG_ID_4</div>
            <p></p></td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >AVERAGE_1</td>
            <td class="table_cell_text2" width="30%" >AVG_CTL_WB_RST: 0x01</td>
            <td class="table_cell_text2" rowspan="4">Before enabling the ADC module, the AVERAGE modules need to be reset.
            <p></p></td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >AVERAGE_2</td>
            <td class="table_cell_text2" width="30%" >AVG_CTL_WB_RST: 0x01</td>
            <p></p></td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >AVERAGE_3</td>
            <td class="table_cell_text2" width="30%" >AVG_CTL_WB_RST: 0x01</td>
            <p></p></td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >AVERAGE_4</td>
            <td class="table_cell_text2" width="30%" >AVG_CTL_WB_RST: 0x01</td>
            <p></p></td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >MEMORY</td>
            <td class="table_cell_text2" width="30%" >CTL_ONTRIGGER: 0x01
            <div ="table_cell_text2">CTL_RST: 0x01</div>
            <div ="table_cell_text2">CTL_SAVE: 0x01</div>
            </td>
            <td class="table_cell_text2" >Enable data saving in FPGA memory
            <p></p></td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >ADCCORE</td>
            <td class="table_cell_text2" width="30%" >CTL_RST: 0x01
            <div ="table_cell_text2">CTL_ADQ_M: 0x00</div>
            <div ="table_cell_text2">CTL_RANGE: 0x01</div>
            <div ="table_cell_text2">CTL_ADC_OS: 0x06</div>
            <div ="table_cell_text2">CTL_DBL_RATE: 0x01</div>
            <div ="table_cell_text2">ID_CH1_ID: <span style='color:cyan;'>ADC_CH_ID_1</span></div>
            <div ="table_cell_text2">ID_CH2_ID: <span style='color:cyan;'>ADC_CH_ID_2</span></div>
            <div ="table_cell_text2">ID_CH3_ID: <span style='color:cyan;'>ADC_CH_ID_3</span></div>
            <div ="table_cell_text2">ID_CH4_ID: <span style='color:cyan;'>ADC_CH_ID_4</span></div>
            </td>
            <td class="table_cell_text2" >Configure de ADC module to use oversampling of 64 values, working at 200KS/s and in a continuous acquisition mode.
            <div ="table_cell_text2">ADC channels output to the harmony bus are enabled by setting the corresponding value to each channel ID. These Id are defined in software, but same as the rest of ID's, can be defined in the config file.</div>
            <p></p></td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >DIGITALIO</td>
            <td class="table_cell_text2" width="30%" >DIO_STP_RST: 0x01
            </td>
            <td class="table_cell_text2" >Just in case. Reset the digitalIO module.
            <p></p></td>
        </tr>
    </body>
    </table>
    

    </br>
    <p></p>
    <h2 align="justify"><a name="A.4."></a>A.4. Settings for hardware trigger and
    partial acquisition in FIFO FPGA</h2>   

    <p class=Text><span lang=EN-GB style='font-weight:normal;font-style:normal'>Again
    this section is same as explained in section B.2 but with the different here
    that instead of manual generate the trigger with the IDGEN module, is the
    trigger input selected which triggers the IDGEN module, through the DigitalIO
    counter 0, to generate the ID that triggers the FPGA memory data saving.</span></p>

    <p></p>
    <table  border=1 frame=hsides rules=rows bordercolor="white"><caption>&nbsp;</caption>
    <tbody>
        <tr>
            <th class="table_cell_title" style="text-align:left;"> NFPGA Block </th>
            <th class="table_cell_title" style="text-align:left;"> Register: Value </th>
            <th class="table_cell_title" style="text-align:left;"> Description </th>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >ADCCORE</td>
            <td class="table_cell_text2" width="30%" >ID_CH1_ID: 0
            <div ="table_cell_text2">ID_CH2_ID: 0</div>
            <div ="table_cell_text2">ID_CH3_ID: 0</div>
            <div ="table_cell_text2">ID_CH4_ID: 0</div>
            </td>
            <td class="table_cell_text2" >Stop sending ADC data through the Harmony bus ADC output.<p></p></td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >MEMORY</td>
            <td class="table_cell_text2" width="30%" >CTL_SAVE: 0x00
            <div ="table_cell_text2">CTL_ONTRIGGER: 0x00 </div>
            </td>
            <td class="table_cell_text2" >Data saving in FPGA memory, disabled. <p></p></td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >AVERAGE_1</td>
            <td class="table_cell_text2" width="30%" >AVG_CTL_ENA: 0x03
            <div ="table_cell_text2">AVG_CTL_PRE_DIV: 0x00 </div>
            <div ="table_cell_text2">ID_CFG_ID_OUT: <span style='color:cyan;'>AVG_ID_1</span></div>
            <div ="table_cell_text2">ID_CFG_ID_IN: <span style='color:cyan;'>FIFO_ID_1</span> </div>
            <div ="table_cell_text2">ID_CFG_ID_IP: <span style='color:cyan;'>ADC_CH_ID_1</span> </div>
            </td>            
            <td class="table_cell_text2" rowspan="4">Configure average modules for the four channels in the same way.
            <div ="table_cell_text2"> </div>
            <div ="table_cell_text2">Average output for each channel is generated after receiving both negative and positive inputs, without shifting the output.</div>
            <div ="table_cell_text2"> </div>
            <div ="table_cell_text2">Configure positive input as the data coming from the ADC and the negative input is the data coming form the FIFO.</div>
            <div ="table_cell_text2"> </div>
            <div ="table_cell_text2">The Average output ID is fixed and is assigned from a table inside the NUC software, but can be defined in the config file.  </div>
            <p></p></td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >AVERAGE_2</td>
            <td class="table_cell_text2" width="30%" >AVG_CTL_ENA: 0x03
            <div ="table_cell_text2">AVG_CTL_PRE_DIV: 0x00 </div>
            <div ="table_cell_text2">ID_CFG_ID_OUT: <span style='color:cyan;'>AVG_ID_2</span></div>
            <div ="table_cell_text2">ID_CFG_ID_IN: <span style='color:cyan;'>FIFO_ID_2</span> </div>
            <div ="table_cell_text2">ID_CFG_ID_IP: <span style='color:cyan;'>ADC_CH_ID_2</span> </div>
            </td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >AVERAGE_3</td>
            <td class="table_cell_text2" width="30%" >AVG_CTL_ENA: 0x03
            <div ="table_cell_text2">AVG_CTL_PRE_DIV: 0x00 </div>
            <div ="table_cell_text2">ID_CFG_ID_OUT: <span style='color:cyan;'>AVG_ID_3</span></div>
            <div ="table_cell_text2">ID_CFG_ID_IN: <span style='color:cyan;'>FIFO_ID_3</span> </div>
            <div ="table_cell_text2">ID_CFG_ID_IP: <span style='color:cyan;'>ADC_CH_ID_3</span> </div>
            </td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >AVERAGE_4</td>
            <td class="table_cell_text2" width="30%" >AVG_CTL_ENA: 0x03
            <div ="table_cell_text2">AVG_CTL_PRE_DIV: 0x00 </div>
            <div ="table_cell_text2">ID_CFG_ID_OUT: <span style='color:cyan;'>AVG_ID_4</span></div>
            <div ="table_cell_text2">ID_CFG_ID_IN: <span style='color:cyan;'>FIFO_ID_4</span> </div>
            <div ="table_cell_text2">ID_CFG_ID_IP: <span style='color:cyan;'>ADC_CH_ID_4</span> </div>
            </td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >FIFO_1</td>
            <td class="table_cell_text2" width="30%" >MEM_CTL_ID_IN: <span style='color:cyan;'>ADC_CH_ID_1</span></div>
            <div ="table_cell_text2">MEM_CTL_ID_OUT: <span style='color:cyan;'>FIFO_ID_1</span> </div>
            <div ="table_cell_text2">FIFO_SIZE_SIZE: <span style='color:cyan;'>fifosize</span> </div>
            </td>            
            <td class="table_cell_text2" rowspan="4">Configure And Initialize FIFO modules for the 4 acquisition channels.
            <div ="table_cell_text2"> </div>
            <div ="table_cell_text2">The FIFO needs to be cleared first. To do that, FIFO_MAX_SIZE data, with value 0x00 is generated using the IDGEN module . The FIFO IN is configured with the same ID than is being generated with the ID GEN.</div>
            <div ="table_cell_text2"> </div>
            <div ="table_cell_text2">After this initialization, the FIFO input ID is the one coming from the ADC.</div>
            <div ="table_cell_text2"> </div>
            <div ="table_cell_text2">The FIFO output ID, same as the average ID is fixed by software, but can be externally defined in the config file</div>
            <div ="table_cell_text2"> </div>
            <div ="table_cell_text2">The FIFO size is calculated by dividing the acquisition time set between the acquisition need for one sample. The result is the number of samples to sore in the FIFO. In this configuration mode, the number of samples doesn't exceeds the FIFO MAXIMUM SIZE.</div>
            <p></p></td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >FIFO_2</td>
            <td class="table_cell_text2" width="30%" >MEM_CTL_ID_IN: <span style='color:cyan;'>ADC_CH_ID_2</span></div>
            <div ="table_cell_text2">MEM_CTL_ID_OUT: <span style='color:cyan;'>FIFO_ID_2</span> </div>
            <div ="table_cell_text2">FIFO_SIZE_SIZE: <span style='color:cyan;'>fifosize</span> </div>
            </td>            
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >FIFO_3</td>
            <td class="table_cell_text2" width="30%" >MEM_CTL_ID_IN: <span style='color:cyan;'>ADC_CH_ID_3</span></div>
            <div ="table_cell_text2">MEM_CTL_ID_OUT: <span style='color:cyan;'>FIFO_ID_3</span> </div>
            <div ="table_cell_text2">FIFO_SIZE_SIZE: <span style='color:cyan;'>fifosize</span> </div>
            </td>            
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >FIFO_4</td>
            <td class="table_cell_text2" width="30%" >MEM_CTL_ID_IN: <span style='color:cyan;'>ADC_CH_ID_4</span></div>
            <div ="table_cell_text2">MEM_CTL_ID_OUT: <span style='color:cyan;'>FIFO_ID_4</span> </div>
            <div ="table_cell_text2">FIFO_SIZE_SIZE: <span style='color:cyan;'>fifosize</span> </div>
            </td>            
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >DIGITALIO</td>
            <td class="table_cell_text2" width="30%" >DIGITALIO: <span style='color:red;'>trigger_input</span></div>
            <div ="table_cell_text2">DIO_STP_IOP: <span style='color:red;'>trigger_polarity</span> </div>
            </td>            
            <td class="table_cell_text2" >Configures the selected trigger input and its polarity
            <p></p></td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >SPI</td>
            <td class="table_cell_text2" width="30%" >For GPIO:
            <div ="table_cell_text2">ctl_spi_addr: 0x18</div>
            <div ="table_cell_text2">ctl_spi_addr: 0x19</div>
            <div ="table_cell_text2"><p></p></div>
            <div ="table_cell_text2">For High Speed I/O ports:</div>
            <div ="table_cell_text2">ctl_spi_addr: 0x1a</div>
            <div ="table_cell_text2"><p></p></div>
            <div ="table_cell_text2">Other register used to transmit/receive data though SPI:</div>
            <div ="table_cell_text2">ctl_tx, ctl_tx_data, ctl_tx_data_length, ctl_rx, ctl_rx_data_length, ctl_start, ctl_rx_data</div>
            </td>            
            <td class="table_cell_text2" >Configures the front end board port expanders to set the corresponding trigger input as input.
            <p></p></td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >DIGITALIO</td>
            <td class="table_cell_text2" width="30%" >CNT0_STP_OUT_ID: <span style='color:cyan;'>CNT0_ID</span>
            <div ="table_cell_text2">CNT0_STP_SIG: 0x00 </div>
            <div ="table_cell_text2">CNT0_STP_DIS: 0x07</div>
            <div ="table_cell_text2">CNT0_STP_TRIG: 0x00</div>
            <div ="table_cell_text2">CNT0_STP_SRC: span style='color:red;'>trigger_input</span></div>
            <div ="table_cell_text2">TRG0_V_CNT_V: 0x01</div>
            <div ="table_cell_text2">CNT0_V_CNT_V: 0x00</div>
            </td>
            <td class="table_cell_text2" >Confiure Counter 0 to count voltage changes in the selected trigger input. The trigger counter is set to 1, so once a trigger input is received the corresponding CNT0_ID is generated.
            <p></p></td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >IDGEN</td>
            <td class="table_cell_text2" width="30%" >ID_GEN_CTL_ETI: 0x01
            <div ="table_cell_text2">ID_GEN_CTL_CLKE: 0x01</div>
            <div ="table_cell_text2">DATA_GEN_DATA: 0x00</div>
            <div ="table_cell_text2">ID_GEN_CTL_TRIGGERID: <span style='color:cyan;'>CNT0_ID</span> </div>
            <div ="table_cell_text2">TS_ID_ID_OUT: <span style='color:cyan;'>IDGEN_ID</span> </div>
            <div ="table_cell_text2">WAIT_TIME: <span style='color:cyan;'>delay_value</span> </div>
            </td>
            <td class="table_cell_text2" >The configuration of the ID GEN module here is differente to the one when using software trigger. The IDGEN module is configured to send a data with value 0x00 and ID the IDGEN_ID each time the CNT0_ID is received. 
            <div ="table_cell_text2">The calculated trigger delay value is also applied and generated with the IDGEN module, by delaying the ID out which triggers the Memory data save.</div>
            <p></p></td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >DIGITALIO</td>
            <td class="table_cell_text2" width="30%" >CNT1_STP_OUT_: <span style='color:cyan;'>CNT1_ID</span> 
            <div ="table_cell_text2">CNT1_STP_SRC_ID: <span style='color:cyan;'>ADC_CH_ID_1</span> </div>
            <div ="table_cell_text2">CNT1_STP_SIG: 0x00</div>
            <div ="table_cell_text2">CNT1_STP_TRIG: 0x01</div>
            <div ="table_cell_text2">CNT1_STP_SRC: 0x0E</div>
            <div ="table_cell_text2">CNT1_V_CNT_V: 0x00</div>
            <div ="table_cell_text2">TRG1_V_CNT_V: <span style='color:cyan;'>fifosize</span> </div>
            <div ="table_cell_text2">DIS_STP_DIS1_ID: <span style='color:cyan;'>IDGEN_ID</span> </div>
            <div ="table_cell_text2">CNT1_STP_DIS: 0x01</div>
            <div ="table_cell_text2">DIS_STP_DIS1_M: 0x03</div>
            <div ="table_cell_text2">DIS_STP_WD1: 0x01</div>
            <div ="table_cell_text2">DIS_STP_DIS1_M: 0x02</div>
            </td>
            <td class="table_cell_text2" >Configure Counter 1 to count ADC1 samples generated in the harmony bus, when n the number of samples matches the value of the fifosize set, then it generates the corresponding out ID set, which is in this case the CNT1_ID.
            <div ="table_cell_text2">This counter is disabled at the beginning of the acquisition and starts to count when the IDGEN_ID is received.</div>
            <p></p></td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >MEMORY</td>
            <td class="table_cell_text2" width="30%" >CTL_TRIGID: <span style='color:cyan;'>CNT1_ID</span>
            <div ="table_cell_text2">CTL_IDMASK: <span style='color:cyan;'>maskval</span></div>
            <div ="table_cell_text2">CTL_ID: <span style='color:cyan;'>AVG_ID_1</span></div>
            </td>
            <td class="table_cell_text2" >Memory trigger and mask are configured. The resulting number is combination of the four AVERAGE channels Id, which contains the ADC data we want to store.. 
            <div ="table_cell_text2">The trigger to store data corresponds to the output of the Counter 1.</div>
            <div ="table_cell_text2">The maskval is the result of an or operation between AVG_ID_1, AVG_ID_2, AVG_ID_3, AVG_ID_4, IDGEN_ID and CNT1_ID</div>
            <p></p></td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >AVERAGE_1</td>
            <td class="table_cell_text2" width="30%" >AVG_CTL_WB_RST: 0x01</td>
            <td class="table_cell_text2" rowspan="4">Before enabling the ADC module, the AVERAGE modules need to be reset.
            <p></p></td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >AVERAGE_2</td>
            <td class="table_cell_text2" width="30%" >AVG_CTL_WB_RST: 0x01</td>
            <p></p></td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >AVERAGE_3</td>
            <td class="table_cell_text2" width="30%" >AVG_CTL_WB_RST: 0x01</td>
            <p></p></td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >AVERAGE_4</td>
            <td class="table_cell_text2" width="30%" >AVG_CTL_WB_RST: 0x01</td>
            <p></p></td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >MEMORY</td>
            <td class="table_cell_text2" width="30%" >CTL_ONTRIGGER: 0x01
            <div ="table_cell_text2">CTL_RST: 0x01</div>
            <div ="table_cell_text2">CTL_SAVE: 0x01</div>
            </td>
            <td class="table_cell_text2" >Enable data saving in FPGA memory
            <p></p></td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >ADCCORE</td>
            <td class="table_cell_text2" width="30%" >CTL_RST: 0x01
            <div ="table_cell_text2">CTL_ADQ_M: 0x00</div>
            <div ="table_cell_text2">CTL_RANGE: 0x01</div>
            <div ="table_cell_text2">CTL_ADC_OS: 0x06</div>
            <div ="table_cell_text2">CTL_DBL_RATE: 0x01</div>
            <div ="table_cell_text2">ID_CH1_ID: <span style='color:cyan;'>ADC_CH_ID_1</span></div>
            <div ="table_cell_text2">ID_CH2_ID: <span style='color:cyan;'>ADC_CH_ID_2</span></div>
            <div ="table_cell_text2">ID_CH3_ID: <span style='color:cyan;'>ADC_CH_ID_3</span></div>
            <div ="table_cell_text2">ID_CH4_ID: <span style='color:cyan;'>ADC_CH_ID_4</span></div>
            </td>
            <td class="table_cell_text2" >Configure de ADC module to use oversampling of 64 values, working at 200KS/s and in a continuous acquisition mode.
            <div ="table_cell_text2">ADC channels output to the harmony bus are enabled by setting the corresponding value to each channel ID. These Id are defined in software, but same as the rest of ID's, can be defined in the config file.</div>
            <p></p></td>
        </tr>
        <tr>
            <td class="table_cell_text2_title" style="vertical-align: top;" width="15%" >DIGITALIO</td>
            <td class="table_cell_text2" width="30%" >DIO_STP_RST: 0x01
            </td>
            <td class="table_cell_text2" >Just in case. Reset the digitalIO module.
            <p></p></td>
        </tr>
    </body>
    </table>

    </br>
    <div class="info" id="contact"><a class="info" href="http://www.cells.es/es">ALBA Synchrotron</a> - By Computing Div. <a class="info"  href="mailto:controls@cells.es">controls@cells.es</a></div>
    </br>
    
</body>
</html>
